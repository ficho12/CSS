(this.dmpJsonp=this.dmpJsonp||[]).push([["endscreen"],{"6kbM":function(e,n,t){"use strict";function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach(function(n){d()(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}t.d(n,"a",function(){return g});var a=t("J4zp"),i=t.n(a),c=t("lSNA"),d=t.n(c),s=function e(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.callInitial,a=void 0!==o&&o,i="loading",c=p({attributes:{"aria-hidden":!0,tabIndex:-1},style:{display:"block",position:"absolute",top:0,left:0,height:"100%",width:"100%",overflow:"hidden","pointer-events":"none","z-index":-1},DOMInserter:e=>n.appendChild(e),onload:e=>{"loading"===i&&(i="loaded",e.contentDocument.defaultView.addEventListener("resize",t))}}),d=()=>{"loaded"===i&&c.contentDocument.defaultView.removeEventListener("resize",t),n.removeChild(c),i="removed"};return a&&t(),d},l=(e,n)=>Object.keys(e).forEach(t=>{var r=e[t];"style"===t&&"object"==typeof r&&(r=u(r)),n.setAttribute(t,r)}),u=e=>Object.keys(e).reduce((n,t,r)=>(r>0&&(n+=" "),n+="".concat(t,": ").concat(e[t],";"),n),""),p=e=>{var n=e.attributes,t=void 0===n?{}:n,r=e.style,a=void 0===r?{}:r,i=e.DOMInserter,c=e.onload,d=void 0===c?()=>{}:c,s=document.createElement("iframe");l(o({scrolling:"no"},t,{style:o({border:"none"},a)}),s),i(s);var u='<body onload="window.onBodyLoaded(document)" style="margin:0"></body>';return s.contentWindow.document.open().write(u),s.contentWindow.onBodyLoaded=e=>d(s,e),s.contentWindow.document.close(),s},h=(e,n)=>{var t=t=>{var r=t.find(n=>n.target===e);n(r,t)},r;if(b){var o=new ResizeObserver(t);return o.observe(e),()=>{o.unobserve(e)}}var a=[];return s(e,()=>{var n=e.getBoundingClientRect(),o={target:e,contentRect:n},i=a.find(n=>n.target===e);i&&a.splice(a.indexOf(i),1),a.push(o),window.cancelAnimationFrame(r),r=window.requestAnimationFrame(()=>{var e=a.slice();a.length=0,t(e)})},{callInitial:!0})},b=Boolean(ResizeObserver),g=(e,n)=>{var t=n.cssVariableNameForElementHeight,r=void 0===t?"":t,o=n.cssVariableNameForElementWidth,a=void 0===o?"":o,i=n.heightBreakPoints,c=n.widthBreakPoints,d=n=>{v(e,n,i),r&&e.style.setProperty("--".concat(r),n)},s=n=>{v(e,n,c),a&&e.style.setProperty("--".concat(a),n)};return h(e,()=>{Object.keys(i).forEach(n=>{e.classList.remove(n)}),Object.keys(c).forEach(n=>{e.classList.remove(n)}),e.offsetWidth;var n=e.getBoundingClientRect();d(n.height),s(n.width)})},v=(e,n,t)=>{Object.keys(t).forEach(r=>{var o=i()(t[r],2),a=o[0],c=o[1];n>=a&&n<c?e.classList.add(r):e.classList.remove(r)})}},"J/cs":function(e,n,t){"use strict";function r(e){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];try{return Promise.resolve(e.apply(this,n))}catch(r){return Promise.reject(r)}}}t.d(n,"a",function(){return g});var o=t("2mXy"),a=t("MOxe"),i=t("/MKj"),c=t("fvjX"),d=t("peh1"),s=t.n(d),l=t("7e/9"),u=t("sIxa"),p=r(function(){return t.e("carousel").then(t.bind(null,"VCw0")).then(u.a)}),h=Object(d.createStructuredSelector)({}),b=e=>{var n=e.carouselTitle,t=e.carouselCards,r=e.autonextRunning,i=e.onCarouselScroll,c=e.onCarouselClick,d=e.onCardClick,s=e.onCardFirstDisplay,l=e.triggerLoad,u=e.chunk;if(Object(a.d)(()=>{l()},[]),!u.loaded||0===t.length)return Object(o.h)("div",{className:"np-carousel-placeholder"});var p=u.value.CarouselView;return Object(o.h)(p,{carouselTitle:n,carouselCards:t,autonextRunning:r,onCarouselScroll:i,onCarouselClick:c,onCardClick:d,onCardFirstDisplay:s})},g=Object(c.compose)(Object(i.connect)(h),e=>Object(l.a)(e,{load:p}))(b)},oGUM:function(e,n,t){var r=t("JPst");n=r(!1),n.push([e.i,".np_endscreen{background:rgba(0,0,0,0.8);color:#fff;display:flex;flex-direction:column;height:100%;justify-content:center;position:relative}.np_endscreen-header{align-items:center;display:flex;justify-content:space-between;width:100%;line-height:1;height:48px;padding:0 12px;position:relative;z-index:1}.np_endscreen.height-tiny .np_endscreen-header,.np_endscreen.width-tiny .np_endscreen-header{display:none}.np_endscreen.height-large .np_endscreen-header,.np_endscreen.width-large .np_endscreen-header{line-height:1;height:64px;padding:0 16px}.np_endscreen-title{font-size:16px;line-height:1.2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;margin-right:8px}.np_endscreen.height-large .np_endscreen-title,.np_endscreen.width-large .np_endscreen-title{font-size:20px;line-height:1.2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;margin-right:16px}.np_endscreen-avatar{height:24px;width:24px;margin-right:12px}.np_endscreen.height-large .np_endscreen-avatar,.np_endscreen.width-large .np_endscreen-avatar{height:32px;width:32px;margin-right:16px}.np_endscreen-header-button{margin-left:auto}.np_endscreen .np_endscreen-header-button svg{height:24px;width:24px}.np_endscreen .np_endscreen-header-button--replay svg{padding:2px}.np_endscreen.width-large .np_endscreen-header-button svg{height:32px;width:32px}.np_endscreen.width-large .np_endscreen-header-button--replay svg{padding:3px}.np_endscreen .np_carousel{position:relative;top:-8px}.np_endscreen .np_carousel.height-s{top:-12px}.np_endscreen.width-large .np_carousel.height-s,.np_endscreen.height-large .np_carousel.height-s{top:-16px}.np_endscreen.height-tiny .np_carousel,.np_endscreen.width-tiny .np_carousel{top:0px}.np_Player .np_endscreen .np_carousel .np_carousel-card-content{margin:0 2px}.np_Player .np_endscreen .np_carousel .np_carousel-list::before,.np_Player .np_endscreen .np_carousel .np_carousel-list::after{min-width:6px}.np_Player .np_endscreen.width-large .np_carousel .np_carousel-card-content,.np_Player .np_endscreen.height-large .np_carousel .np_carousel-card-content{margin:0 4px}.np_Player .np_endscreen.width-large .np_carousel .np_carousel-list::before,.np_Player .np_endscreen.width-large .np_carousel .np_carousel-list::after,.np_Player .np_endscreen.height-large .np_carousel .np_carousel-list::before,.np_Player .np_endscreen.height-large .np_carousel .np_carousel-list::after{min-width:8px}.np_Player .np_endscreen.height-tiny .np_carousel .np_carousel-list::before,.np_Player .np_endscreen.width-tiny .np_carousel .np_carousel-list::after{min-width:6px}\n",""]),e.exports=n},xVX1:function(e,n,t){"use strict";t.r(n),t.d(n,"Endscreen",function(){return ce}),t.d(n,"__EXPORTED_CSS__",function(){return pe});var r=t("J4zp"),o=t.n(r),a=t("2mXy"),i=t("MOxe"),c=t("L8Qz"),d=t("/MKj"),s=t("peh1"),l=t("idq+"),u=t("s9Tm"),p=t("6kbM"),h=t("VfPQ"),b=t("vGkh"),g=t("iiVM"),v=t("6kjv"),_=!1,x=t("N2cw").injectSvgSymbol,y=function(){var e="dmp_EndReplay";return _||(x('<symbol fill="none" viewBox="0 0 28 28"><path fill="currentColor" d="M6.408 3.04a13.333 13.333 0 0116.807 1.322v-2.36a1.333 1.333 0 112.666 0v6c0 .736-.597 1.333-1.333 1.333h-6.04a1.333 1.333 0 110-2.666h3.2a10.733 10.733 0 102.96 7.333 1.333 1.333 0 012.667 0A13.333 13.333 0 116.408 3.04z"/></symbol>',e,"dmp_svg_sprites"),_=!0),e},m=t("xk4V"),O=t.n(m),j=t("i/kS"),f=t("Vv98"),w=t("5oup"),C=t("QzQr"),I,S=()=>{I=O()()},N=()=>{var e=Object(w.b)({screen:P(),action:{gesture:"click",ui_element:"replay_button",uuid:O()()}});Object(w.e)(e)},E=e=>{var n=e.videoXid,t=e.videoIndex,r=Object(w.c)({screen:P(),component:{xid:n,type:"video",index:t}});Object(w.e)(r)},V=e=>{var n=e.videoXid,t=e.videoIndex,r={gesture:"click",referenced_type:"video",referenced_xid:n,ui_element:"carousel_card",uuid:O()()};Object(C.b)(r);var o=Object(w.b)({screen:P(),component:{xid:n,type:"video",index:t},action:r});Object(w.e)(o)},q=()=>{var e=Object(w.b)({screen:P(),action:{gesture:"click",ui_element:"close_button",uuid:O()()}});Object(w.e)(e)},A=e=>{var n=e.videoXid,t={gesture:"auto_next",referenced_type:"video",referenced_xid:n,uuid:O()()};Object(C.b)(t);var r=Object(w.b)({screen:P(),action:t});Object(w.e)(r)},P=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(f.b)().getState(),t=j.a.getExternalNeonData(),r=t.screen;return r||{id:I,name:"end_screen",xid:Object(h.o)(n)}},k=Object(s.createStructuredSelector)({metadataTitle:h.T,reloadVideo:b.E,metadataLanguage:h.v,metadataOwnerAvatars:h.z}),L={reloadVideo:b.E},F=e=>{var n=e.metadataTitle,t=e.metadataLanguage,r=e.metadataOwnerAvatars,o=e.reloadVideo,i=r[60];return Object(a.h)(a.Fragment,null,Object(a.h)("img",{className:"np_endscreen-avatar",src:i,alt:""}),Object(a.h)("div",{className:"np_endscreen-title",lang:t},n),Object(a.h)("button",{className:"np_button np_endscreen-header-button np_endscreen-header-button--replay",title:g.a.__("neon:::Replay"),onClick:()=>{N(),o()}},Object(a.h)(v.a,{Icon:y})))},R=Object(d.connect)(k,L)(F),z=!1,M=t("N2cw").injectSvgSymbol,B=function(){var e="dmp_Cross";return z||(M('<symbol viewBox="0 0 32 32"><path d="M24.276 7.724a1.333 1.333 0 00-1.886 0L16 14.114l-6.39-6.39A1.333 1.333 0 107.723 9.61l6.39 6.39-6.39 6.39a1.333 1.333 0 101.885 1.886l6.39-6.39 6.391 6.39a1.333 1.333 0 001.886-1.885L17.886 16l6.39-6.39c.52-.521.52-1.365 0-1.886z" fill="#fff"/></symbol>',e,"dmp_svg_sprites"),z=!0),e},X=e=>{var n=e.autonextRunning,t=e.onCancelAutonext,r=Object(i.j)(n.seconds),c=o()(r,2),d=c[0],s=c[1];return Object(i.d)(()=>{var e=setInterval(()=>{s(e=>e-1)},1e3);return()=>{clearInterval(e)}},[]),Object(a.h)(a.Fragment,null,Object(a.h)("div",{className:"np_endscreen-title"},g.a.__("neon:::Up next in %seconds%",{seconds:d})),Object(a.h)("button",{className:"np_button np_endscreen-header-button",title:g.a.__("neon:::Cancel autonext"),onClick:()=>{q(),t()}},Object(a.h)(v.a,{Icon:B})))},T=Object(s.createStructuredSelector)({isQueueAutoplayEnabled:u.a}),D=e=>{var n=e.isQueueAutoplayEnabled,t=e.onCancelAutonext,r=e.autonextRunning,o=e.children,c=Object(i.i)(null);return Object(i.f)(()=>{var e=Object(p.a)(c.current,{cssVariableNameForElementHeight:"endscreenHeight",cssVariableNameForElementWidth:"endscreenWidth",widthBreakPoints:{"width-tiny":[0,240],"width-large":[640,1/0]},heightBreakPoints:{"height-tiny":[0,135],"height-large":[360,1/0]}});return()=>{e()}},[]),Object(a.h)("div",{className:"np_endscreen",ref:c},Object(a.h)("div",{className:"np_endscreen-header"},Object(a.h)(Q,{isQueueAutoplayEnabled:n,autonextRunning:r,onCancelAutonext:t})),o)},Q=e=>{var n=e.isQueueAutoplayEnabled,t=e.autonextRunning,r=e.onCancelAutonext;return n&&t?Object(a.h)(X,{autonextRunning:t,onCancelAutonext:r}):Object(a.h)(R,null)},W=Object(d.connect)(T)(D),J=t("zmjU"),G=t("eeF7"),U=t("cGXy"),H=t("sNI+"),K=6e3,Y=Object(s.createStructuredSelector)({sequenceStepIsEnded:J.j,queueVideos:l.p,queueCurrentIndex:l.e,queueCurrentItemIsLast:u.d,queueCollectionXidForEventBus:u.c,queueModeForEventBus:u.e,queueSourceTypeIsPlaylist:l.n,settingsLoop:H.r,queueNextIndex:u.f}),Z={loadNextSequenceStarts:G.c,loadNextVideo:G.d},$=e=>{var n=e.onAutoNextWillStart,t=e.onAutoNextFailure,r=e.onAutoNextAborted,o=e.onAutoNext,a=e.autoNextAbortSignal,c=e.queueSourceTypeIsPlaylist,d=e.queueVideos,s=e.queueCurrentIndex,l=e.queueCurrentItemIsLast,u=e.queueCollectionXidForEventBus,p=e.queueModeForEventBus,h=e.settingsLoop,b=e.queueNextIndex,g=e.loadNextSequenceStarts,v=e.loadNextVideo;return Object(i.d)(()=>{if((!l||h)&&(!(d.length<1)||h)){var e=b,i=d[e].xid;n({seconds:6,nextVideoIndex:e,nextVideoId:i});var c=setTimeout(()=>{try{A({videoXid:i}),g(),v({id:i,interactionType:U.b,collectionXid:u,queueMode:p,refreshQueue:!1}),o()}catch(e){t()}},6e3),s=()=>{clearTimeout(c),r()};return a.onabort=s,()=>{clearTimeout(c)}}},[l,c,d,s,u,p,h]),null},ee=Object(d.connect)(Y,Z)($),ne=t("J/cs"),te=t("xvWd"),re=Object(s.createStructuredSelector)({isOnEndscreen:te.a,isQueueAutoplayEnabled:u.a,queueVideos:l.p,queueCurrentIndex:l.e,settingsLoop:H.r}),oe=e=>{var n=e.isOnEndscreen,t=e.isQueueAutoplayEnabled,r=e.queueVideos,d=e.queueCurrentIndex,s=e.settingsLoop,l=Object(i.j)(null),u=o()(l,2),p=u[0],h=u[1],b=h,g=()=>h(null),v=de(),_=o()(v,2),x=_[0],y=_[1],m=Object(c.a)(n);return Object(i.d)(()=>{!m&&n&&S()},[n,m]),Object(a.h)(a.Fragment,null,n?Object(a.h)(a.Fragment,null,t?Object(a.h)(ee,{autoNextAbortSignal:y,onAutoNextWillStart:b,onAutoNextFailure:g,onAutoNextAborted:g,onAutoNext:g}):null,Object(a.h)(W,{autonextRunning:p,onCancelAutonext:x},Object(a.h)(ne.a,{carouselCards:ae({queueVideos:r,autonextRunning:p,queueCurrentIndex:d,settingsLoop:s}),onCarouselScroll:x,onCarouselClick:x,onCardFirstDisplay:(e,n)=>{E({videoXid:e.video.xid,videoIndex:n})},onCardClick:(e,n)=>{V({videoXid:e.video.xid,videoIndex:n}),x()}}))):null)},ae=e=>{var n=e.queueVideos,t=e.autonextRunning,r=e.queueCurrentIndex,o=e.settingsLoop;return n.map((e,a)=>{var i=t&&t.nextVideoIndex===a,c=ie({queueVideos:n,queueCurrentIndex:r,videoIndexInQueue:a,nextVideoIndex:t?t.nextVideoIndex:null,settingsLoop:o});return{type:"video",cardClassName:i?"np_carousel-video--autonext":c?"np_carousel-video--next":"",cardShouldScrollIntoView:c,video:e}})},ie=e=>{var n=e.queueVideos,t=e.queueCurrentIndex,r=e.videoIndexInQueue,o=e.nextVideoIndex,a=e.settingsLoop,i=n.length-1,c=t<i,d=r===o,s=r===i;return c||a?d:s},ce=Object(d.connect)(re)(oe),de=()=>{var e=Object(i.i)();return e.current||(e.current=se()),e.current},se=()=>{var e={onabort:()=>{}},n=()=>{e.onabort()};return[n,e]},le=t("oGUM"),ue=t.n(le),pe=[{cssText:ue.a,styleId:"dmp-async-style-endscreen"}]}}]);