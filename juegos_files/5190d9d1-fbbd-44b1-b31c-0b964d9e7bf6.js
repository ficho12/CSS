(()=>{var t={924:t=>{function e(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=e=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),e(n)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0},264:(t,e,n)=>{t.exports=n(588)},588:(t,e,n)=>{t=n.nmd(t);var i=n(924),r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var r=e&&e.prototype instanceof A?e:A,a=Object.create(r.prototype),o=new D(i||[]);return a._invoke=function(t,e,n){var i=h;return function(r,a){if(i===v)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw a;return M()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=w(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var c=d(t,e,n);if("normal"===c.type){if(i=n.done?p:f,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}(t,n,o),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h="suspendedStart",f="suspendedYield",v="executing",p="completed",m={};function A(){}function g(){}function y(){}var b={};b[o]=function(){return this};var E=Object.getPrototypeOf,k=E&&E(E(P([])));k&&k!==n&&r.call(k,o)&&(b=k);var T=y.prototype=A.prototype=Object.create(b);function I(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(a,o,s,c){var u=d(t[a],t,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"===i(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(h).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}var a;this._invoke=function(t,i){function r(){return new e((function(e,r){n(t,i,e,r)}))}return a=a?a.then(r,r):r()}}function w(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,w(t,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=d(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,m;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:M}}function M(){return{value:e,done:!0}}return g.prototype=T.constructor=y,y.constructor=g,g.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(T),t},t.awrap=function(t){return{__await:t}},I(C.prototype),C.prototype[s]=function(){return this},t.AsyncIterator=C,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new C(l(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},I(T),u(T,c,"Generator"),T[o]=function(){return this},T.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=P,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),R(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;R(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:P(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}("object"===i(t)?t.exports:{});try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var a=e[i]={id:i,loaded:!1,exports:{}};return t[i](a,a.exports,n),a.loaded=!0,a.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";var t={};function e(){return e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},e.apply(this,arguments)}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function r(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function a(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function o(t){return function(t){if(Array.isArray(t))return i(t)}(t)||r(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}n.r(t),n.d(t,{deviceDetector:()=>vn,globalObject:()=>we});var d={TAGS:["smsh","smtag","smtags","smt"],RATIO:["smratio","smr","smrt"]},h="sm",f="client",v=[].concat(["4:3","16:9"],["76:135","163:288"]),p={DEFAULT:"d",INTEGRATION:"s"},m={VAST:"v",BANNER:"b"},A={VIDEO:"Video",SOCIAL:"SocialAd",SCROLLER:"Scroller",IMAGE:"AdImage",DISPLAY:"Display",PROGRAMMATIC_DISPLAY:"SSP",SURVEY:"Survey"},g=1,y=1,b=0,E="sm",k="cmpValues";function T(t){return void 0===t}var I=Object.prototype.toString;function C(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":I.call(t)}function w(t){return"[object Array]"===C(t)}function S(t,e){if(null!=t)if("object"!==l(t)&&(t=[t]),w(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}function R(t){return"function"==typeof t}function D(t){return null!==t&&("object"===l(t)||R(t))}function P(t){var e=l(t);return"string"===e||"object"===e&&null!=t&&!Array.isArray(t)&&"[object String]"===C(t)}function M(t){return"number"==typeof t}function O(t){return M(t)&&!Number.isNaN(t)}function x(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return null};try{return t()}catch(t){return e(t)}}function L(t){return R(t)?function(){return!t.apply(void 0,arguments)}:!t}function V(t,e){return function n(i){return function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];var c=[].concat(o(i),a);return c.length>=t?e.apply(void 0,o(c)):n(c)}}([])}function N(t){return V(t.length,t)}function F(t){if(!R(t))throw new Error("reverseArgs argument must be a function");return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.apply(void 0,o(n.reverse()))}}function U(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(!R(t))throw new Error("pipe requires at least one function argument");return function(){var e=t.apply(void 0,arguments);return n.reduce((function(t,e){return e(t)}),e)}}function B(){if(!arguments.length)throw new Error("compose requires at least one argument");return F(U).apply(void 0,arguments)}function W(t){if(Array.isArray(t))return t}function z(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function H(t,e){return W(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(t);!(o=(i=n.next()).done)&&(a.push(i.value),!e||a.length!==e);o=!0);}catch(t){s=!0,r=t}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(t,e)||a(t,e)||z()}function _(t){return D(t)&&!R(t)&&!w(t)}function G(t,n){if(w(n))return n.map(t);if(_(n))return Object.entries(n).reduce((function(n,i){var r=H(i,2),a=r[0],o=r[1];return e(n,s({},a,t(o,a)))}),{});throw new Error("Cannot apply map to ".concat(n))}function j(){var t=window;try{for(;t.parent&&t!==t.parent&&t.parent.location.href;)t=t.parent}catch(t){}return t}var Z=window;function Y(t){return"object"===("undefined"==typeof Node?"undefined":l(Node))?t instanceof Node:t&&"object"===l(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName}function K(t){return"object"===("undefined"==typeof HTMLElement?"undefined":l(HTMLElement))?t instanceof HTMLElement:t&&"object"===l(t)&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}function Q(t){if(!K(t))return{};var e=t.getBoundingClientRect(),n=e.top,i=e.left,r=e.width,a=e.height,o=function(){var t={},e=t.x,n=t.y;if(void 0!==Z.pageXOffset){var i="CSS1Compat"===(Z.document.compatMode||"")?Z.document.documentElement:Z.document.body;e=i.scrollLeft,n=i.scrollTop}else e=Z.pageXOffset,n=Z.pageYOffset;return{x:e,y:n}}(),s=o.x;return{top:o.y+n,left:s+i,width:r,height:a}}function q(t){var e=t.children,n=t.childNodes;return T(e)?Array.from(n).filter((function(t){return t.nodeType===Node.ELEMENT_NODE})):Array.from(e)}function X(t,e){t.addEventListener("click",e)}function J(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.type,n=void 0===e?"div":e,i=t.name,r=void 0===i?null:i,a=t.prefix,o=void 0===a?E:a,s=t.id,c=void 0===s?null:s,l=t.style,d=void 0===l?null:l,h=t.content,f=void 0===h?null:h,v=t.events,p=void 0===v?null:v,m=t.children,A=u({},t.attributes),g=Z.document.createElement(n),y=o?"".concat(o,"-"):"";if(r){var b="".concat(y).concat(r).concat(A.class?" ".concat(A.class):"");delete A.class,A=u({class:b},A)}return c&&(A=u({id:"".concat(y).concat(r?"".concat(r,"-"):"").concat(c)},A)),S(A,(function(t,e){"data"===e&&D(t)?S(t,(function(t,e){g.setAttribute("data-".concat(e),t)})):g.setAttribute(e,t)})),f&&(g.innerHTML=f),d&&ot(g,d),p&&S(p,(function(t,e){"click"===e?X(g,t):g.addEventListener(e,t)})),m&&$(g,m),g}function $(t,e){Y(t)&&e&&(w(e)?e:[e]).forEach((function(e){K(e)?t.appendChild(e):D(e)&&t.appendChild(J(e))}))}function tt(t){K(t)&&t.parentNode&&t.parentNode.removeChild(t)}function et(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.tagName,i=t.attributes,r=void 0===i?[]:i,a=t.childNodes,o=void 0===a?[]:a,s=document.createElement(n);return Array.from(r).forEach((function(t){var e=t.name,n=t.value;return s.setAttribute(e,n)})),e&&Array.from(o).forEach((function(t){var n=t.nodeType===Node.TEXT_NODE?t.cloneNode(e):et(t,e);s.appendChild(n)})),s}var nt=function(t){return t.replace(/\r?\n|\r/g,"").replace(/\s\s+/g," ").trim()};function it(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.overwrite,r=void 0!==i&&i,a=n.concat,o=void 0!==a&&a,s=n.wind,c=void 0===s?Z:s;if(!L(t)&&!L(P(e))){var u="".concat(E,"-").concat(t),l=c.document.getElementById(u),d=nt(e),h=function(t){if(t.styleSheet)t.styleSheet.cssText+=d;else{var e=c.document.createTextNode(d);t.appendChild(e)}return t},f=function(){return nt(l.textContent).includes(d)};if(l&&L(r))o&&L(f())&&h(l);else{r&&tt(l);var v=N($)(c.document.head),p={type:"style",attributes:{id:u,type:"text/css"}};B(v,h,J)(p)}}}function rt(t,e,n){var i,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(K(t)&&P(e)&&(n||r)&&(!r||!["add","remove"].includes(e)||(t.className="","remove"!==e))){var a=w(n)?n:[n];(i=t.classList)[e].apply(i,o(a))}}function at(t){return G((function(t,e){return function(t){return["line-height"].every((function(e){return L(t.includes(e))}))}(e)&&function(t){return["top","left","right","bottom","width","height","margin","padding","border"].some((function(e){return t.includes(e)}))}(e)&&O(t)?"".concat(t,"px"):t}),t)}function ot(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(K(t)){i&&t.removeAttribute("style");var r=at(n);e(t.style,r)}}function st(t){if(K(t)){var e=Z.getComputedStyle(t),n=t.clientWidth,i=t.clientHeight;return{height:i-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),width:n-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)}}return null}function ct(t,e){var n,i="inner".concat(e),r="client".concat(e);return t[i]?n=t[i]:t.document&&t.document.documentElement&&t.document.documentElement[r]&&(n=t.document.documentElement[r]),n}function ut(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;return ct(t,"Width")}function lt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;return ct(t,"Height")}function dt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.3,i=t.getBoundingClientRect?t.getBoundingClientRect():t,r=i.left,a=i.width,o=n*a,s=e?Z.screen.width:ut();return r+o<0||r+a>s+o}function ht(t){if(L(K(t)))return null;var e=t.getBoundingClientRect(),n=function t(e,n){var i=x((function(){return e.defaultView.frameElement}));if(L(i))return n;var r=i.getBoundingClientRect().top;return t(i.ownerDocument,n+r)}(Z.document,e.top),i=e.height+n,r=lt(j());return{isIntersecting:n>=0&&n<=r||i>=0&&i<=r,isInViewport:n>=0&&i<=r,isAbove:n>r,isBelow:i<0}}function ft(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}function vt(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pt(t){var e=[];return S(t,(function(t,n){if(null!==t&&!T(t)){var i=n,r=t;w(t)?i="".concat(n,"[]"):r=[t],S(r,(function(t){var n=t;!function(t){return"[object Date]"===C(t)}(t)?D(t)&&(n=JSON.stringify(t)):n=t.toISOString(),e.push("".concat(vt(i),"=").concat(vt(n)))}))}})),e.join("&")}function mt(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pt;if(!e)return t;var r=t;if(n=ft(e)?e.toString():i(e)){var a=t.indexOf("#");-1!==a&&(r=t.slice(0,a)),r+=(-1===t.indexOf("?")?"?":"&")+n}return r}var At=function(t){try{return decodeURIComponent(t)}catch(e){return t}},gt=function(t){return"string"==typeof t&&At(t)!==t};var yt={encode:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return L(e)&&gt(t)?t:encodeURIComponent(t)},decode:At};function bt(){var t={};function e(e,n){_(e)?"object"===l(t[n])&&"object"===l(e)?t[n]=bt(t[n],e):"object"===l(e)&&(t[n]=bt({},e)):t[n]=e}for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return i.forEach((function(t){S(t,e)})),t}function Et(t,e,n,i,r,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(i,r)}function kt(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function o(t){Et(a,i,r,o,s,"next",t)}function s(t){Et(a,i,r,o,s,"throw",t)}o(void 0)}))}}function Tt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function It(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ct(t,e,n){return e&&It(t.prototype,e),n&&It(t,n),t}var wt=n(264),St=n.n(wt);function Rt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";if(!P(t))return!1;var n={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i},i=n[e];return i&&i.test(t)}function Dt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!P(t))throw new Error("".concat(e," should be a valid non-empty string!"))}function Pt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!M(t))throw new Error("".concat(e," should be a number!"))}function Mt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!R(t))throw new Error("".concat(e," should be a function!"))}var Ot=function(){function t(){Tt(this,t),this.setMode(!1)}return Ct(t,[{key:"setMode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.debug=!0===t&&t}},{key:"log",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.type,n=void 0===e?"log":e,i=t.style,r=void 0===i?"font-weight: bold":i,a=t.args,s=void 0===a?[]:a;if(this.debug){var c,u="SM-".concat(n.toUpperCase(),":");null===(c=console[n]||console.log)||void 0===c||c.apply(console,["%c".concat(u),r].concat(o(s)))}}},{key:"info",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.log({type:"info",style:"color: blue; font-weight: bold",args:e})}},{key:"warning",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.log({type:"warn",args:e})}},{key:"warnDeprecation",value:function(){for(var t="\n*\n",e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.log({type:"warn",style:"font-weight: bold; color: #ff0000;",args:["Calling deprecated function ".concat(t)].concat(n,[t])})}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.log({type:"error",args:e})}}]),t}();var xt=new Ot;xt.wrapWithName=function(t){Dt(t,"loggerName");var e=t.toUpperCase();return{info:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return xt.info.apply(xt,["[".concat(e,"]")].concat(n))},error:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return xt.error.apply(xt,["[".concat(e,"]")].concat(n))},warning:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return xt.warning.apply(xt,["[".concat(e,"]")].concat(n))},warnDeprecation:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return xt.warnDeprecation.apply(xt,["[".concat(e,"]")].concat(n))}}};const Lt=xt;var Vt,Nt="random",Ft="referrerUrl",Ut="category",Bt="categoryEncode",Wt="gdprApplies",zt="consentString",Ht="width",_t="height",Gt="supplyChain",jt="targeting",Zt=(s(Vt={},Nt,"random"),s(Vt,Ft,"request.referrerurl"),s(Vt,Ut,"page_category"),s(Vt,Bt,"page_category.encode"),s(Vt,Wt,"gdpr"),s(Vt,zt,"gdpr_consent"),s(Vt,Ht,"request.width"),s(Vt,_t,"request.height"),s(Vt,Gt,"supply_chain"),s(Vt,jt,"VALUE"),Vt),Yt=/(\${)([\w_.()]+)(})/gi;function Kt(t){return T(t)||null===t}var Qt=Ft,qt=Bt,Xt=Nt;const Jt=function(t){var n=t.str,i=t.values,r=void 0===i?{}:i,a=t.pattern,o=void 0===a?Yt:a,c=t.macros,u=void 0===c?Zt:c;Dt(n);var l=function(t){var n;return e({},(s(n={},qt,yt.encode(t.category)),s(n,Qt,yt.encode(window.location.href,!0)),s(n,Xt,Math.abs(Math.floor(1e9*Math.random()))),n),t)}(r);return n.replace(o,(function(t,e,n){var i=Object.keys(u).find((function(t){return u[t]===n})),r=l[i];return Kt(r)?t:r}))};function $t(t){return P(t)&&""!==t}function te(t){return new Promise((function(e){try{Dt(t);var n=new Image(1,1);n.addEventListener("load",(function(){e(!0)})),n.addEventListener("error",(function(t){Lt.warning("",t),e(!1)})),n.src=t}catch(t){Lt.warning("",t),e(!1)}}))}function ee(t){return new Promise((function(e){try{Dt(t);var n=J({type:"script",attributes:{async:!0,src:t},events:{load:function(){e(!0)},error:function(t){Lt.warning("",t),e(!1)}}});$(document.body,n)}catch(t){Lt.warning("",t),e(!1)}}))}function ne(t){var e=t.ap,n=t.it,i=t.tp,r=t.pb,a=t.pos,s=t.loop,c=t.pbt,u=t.pbid,l=t.errorMsg,d=[].concat(o($t(e)?["ap=".concat(e)]:[]),o($t(n)?["it=".concat(n)]:[]),o($t(i)?["tp=".concat(i)]:[]),o(M(r)?["pb=".concat(r)]:[]),o(M(a)?["pos=".concat(a)]:[]),o(M(s)?["loop=".concat(s)]:[]),o($t(c)?["pbt=".concat(c)]:[]),o($t(u)?["pbid=".concat(u)]:[]),o($t(l)?["err=".concat(l)]:[])).join("&");return te("".concat("https://track.sunmedia.tv","/?").concat(d))}var ie="SCRIPT",re="IMAGE",ae="HTML",oe=/(\[ad\.)([\w]+)(])/gi,se={adSystem:"system",adTitle:"title",category:"category",advertiser:"advertiser",pricing:"pricing",adServingId:"servingid"};function ce(t){var e=t.data,n=t.macroValues,i=t.adDataValues,r=e;return r=Jt({str:r,values:n}),r=Jt({str:r,values:i,pattern:oe,macros:se})}function ue(t){return le.apply(this,arguments)}function le(){return(le=kt(St().mark((function t(e){var n,i,r,a,o,s,c,u,l,d,h,f,v;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.data,i=void 0===n?"":n,r=e.type,a=void 0===r?re:r,o=e.macroValues,s=void 0===o?{}:o,c=e.adDataValues,u=void 0===c?{}:c,Dt(i),d=(l={}).jsElements,h=l.js,f=l.uri,v=document.createElement("div"),t.t0=a.toUpperCase(),t.next=t.t0===re?7:t.t0===ae?9:t.t0===ie?13:17;break;case 7:return f=ce({data:i,macroValues:s,adDataValues:u}),t.abrupt("return",te(f));case 9:return(v=document.createElement("div")).innerHTML=ce({data:i,macroValues:s,adDataValues:u}),document.body.appendChild(v),t.abrupt("break",18);case 13:return v.innerHTML=ce({data:i,macroValues:s,adDataValues:u}),(d=v.getElementsByTagName("script"))&&d.length>0&&(S(Array.from(d),(function(t){h=document.createElement("script"),t.src?h.src=t.src:window.eval(t.innerHTML)})),document.getElementsByTagName("head")[0].appendChild(h)),t.abrupt("break",18);case 17:throw new Error("Unknown data type.");case 18:return t.abrupt("return",!0);case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function de(t){return O(t)&&t>0}var he={OPPORTUNITY:{key:"opportunity",val:"op"},REQUEST:{key:"request",val:"req"},REQUEST_ERROR:{key:"requestError",val:"reqe"},MAX_REQUESTS_REACHED:{key:"maxRequestsReached",val:"maxreq"},EFFECTIVE:{key:"effective",val:"ef"},INVENTORY:{key:"inventory",val:"inv"},UNFILLED:{key:"unfilled",val:"unf"},START:{key:"start",val:"st"},IMPRESSION:{key:"impression",val:"imp"},FIRST_QUARTILE:{key:"firstQuartile",val:"fq"},MIDPOINT:{key:"midpoint",val:"mp"},THIRD_QUARTILE:{key:"thirdQuartile",val:"tq"},COMPLETE:{key:"complete",val:"co"},SKIP:{key:"skip",val:"sk"},CLICK:{key:"click",val:"clk"},MUTE:{key:"mute",val:"mu"},UNMUTE:{key:"unmute",val:"um"},PAUSE:{key:"pause",val:"pa"},REWIND:{key:"rewind",val:"rw"},PLAYER_EXPAND:{key:"playerExpand",val:"pe"},PLAYER_COLLAPSE:{key:"playerCollapse",val:"pc"},ACCEPT_INVITATION_LINEAR:{key:"acceptInvitationLinear",val:"ai"},TIME_SPENT_VIEWING:{key:"timeSpentViewing",val:"ts"},OTHER_AD_INTERACTION:{key:"otherAdInteraction",val:"oa"},PROGRESS:{key:"progress",val:"pr"},CREATIVE_VIEW:{key:"creativeView",val:"cv"},ACCEPT_INVITATION:{key:"acceptInvitation",val:"ac"},MINIMIZE:{key:"minimize",val:"mi"},CLOSE:{key:"close",val:"cl"},OVERLAY_VIEW_DURATION:{key:"overlayViewDuration",val:"ov"},VIEWABILITY:{key:"viewability",val:"vw"},ERROR:{key:"error",val:"err"},RESUMED:{key:"resumed",val:"rs"},CLOSE_MODE:{key:"closeMode",val:"mc"},NOVIEWABILITY:{key:"noviewability",val:"nvw"},AD_LOADED:{key:"adLoaded",val:"adl"},AD_STARTED:{key:"AdStarted",val:"adt"},AD_RESUMED:{key:"adResumed",val:"adr"},AD_STOPPED:{key:"adStopped",val:"ads"},AD_PLAYING:{key:"adPlaying",val:"adp"},AD_EXPAND:{key:"adExpand",val:"ad"},AD_COLLAPSE:{key:"adCollapse",val:"ao"},AD_SIZE_CHANGE:{key:"adSizeChange",val:"asz"},AD_EXPANDED_CHANGE:{key:"adExpandedChange",val:"aec"},AD_VIDEO_START:{key:"adVideoStart",val:"avs"},AD_VIDEO_COMPLETE:{key:"adVideoComplete",val:"avc"},AD_VOLUME_CHANGE:{key:"adVolumeChange",val:"avh"},AD_SECOND_CREATIVE_OPENED:{key:"AdSecondCreativeOpened",val:"asco"},AD_ELAPSED_TIME:{key:"AdElapsedTime",val:"aet"},NATIVE_REQUEST:{key:"nativeRequest",val:"nreq"},NATIVE_IMPRESSION:{key:"nativeImpression",val:"nimp"},NATIVE_UNFILLED:{key:"nativeUnfilled",val:"nunf"},NATIVE_CREATIVE_IMPRESSION:{key:"nativeCreativeImpression",val:"ncimp"},NATIVE_CREATIVE_UNFILLED:{key:"nativeCreativeUnfilled",val:"ncunf"},NATIVE_CREATIVE_CLICK:{key:"nativeCreativeClick",val:"ncclk"},PLAYER_IMPRESSION:{key:"playerImpression",val:"vimp"},CONTAINER_SIZE_ERROR:{key:"sizerr",val:"sizerr"},ALTERNATIVE:{key:"alternative",val:"alt"},REMINDER:{key:"reminder",val:"rem"}},fe={},ve={};function pe(t){return ve[t]}Object.keys(he).forEach((function(t){var e=he[t],n=e.key,i=e.val;fe[t]=n,ve[n]=i}));const me={Type:{UI:{PLAY_CLICKED:"UIPlayClicked",SKIP_CLICKED:"UISkipClicked",CLOSE_CLICKED:"UICloseClicked",RESTART_CLICKED:"UIRestartClicked",VOLUME_CHANGED:"UIVolumeChanged",FULLSCREEN_CHANGED:"UIFullscreenChanged"},SDK:{AD_PRELOAD:"SMAdPreload",AD_FACTORY:"SMAdFactory",AD_FACTORY_PROGRAMMATIC_DISPLAY:"SMAdFactorySSPVpaidSize",RESIZE_PROGRAMMATIC_DISPLAY:"SMResizeProgrammaticDisplay",NO_MORE_TAGS:"SMNoMoreTags",REQUEST:"SMRequest",REQUEST_ERROR:"SMRequestError",MAX_REQUESTS_REACHED:"SMMaxRequestsReached",UPDATE_OPTIONS:"SMUpdateOptions",BROADCAST:"SMBroadcast",CLOSE:"SMClosed"},DWH:e({},fe),VAST:{IMPRESSION:"impression",CLICK_TRACKING:"clickTracking",ERROR:"error",VIEWABLE:"viewable",NOT_VIEWABLE:"notViewable",VIEWABILITY_UNDETERMINED:"viewabilityUndetermined",CREATIVE_VIEW:"creativeView",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",MUTE:"mute",UNMUTE:"unmute",PAUSE:"pause",REWIND:"rewind",RESUME:"resume",SKIP:"skip",CLOSE:"close",CLOSE_LINEAR:"closeLinear",FULLSCREEN:"fullscreen",EXIT_FULLSCREEN:"exitFullscreen",EXPAND:"expand",COLLAPSE:"collapse",PLAYER_EXPAND:"playerExpand",PLAYER_COLLAPSE:"playerCollapse",USER_INTERACT:"userInteract"},VPAID:{AD_LOADED:"AdLoaded",AD_STARTED:"AdStarted",AD_STOPPED:"AdStopped",AD_SKIPPED:"AdSkipped",AD_SKIPPABLE_STATE_CHANGE:"AdSkippableStateChange",AD_SIZE_CHANGE:"AdSizeChange",AD_LINEAR_CHANGE:"AdLinearChange",AD_DURATION_CHANGE:"AdDurationChange",AD_EXPANDED_CHANGE:"AdExpandedChange",AD_VOLUME_CHANGE:"AdVolumeChange",AD_IMPRESSION:"AdImpression",AD_VIDEO_START:"AdVideoStart",AD_VIDEO_FIRST_QUARTILE:"AdVideoFirstQuartile",AD_VIDEO_MIDPOINT:"AdVideoMidpoint",AD_VIDEO_THIRD_QUARTILE:"AdVideoThirdQuartile",AD_VIDEO_COMPLETE:"AdVideoComplete",AD_CLICK_THRU:"AdClickThru",AD_INTERACTION:"AdInteraction",AD_USER_ACCEPT_INVITATION:"AdUserAcceptInvitation",AD_USER_MINIMIZE:"AdUserMinimize",AD_USER_CLOSE:"AdUserClose",AD_PAUSED:"AdPaused",AD_PLAYING:"AdPlaying",AD_LOG:"AdLog",AD_ERROR:"AdError",AD_VIEWABILITY_VIEWABLE:"AdViewabilityViewable",AD_VIEWABILITY_NOT_VIEWABLE:"AdViewabilityNotViewable",AD_VIEWABILITY_UNDETERMINED:"AdViewabilityUndetermined"},FORMAT:{CREATED:"SMFormatCreated",ENGAGE:"SMFormatEngaged",CLICK:"SMFormatClicked",CLICK_ON_PLAY:"SMFormatClickedOnPlay",DESTROYED:"SMFormatDestroyed"}}};var Ae={CLIENT:0,SUNMEDIA:1},ge=[me.Type.DWH.OPPORTUNITY,me.Type.DWH.REQUEST,me.Type.DWH.EFFECTIVE,me.Type.DWH.UNFILLED],ye=function(){var t=kt(St().mark((function t(e,n,i,r){var a,o;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Lt.info("Firing tracking for ".concat(e," Default event")),!((a=n.filter((function(t){return e===t.event}))).length>0)){t.next=5;break}return o=G((function(t){return ue({type:t.type,data:t.data,macroValues:i,adDataValues:r})}),a),t.abrupt("return",Promise.all(o));case 5:return t.abrupt("return",[]);case 6:case"end":return t.stop()}}),t)})));return function(e,n,i,r){return t.apply(this,arguments)}}(),be=function(){function t(e){var n=this,i=e.it,r=e.app,a=e.pos,o=e.defaultTrackers;Tt(this,t),this.it=i,this.app=r,this.pos=a,this.defaultTrackers=[],S(o,(function(t){var e=t.event,i=t.type,r=t.data,a=pe(e);T(a)||n.defaultTrackers.push({event:a,type:i,data:r})})),this.loop=1,this.silent=!1,this.macroValues={},this.trackersLog=[],this.firedTrackerByName={},S(me.Type.DWH,(function(t){n.firedTrackerByName["".concat(t,"-").concat(1)]=0,n.firedTrackerByName["".concat(t,"-").concat(0)]=0}))}var e,n,i;return Ct(t,[{key:"setMode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.silent=t}},{key:"setLoop",value:function(t){T(t)||(this.loop=t)}},{key:"logTracker",value:function(t){this.trackersLog.push(t)}},{key:"hasBeenFired",value:function(t,e){return de(this.firedTrackerByName["".concat(t,"-").concat(e)])}},{key:"_fire",value:(i=kt(St().mark((function t(e){var n,i,r,a,o,s,c,l=arguments;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:{},i=l.length>2&&void 0!==l[2]?l[2]:{},r=l.length>3&&void 0!==l[3]?l[3]:{},a=n.tp,o=n.pb,this.firedTrackerByName["".concat(e,"-").concat(o)]+=1,this.logTracker(e),!1!==this.silent){t.next=10;break}return s=ne(u({loop:this.loop,pos:this.pos,ap:this.app,it:this.it},n)),c=ye(a,this.defaultTrackers,i,r),t.abrupt("return",Promise.all([s,c]).then((function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return[t].concat(n)})));case 10:return t.abrupt("return",Promise.resolve([]));case 11:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"_fireOnlyOnce",value:(n=kt(St().mark((function t(e,n,i,r){var a;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n.pb,this.firedTrackerByName["".concat(e,"-").concat(a)]){t.next=3;break}return t.abrupt("return",this._fire(e,n,i,r));case 3:return t.abrupt("return",Promise.reject());case 4:case"end":return t.stop()}}),t,this)}))),function(t,e,i,r){return n.apply(this,arguments)})},{key:"fire",value:(e=kt(St().mark((function t(e){var n,i,r,a,o,s,c,u,l,d=arguments;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:{},i=pe(e),r=n.pb,!T(i)&&!T(r)){t.next=5;break}return t.abrupt("return",Promise.reject());case 5:if(a=n.pbt,o=n.pbid,s=n.macroValues,c=n.adDataValues,u=n.errorMsg,l={tp:i,pb:r,pbt:a,pbid:o,errorMsg:u},!ge.includes(e)){t.next=9;break}return t.abrupt("return",this._fireOnlyOnce(e,l,s,c));case 9:return t.abrupt("return",this._fire(e,l,s,c));case 10:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}],[{key:"create",value:function(e){var n=new t(e);return n.PB_CHOICES=Ae,n}}]),t}(),Ee=function(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!Rt(t))throw new Error("".concat(e," should be a valid UUID!"))}(t,"uuid")},ke=function(t){return Pt(t,"instanceIndex")},Te=function(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(null===t||T(t))throw new Error("".concat(e," is required!"))}(t,"instance")},Ie=function(t){if(!O(t)&&!$t(t))throw new Error('"api" should be a valid number or string!')},Ce=function(){function t(){Tt(this,t),this.wind=j(),this.wind.__sm__=this.wind.__sm__||{}}return Ct(t,[{key:"register",value:function(t){Te(t);var e=t.instanceIndex,n=t.config.it;Ee(n),ke(e),this.wind.__sm__.instances=this.wind.__sm__.instances||[];if(this.wind.__sm__.instances.some((function(t){return t.instanceIndex===e&&t.config.it===n})))throw new Error("Integration already exists");this.wind.__sm__.instances.push(t)}},{key:"removeByApi",value:function(t){Ie(t);this.wind.__sm__.instances=this.wind.__sm__.instances.filter(L((function(e){return e.api===t})))}},{key:"fetchInstancesOfPlugin",value:function(t){var e;return function(t){Dt(t,"platformPlugin")}(t),(null===(e=this.wind.__sm__.instances)||void 0===e?void 0:e.filter((function(e){return e.config.platformPlugin===t})))||[]}},{key:"fetchInstancesOfIntegration",value:function(t){var e;return Ee(t),(null===(e=this.wind.__sm__.instances)||void 0===e?void 0:e.filter((function(e){return e.config.it===t})))||[]}},{key:"fetchAllInstances",value:function(){return o(this.wind.__sm__.instances||[])}},{key:"fetchInstance",value:function(t,e){var n;return Ee(t),ke(e),null===(n=this.wind.__sm__.instances)||void 0===n?void 0:n.find((function(n){return n.config.it===t&&n.instanceIndex===e}))}},{key:"fetchInstanceByApi",value:function(t){var e;return Ie(t),null===(e=this.wind.__sm__.instances)||void 0===e?void 0:e.find((function(e){return e.api===t}))}},{key:"nextInstanceIndex",value:function(t){var e=this.fetchInstancesOfIntegration(t),n=0;return e.forEach((function(t){n=Math.max(t.instanceIndex+1,n)})),n}},{key:"getState",value:function(t){var e=this.wind.__sm__.store,n=void 0===e?{}:e;return n[t]?u({},n[t]):void 0}},{key:"setState",value:function(t,e){this.wind.__sm__.store=this.wind.__sm__.store||{},this.wind.__sm__.store[t]=u({},e)}}]),t}();var we=new Ce;var Se=V(2,G);var Re=V(2,(function(t,e){if(w(e))return e.filter(t);if(_(e))return Object.entries(e).reduce((function(e,n){var i=H(n,2),r=i[0],a=i[1];return u(u({},e),t(a,r)&&s({},r,a))}),{});throw new Error("Cannot apply filter to ".concat(e))}));function De(){}function Pe(t){return D(t)?Object.entries(t).map((function(t){var e=H(t,2);return s({},e[0],e[1])})):[]}function Me(t){if(!D(t))return t;var e,n,i,r,a,o;return w(t)?e=t.map((function(t){return Me(t)})):R(t)?(a=(r=t).__isClone?r.__clonedFrom:r,o=a.bind({}),S(a,(function(t,e){o[e]=t})),o.__isClone=!0,o.__clonedFrom=a,e=o):D(t)?(i=(n=t).constructor?new n.constructor:{},S(n,(function(t,e){i[e]=Me(t)})),e=i):e=JSON.parse(JSON.stringify(t)),e}function Oe(t,e){var n=(t||{}).callback;if($t(n)&&R(window[n]))try{Lt.info("Fire options callback",{callback:n,payload:e}),window[n](e)}catch(t){Lt.error("Fire options callback",{err:t})}}function xe(t){return Le.apply(this,arguments)}function Le(){return Le=kt(St().mark((function t(e){var n;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return[],n={},t.next=4,Promise.all(e.map((function(t){return t().catch((function(t){return Lt.error("calling service",t)}))})));case 4:return t.sent.forEach((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.key,i=t.data;P(e)&&D(i)&&(n[e]=i)})),t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)}))),Le.apply(this,arguments)}function Ve(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,i=new Promise((function(t,i){e=setTimeout((function(){i(new Error("Promise timed out in ".concat(n," ms")))}),n)}));return Promise.race([t,i]).then((function(t){return clearTimeout(e),t})).catch((function(t){throw clearTimeout(e),t}))}function Ne(t){return/^([a-z][a-z\d+-.]*:)?\/\//i.test(t)}function Fe(){var t={};function e(e,n){t[n]=_(e)?Fe(t[n],e):t[n]=e}for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return i.forEach((function(t){S(t,e)})),t}const Ue=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Tt(this,t),this.defaults=e}return Ct(t,[{key:"dispatchRequest",value:function(t){if(t.baseURL&&t.url&&!Ne(t.url)){var e=t.baseURL.replace(/\/+$/,""),n=t.url.replace(/^\/+/,"");t.url="".concat(e,"/").concat(n)}return t.headers=t.headers||{},S(t.transformRequest,(function(e){t.data=e(t.data,t.headers)})),t.headers=Fe(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),S(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||this.defaults.adapter)(t).then((function(e){return S(t.transformResponse,(function(t){e.data=t(e.data,e.headers)})),e}),(function(e){return e&&e.response&&S(t.transformResponse,(function(t){e.response.data=t(e.response.data,e.response.headers)})),Promise.reject(e)}))}},{key:"request",value:function(t){return t=P(t)?{url:t}:t||{},(t=Fe(this.defaults,t)).method=t.method?t.method.toLowerCase():"get",this.dispatchRequest(t)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request(Fe(e,{method:"GET",url:t}))}}]),t}();function Be(t){var e,n,i,r={$:(e=t,n=e.attributes,i={},S(n,(function(t){var e=t.name,n=t.value;i[e]=n})),i)},a=q(t);return a.length>0?S(a,(function(t){var e=t.tagName;r[e]=r[e]||[],r[e].push(Be(t))})):r._=t.textContent.trim(),r}function We(t){var e=t.firstChild;return s({},e.tagName,Be(e))}const ze=function(t){var e;return DOMParser?e=(new DOMParser).parseFromString(t,"text/xml"):((e=new window.ActiveXObject("Microsoft.XMLDOM")).async=!1,e.loadXML(t)),We(e)};function He(t,e){!T(t)&&T(t["Content-Type"])&&(t["Content-Type"]=e)}var _e=new Ue({adapter:function(t){return new Promise((function(e,n){var i=t.data,r=t.headers,a=new XMLHttpRequest,o=mt(t.url,t.params,t.paramsSerializer);if(a.open(t.method.toUpperCase(),o,!0),a.timeout=t.timeout,a.onreadystatechange=function(){if(a&&4===a.readyState&&(0!==a.status||a.responseURL&&0===a.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in a?a.getAllResponseHeaders():null,r={data:t.responseType&&"text"!==t.responseType?a.response:a.responseText,status:a.status,statusText:a.statusText,headers:i,config:t,request:a},o=r.config.validateStatus;!o||o(r.status)?e(r):n(new Error("Request failed with status code ".concat(r.status))),a=null}},a.onabort=function(){a&&(n(new Error("Request aborted")),a=null)},a.onerror=function(){n(new Error("Network Error")),a=null},a.ontimeout=function(){n(new Error("timeout of ".concat(t.timeout,"ms exceeded"))),a=null},"setRequestHeader"in a&&S(r,(function(t,e){T(i)&&"content-type"===e.toLowerCase()?delete r[e]:a.setRequestHeader(e,t)})),t.withCredentials&&(a.withCredentials=!0),t.responseType)try{a.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}void 0===i&&(i=null),a.send(i)}))},transformRequest:[function(t,e){return ft(t)?(He(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):D(t)?(He(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if(P(t))try{t=JSON.parse(t)}catch(t){}return t},function(t){if(P(t))try{t=ze(t)}catch(t){}return t}],timeout:0,maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}});_e.create=function(t){var e=bt(_e.defaults,t);return new Ue(e)};const Ge=_e;var je={};var Ze=Ge.create({transformResponse:[function(t){if(P(t))try{e=function(t){var e=[],n=t;return 0!==n.indexOf('"use strict"')&&(n="'use strict';".concat(n)),n=n.replace(/export default/,"exports.default =").replace(/export\s*\{([\s\S]*?)\}/gi,(function(t,e){var n="";return e.split(",").forEach((function(t){var e=t.trim().split(" as ");n+="exports.".concat(e[1]||e[0]," = ").concat(e[0],";")})),n})).replace(/export\s+(const|function|class|let|var)\s+(.+?)(?=(\(|\s|=))/gi,(function(t,n,i){return e.push(i)&&"".concat(n," ").concat(i)})),e.forEach((function(t){n+="exports.".concat(t," = ").concat(t,";")})),n}(t),n={},new Function("exports",e)(n),t=n}catch(t){}var e,n;return t}]});const Ye=function(t,e){return function(t){return/(https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/.test(t)}(t)?Ve(function(t){return je[t]?Promise.reject(je[t]):Ze.get(t).then((function(e){var n=e.data;return je[t]=n,n}))}(t),e):Promise.reject(new Error("Invalid url"))};function Ke(t,e){var n=P(t)?t.trim():null,i=function(t){return B(L,$t)(t)};if(i(n)||i(e))return Promise.resolve(null);var r="".concat("https://static.sunmedia.tv","/").concat(e,"/extras/").concat(n,"/extra.js");return Ye(r,"7000").then((function(t){return t.default||t})).catch((function(t){return Lt.error("Importing the extra",t),null}))}function Qe(t,e){var n=e.document.getElementsByTagName("script");return Array.from(n).find((function(e){return e.src.includes("".concat(t,".js"))}))}function qe(t,e){var n=e.excludeNodeTagNames,i=1,r=1,a=(t||{}).parentElement;return Array.from((null==a?void 0:a.children)||[]).forEach((function(e){var a=e.tagName.toLowerCase();n.includes(a)||(i+=1),e===t&&(r=i)})),r}function Xe(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;if(null==t||!t.it)throw new Error("Wrong arguments passed in");var i=null!=e&&e.parentElement?e:Qe(t.it,n);return i?{element:i,containerElem:i.parentElement,position:qe(i,t.options),macros:u({},i.dataset)}:null}var Je="1.0,1",$e=function(t){return"!".concat("sunmedia.tv",",").concat(t,",").concat("1",",").concat("",",").concat("",",").concat("")};function tn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Je;Dt(t,"publisherId"),Dt(e,"prefix");var n=$e(t);return"".concat(e).concat(n)}function en(t){var e,n,i=[];((n=navigator.userAgent||navigator.vendor||window.opera).indexOf("FBAN")>-1||n.indexOf("FBAV")>-1)&&i.push("FB");var r,a=(r=null==t||null===(e=t.main)||void 0===e?void 0:e.temp)?Math.round(r-273.15):r;return a&&i.push("T".concat(a)),i.length>0?i.join(","):null}function nn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rn(t,e){return rn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},rn(t,e)}function an(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rn(t,e)}function on(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?nn(t):e}function sn(t){return sn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},sn(t)}var cn=function(t){Dt(t,"Event name")},un=function(t){Mt(t,"Handler")};const ln=function(){function t(e){Tt(this,t),this.logger=e||Lt,this.listeners={}}return Ct(t,[{key:"on",value:function(t,e){cn(t),un(e);var n=this.listeners[t];n||(n=[],this.listeners[t]=n),n.push(e)}},{key:"once",value:function(t,e){var n=this;un(e);var i=function i(r){n.off(t,i),e.call(n,r)};this.on(t,i)}},{key:"off",value:function(t,e){cn(t),un(e);var n=this.listeners[t];if(n){var i=n.indexOf(e);n.splice(i,1),0===n.length&&delete this.listeners[t]}}},{key:"offAll",value:function(t){T(t)?this.listeners={}:(cn(t),this.listeners[t]=[],delete this.listeners[t])}},{key:"emit",value:function(t,e){var n=this;cn(t);var i=this.listeners[t];i&&i.forEach((function(t){try{t.call(n,e)}catch(t){n.logger.error({message:"Calling event listener",error:t})}}))}},{key:"hasListeners",value:function(t){return cn(t),w(this.listeners[t])&&this.listeners[t].length>0}}]),t}();var dn=function(){function t(e){Tt(this,t),this.wind=e||window,this.smuAgent=this.wind.navigator.userAgent.toLowerCase()}return Ct(t,[{key:"find",value:function(t){return-1!==this.smuAgent.indexOf(t)}},{key:"getBrowser",value:function(){return this.isIE()?"ie":this.isEdge()?"edge":this.isChrome()?"chrome":this.isFirefoxOS()?"firefox":this.isSafari()?"safari":this.isOpera()?"opera":this.smuAgent.match(/webkit/gi)?"webkit":this.smuAgent.match(/gecko/gi)?"gecko":null}},{key:"getOS",value:function(){return this.isWindows()?"windows":this.isMacOS()?"macos":this.isIOs()?"ios":this.isAndroid()?"android":this.isLinux()?"linux":this.isBlackberry()?"blackberry":this.isMeego()?"meego":null}},{key:"isDesktop",value:function(){return!this.isMobile()&&!this.isTablet()}},{key:"isMobile",value:function(){return this.isAndroidPhone()||this.isIPhone()||this.isIPod()||this.isWindowsPhone()||this.isBlackberryPhone()||this.isFirefoxOSAndroid()||this.isMeego()}},{key:"isTablet",value:function(){return this.isIPad()||this.isAndroidTablet()||this.isBlackberryTablet()||this.isWindowsTablet()}},{key:"isIOs",value:function(){return this.isIPhone()||this.isIPod()||this.isIPad()}},{key:"isIPhone",value:function(){return!this.isWindows()&&this.find("iphone")}},{key:"isIPod",value:function(){return this.find("ipod")}},{key:"isIPad",value:function(){return this.find("ipad")}},{key:"isAndroid",value:function(){return!this.isWindows()&&this.find("android")}},{key:"isAndroidPhone",value:function(){return this.isAndroid()&&this.find("mobile")}},{key:"isAndroidTablet",value:function(){return this.isAndroid()&&!this.find("mobile")}},{key:"isBlackberry",value:function(){return this.find("blackberry")||this.find("bb10")||this.find("rim")}},{key:"isBlackberryPhone",value:function(){return this.isBlackberry()&&!this.find("tablet")}},{key:"isBlackberryTablet",value:function(){return this.isBlackberry()&&this.find("tablet")}},{key:"isLinux",value:function(){return this.find("linux")}},{key:"isMacOS",value:function(){return this.find("macintosh")}},{key:"isWindows",value:function(){return this.find("windows")}},{key:"isWindowsPhone",value:function(){return this.isWindows()&&this.find("phone")}},{key:"isWindowsTablet",value:function(){return this.isWindows()&&this.find("touch")&&!this.isWindowsPhone()}},{key:"isFirefoxOS",value:function(){return this.find("firefox")}},{key:"isFirefoxOSAndroid",value:function(){return this.isFirefoxOS()&&this.find("android")}},{key:"isMeego",value:function(){return this.find("meego")}},{key:"isIE",value:function(){return this.find("msie")||this.find("trident")}},{key:"isEdge",value:function(){return this.find("edge/")||this.find("edg/")}},{key:"isChrome",value:function(){return(this.find("chrome")||this.find("crios"))&&/Google Inc/.test(navigator.vendor)&&!this.isOpera()}},{key:"isSafari",value:function(){return this.find("safari")&&!this.isOpera()}},{key:"isOpera",value:function(){return this.find("opera")||this.find("opr")}}]),t}();var hn,fn,vn=((fn=new dn(hn)).device=fn.isDesktop()?"desktop":"mobile",fn.browser=fn.getBrowser(),fn.os=fn.getOS(),fn);function pn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=sn(t);if(e){var r=sn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return on(this,n)}}var mn={get:function(t,e,n){return Reflect.has(t,e)?Reflect.get(t,e,n):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.emit.apply(t,[e].concat(i))}}},An=function(e){an(i,e);var n=pn(i);function i(t,e){var r;if(Tt(this,i),!t)throw new Error("A plugin is required!");return(r=n.call(this)).plugin=t,r.addMany(e),on(r,new Proxy(nn(r),mn))}return Ct(i,[{key:"addMany",value:function(t){var e=this;w(t)?t.forEach((function(t){var n=H(Object.entries(t)[0],2),i=n[0],r=n[1];e.add(i,r)})):S(t,(function(t,n){e.add(n,t)}))}},{key:"add",value:function(t,e){this.on(t,e)}},{key:"emit",value:function(e){for(var n=this,i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];var o=this.listeners[e];o&&o.forEach((function(i){i.call.apply(i,[null,n.plugin,t].concat(r)),Lt.info('Hook "'.concat(e,'" was called'))}))}}],[{key:"beforeCreate",value:function(e,n){var i=function(t){return R(t.beforeCreate)};return(e||[]).filter(i).forEach((function(e){return e.beforeCreate(n,t)})),e.filter(L(i))}}]),i}(ln);const gn=An;var yn=["true","1","yes"],bn=["false","0","no"];function En(t){if(!P(t))throw new Error("stringToBoolean expects one argument of type string");var e=t.toLowerCase().trim();return!!yn.includes(e)||!bn.includes(e)&&null}var kn=Ut,Tn=Wt;const In=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=u({},t);return null!=t&&t[kn]&&(e[kn]=yt.decode(t[kn])),null!=t&&t[Tn]&&(e[Tn]=En(t[Tn])?y:b),e};function Cn(t){return!0===t||!1===t||"[object Boolean]"===C(t)}const wn=function(t,e){if(L(!!Zt[t]))return!1;var n=$t(e)&&L(e.match(Yt)||"undefined"===e||"null"===e);return!L(n)&&(t!==Wt||!L(Cn(En(e))))};var Sn=function(){function t(e){var n=e.pluginFactory,i=e.config,r=e.services,a=e.components,o=e.genericExtras,s=e.currentScript,c=e.validateIntegration;Tt(this,t),this.app="smptf",this.pluginFactory=n,this.config=i,this.services=r,this.components=a,this.genericExtras=o,this.currentScript=s,this.validateIntegration=c,this.hooks=[]}var n,i;return Ct(t,[{key:"init",value:(i=kt(St().mark((function t(){var n,i;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.config&&Rt(this.config.it)){t.next=3;break}throw new Error("Invalid config");case 3:return t.next=5,xe(this.services);case 5:return n=t.sent,e(this.config,n),t.next=9,this.loadExtra();case 9:i=t.sent,this.hooks=this.setHooks(i),t.next=18;break;case 13:return t.prev=13,t.t0=t.catch(0),Oe(this.config.options,{status:"SunMediaEnd",ads:0}),Lt.error(t.t0),t.abrupt("return");case 18:try{this.hooks=gn.beforeCreate(this.hooks,this.config),this.validateIntegration(this.config),this.createPluginInstances()}catch(t){Lt.error(t)}case 19:case"end":return t.stop()}}),t,this,[[0,13]])}))),function(){return i.apply(this,arguments)})},{key:"loadExtra",value:(n=kt(St().mark((function t(){return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ke(this.config.options.extra,this.config.path));case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"setHooks",value:function(e){var n=this,i=e||{},r=B(function(t){if(!R(t))throw new Error("flatMap argument must be a function");return function(e){return e.flatMap(t)}}(Pe),Se((function(t){return t.hooks}))),a=r(this.components),s=this.config.options.genericExtras||i.generics||[],c=B(r,Se((function(t){return n.genericExtras[t]||{}})))(s),u=Pe(i.hooks),l=[{afterClose:t.onInstanceClose}];return[].concat(l,o(a),o(c),o(u))}},{key:"createPluginInstances",value:function(){var t=this,e=Xe(this.config,this.currentScript),n=null==e?void 0:e.element.getAttribute("data-publisher");n&&(this.config.publisher=n);var i=this.setMacroValues(null==e?void 0:e.macros);(this.config.integrationInstances||[{}]).forEach((function(n){var r=n.index,a=null;try{(a=t.createInstance(r,i,e)).hooksManager.addMany(t.hooks),a.hooksManager.beforeInit(),a.init()}catch(t){a&&R(a.close)&&a.close(),t.extra?Lt.info("Plugin stopped by extra"):Lt.error("Creating or Initializing the plugin instance",t)}}))}},{key:"setMacroValues",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Ut,i=Gt,r=jt,a=B(In,Re(F(wn)))(e),o=In(u((s(t={},n,this.config.category),s(t,i,tn(this.config.publisher)),s(t,r,en(this.config.geoTarget)),t),this.config.geoTarget)),c=u(u({},o),a);return Me(c)}},{key:"createInstance",value:function(t,e,n){var i,r=(new Date).getTime().toString(),a=Me(this.config),o=(i={app:this.app,it:a.it,pos:t,defaultTrackers:a.defaultTrackers},be.create(i)),s=this.pluginFactory.create({api:r,instanceIndex:t,config:a,appTrackingEvents:o,macroValues:e,integrationScript:n});return we.register(s),s}}],[{key:"onInstanceClose",value:function(t){try{we.removeByApi(t.api),Lt.info("Instance closed",t)}catch(t){Lt.error("On instance close",t)}}},{key:"create",value:function(e){var n=e.pluginFactory,i=e.config,r=void 0===i?{}:i,a=e.services,o=void 0===a?[]:a,s=e.components,c=void 0===s?[]:s,u=e.genericExtras,l=void 0===u?{}:u,d=e.currentScript,h=e.validateIntegration,f=void 0===h?De:h;return Lt.setMode(r.DEBUG),Lt.info("DEBUG",r.DEBUG),new t({pluginFactory:n,config:r,services:o,components:c,genericExtras:l,currentScript:d,validateIntegration:f})}}]),t}();const Rn=Sn;function Dn(t,e){var n=R(t)?t:function(){return t};return function(){return n.apply(void 0,arguments)?e.apply(void 0,arguments):void 0}}function Pn(t,e){return Object.entries(t).every((function(t){var n=H(t,2),i=n[0],r=n[1];return e[i]===r}))}var Mn={SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe"},On={SUBSCRIBE:"on",UNSUBSCRIBE:"off"},xn=function(t){return R(t[Mn.SUBSCRIBE])&&R(t[Mn.UNSUBSCRIBE])},Ln=function(t){var e=xn(t)?Mn:On,n=e.UNSUBSCRIBE;return{subscribeFn:t[e.SUBSCRIBE].bind(t),unsubscribeFn:t[n].bind(t)}};function Vn(t,e,n,i){return function(r){return function(a,o){if(!D(a))throw new Error("No listeners provided");var s=R(o),c=xn(i);S(a,(function(i,a){var u=function(){if(!c||!s||n[a]){s&&(c?delete n[a]:o(a));for(var r,u,l=e.logWrapper?Lt.wrapWithName(e.logWrapper):Lt,d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];if(l.info.apply(l,[a].concat(h)),e.emitHooks&&t.hooksManager)(r=t.hooksManager).emit.apply(r,["before".concat(a)].concat(h));if(i.apply(t,h),e.emitHooks&&t.hooksManager)(u=t.hooksManager).emit.apply(u,["after".concat(a)].concat(h));e.propagate&&t.emit&&t.emit.apply(t,[a].concat(h))}};r(a,u,t),n[a]=u}))}}}function Nn(t){if(!D(t))throw new Error("The context needs to be provided");return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!D(e))throw new Error("No emitter provided");var i={},r=Ln(e),a=r.subscribeFn,o=r.unsubscribeFn,s=Vn(t,n,i,e),c=s(a),u=function(t){o(t,i[t]),delete i[t]},l=function(t){return c(t,u)},d=function(){return Object.keys(i).forEach(u)},h=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return i[t]?i[t].apply(i,n):void 0};return{subscribe:c,subscribeOnce:l,unsubscribe:u,unsubscribeAll:d,emitEvent:h}}}function Fn(t){return P(t)?parseInt(t,10):t}function Un(t){return/^\d+\:\d+$/gm.test(t)}var Bn={width:function(t,e){var n=Fn(t);if(!O(n)||!Un(e))return null;var i=H(e.split(":"),2);return n*i[0]/i[1]},height:function(t,e){var n=Fn(t);if(!O(n)||!Un(e))return null;var i=H(e.split(":"),2),r=i[0];return n*i[1]/r},ratio:function(t,e){var n=Fn(t),i=Fn(e);if(!O(n)||!O(i))return null;var r=function(t){return Fn(t.toFixed(3))},a=function(t){return t*Math.pow(10,3)},o=function t(e,n){return 0===n?e:t(n,e%n)}(n=a(r(n)),i=a(r(i)));return"".concat(n/o,":").concat(i/o)}},Wn=function(t){return Bn[t]||function(){return null}};function zn(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0};Mt(n,"listener"),Dt(e,"event");var r=function r(){i()&&(t.removeEventListener(e,r),n())};return t.addEventListener(e,r),r}function Hn(t){return _n.apply(this,arguments)}function _n(){return(_n=kt(St().mark((function t(e){return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){setTimeout(t,e)})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Gn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.pow(10,e);return Math.round(t*n)/n}function jn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Zn(t,e,n){return Zn=jn()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&rn(r,n.prototype),r},Zn.apply(null,arguments)}var Yn=function(){function t(e){Tt(this,t),this.target=e}return Ct(t,[{key:"getTarget",value:function(){return this.target}},{key:"hasNativeSupport",value:function(){return!1}},{key:"createObserver",value:function(){throw new Error("Not implemented!")}},{key:"createInterval",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return setInterval(t,e)}},{key:"subscribe",value:function(t){var e,n;(Mt(t,"callback"),this.hasNativeSupport())?e=this.createObserver(t):e=function(t){return{disconnect:function(){clearInterval(t)}}}(this.createInterval(t));return n=e,{unsubscribe:function(){n.disconnect()}}}},{key:"subscribeOnce",value:function(t){Mt(t,"callback");var e=this.subscribe((function(){e.unsubscribe(),t()}));return e}}]),t}();function Kn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=sn(t);if(e){var r=sn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return on(this,n)}}var Qn="attributes",qn=function(t){an(n,t);var e=Kn(n);function n(){return Tt(this,n),e.apply(this,arguments)}return Ct(n,[{key:"hasNativeSupport",value:function(){return!0}},{key:"createObserver",value:function(t){var e=this.getTarget(),n=new MutationObserver((function(e){e.some((function(e){var n=e.attributeName,i=e.oldValue,r=e.type,a=e.target;return r===Qn&&i!==a[n]&&(t(),!0)}))}));return n.observe(e,{attributes:!0,childList:!1,subtree:!1,attributeFilter:["src"],attributeOldValue:!0}),n}}],[{key:"createObservable",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return Zn(n,e)}}]),n}(Yn),Xn={FLASH:/\/x-shockwave-flash/i,IMAGE:/^image\/(gif|jpeg|jpg|png)$/i,HTTPS:/^https:?\/\//i,VPAID:/vpaid/i,JS:/javascript/i},Jn=("".concat("https://services.sunmedia.tv","/spd/vpaid.js"),{ADFORM:"https://s1.adform.net/banners/scripts/video/VPAIDWrapper.min.js"}),$n="https://vast.adsafeprotected.com/vast?anId=925802",ti="videoplaza.tv",ei=20,ni=10,ii=5e3,ri="Reached maximum number of requests allowed (".concat(ii,")"),ai="sm-skip-cross",oi="sm-counter-number",si="\n@import url('https://fonts.googleapis.com/css?family=Lato');\n\n.sm-ui-container {\n    position: relative;\n    overflow: hidden;\n    min-height: 0;\n    height: 100%;\n    width: 100%;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    outline: none;\n    cursor: pointer;\n}\n\n.sm-ui-container .sm-media {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    z-index: 3;\n    display: none;\n}\n.sm-ui-container .sm-media.sm-visible {\n    display: block;\n}\n\n.sm-ui-container .sm-media .sm-video {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    margin: auto;\n    background-color: #000;\n    object-fit: contain;\n    visibility: hidden;\n}\n.sm-ui-container .sm-controls {\n    float: none;\n    cursor: pointer;\n    display: none;\n    z-index: 8;\n    position: absolute;\n    background-size: contain;\n    background-repeat: no-repeat;\n    box-sizing: border-box;\n}\n.sm-ad-container.sm-moving .sm-ui-container .sm-controls {\n    visibility: hidden;\n}\n.sm-ui-container .sm-controls.sm-visible {\n    display: block;\n}\n.sm-ui-container .sm-controls.sm-play {\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAABlCAMAAABjot39AAABCFBMVEUAAAD///////4AAAD+/v4yMjIAAAAAAAAAAAAAAAAAAAD5+fnw8PD+/fz9/fxoaGhbW1v7+/re3t7Q0NC8vLz8/Pz8+/v39/fy8vLt7e3s7Ozk5OTb29vJycmnp6eXl5d8fHxKSkoWFhb19fXh4eHW1tbAwMC6urqtra2fn5+MjIz4+Pj39/f19fXx8fHp6eno6Ojb29vU1NSvr6/0mDH//v7///7//////fz1oUL++PH97t73sGH0mzb96tX2pk31nTv//Pj+9u36zJj5w4X4vHn2q1X++vT+8eP848X73bv60aL5yZL3tWr1pEn+9Oj84cP727b72bL61Kn3uHD2rVr85sz85MlUJu7kAAAANHRSTlMm/f0A/C4kIRMKAuG9+PM6NumSe2bt7NTHuLKejnNXTEEyKdSZhGpjWlFH29XPwqynjYJcGlQq3QAAAipJREFUaN7t2mdu20AQhuHhiqpUtVpiy3Isl8ROT7apU122inty/5tk/WuQA3wEEvC9wANQs1pRGEokErlMmlClMzknOCWbImSp7KuSJXTZBOVShC6VowzBc0aa4DkjLi4uLu4fK5+nCDImXyJ4nhGfTwidp3qiXiNQrOympnhMmFiRy74SR6cEiRU5/q1EPkkcQnFtlHeGmgFWhrOJCN4Th1Bcz2vj8wygFLmc6sI5zwBIkfsbJd7yDIAUGT5Zr3lNLoTCzaz42CYOo8jnO+1XicCKHExNsZVEK7L7OgNllMLMgxXNEkrhtlYHH+CKXPREsQpX5KBvxAVckd2R8g9LKIWZWyW+lNGKHG5XptFGKdzc6splB6bwDCj/AK7I8UiLr2W0IoduBvLv0IoMNyvdOEEp3MLNQA2uyN1aFQ46aEUu3QwcwRX50jMBWhnOe+6RgZXwUZmgRiCFz794UwKfytnEPa0kQZX9vfL4bgYpu74Wh0mCKuHGisYPRiDKeKTE2RX4Flvc8YFHKd1HKyrHHazysnaH5JoIovBXivYv0L+Tb60IaoRVBlPt8yWMUcJZj1+TUMr4RolmmwiqLFa68K1EHEDpPk108ZI4hLL85Q4Jf+wYZW518bxMHEDZP0xMHf1vz2D094sxRNlaXf9+ShxAGd9bL/hJkFjpK753UXlGVKpohHzz6YrgtVoUFxcXF/e/FMluTzR7StHsXEWyPxbRLlw0e31/AII+8glq6EtVAAAAAElFTkSuQmCC');\n    transform: translateX(-50%);\n    z-index: 9;\n    left: 50%;\n    bottom: 1%;\n    height: 11%;\n    width: 0;\n    padding-right: 8%;\n    min-width: 30px;\n    min-height: 30px;\n    max-width: 45px;\n    max-height: 45px;\n\n}\n.sm-ui-container .sm-controls.sm-skip {\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANYAAABlCAMAAAAGY+3HAAAAWlBMVEUAAADf39/9/f2cnJytra1NTU36+vqoqKgAAAD4+Pj09PTr6+v5+fnOzs5/f3+ysrKjo6P8/Pz7+/vv7+/BwcH+/v7m5ubY2Nh2dnYAAAAAAAAAAABOTk7///9dlaOYAAAAHXRSTlMmk/NPWTTlVwDZya7heUFcUu3nvGr6oYU+IhMKNDuKZ8kAAAO3SURBVHja7ZzrjqsgEIAHEF1vaNVetlve/zWPlVqkI243h81pOfP9aBpsjF9mGAabAB8j50+Ihs/z1WjU+oLI+Bq14rMavUYtiJAPOEOEnCGianEnTimCIAiCIAiCIAiCIAjCIOsy1Vd4wRREgmRcLygaWMLGIQYWdOlFEal+4BCBluAaUb69lrxNqrJuRtgtcuzdtdik0Uu4UZvgqXd49g34ZAWW2qThe2s1c2ws5TQkX0wrYcn2NZyDuVtDJq3hxbTYvspgnazaszWtAhymssFeTCupNM/Wrbiukie0ir/QqnM9wvsaQpNxnWdr47nxxVpcAgZr2ZnHxfKS/SpyPZMOEBj8/H7bwda9bS1shbUER71KQHC2+XPzYp6kV99oYSusdbBWv+RV6S5xrTq9XkmYNpTD91oyt1ZYy1DUTTOUeqKBUFiLXbb03BlPzMVMBzPPlU8LWXm0+AATavppCqFJdrpqYaat9A5b3UNgyZnwaWErrMWFe9dfqIeV3gswiL3NQIzs9ZL0qLAWtsJabtZJbpqy0LT7uW4ko2ELGzSFdmASP7uxyiVsaJVo0kJ4xJh57dVvzEcB26hD6kQMZZq12tAanFs64Qs7v3bJ7fN7xNFOMlQXBJ9sJWxq4b3BEUJj4pTWqYnZM6i6v3s5HXzPzajY0sI9mLkanuSaWmnyo3dQ6cO+n2lL/hpaUP+8ysrSKFwetPjUOLyEluB6b+fJs5hMHFyt0hSN5gW0kk7zmqP+Au9LXKTzlobNOSlM1fjnWqLTnTCfW1q4xylMvj2uSEcz7NVKcSWsITjZFCcTs8w/90Yk1nKj1S/GG3+BV+jdgYDQtNU8qwRf9ocr7y3qTS37XXGbhkjrcZU6oPiF2nNltj/0xStdyUKJSsasaNMQa7nGoLj9adAViy86eI5WL6cgHN0xVOCZE8fBp6XLh32BCm+VOvut1ON14SgNBV6OmRMDLn1auriJiNy1DNYNpsmDp6czPGpjoe4DRlQhLVtjeq+W5uXQNHWpbU6Go81HB2yar9aNQhvwfwtYa16rh1Utrh24CGy113mCI5ijXdc8CzAl+LTknIZYi5WezU2wfXHr2VdmvibQhYFXC4Y5DbHWsi0+BM7AU6er1reSdacndseFAKz1kIb1qhaokk93OCoIzGnfed/Bd9xoIdSx/5v/xLF8eE6nH13CvKbWM5AWaUF0kNY7QVrvRKRaBEEQBEEQBEEQBEEQ/w1RHmD1GesZapGeeBfr+YTxeX19fER69ucfzEOOkuTWtYUAAAAASUVORK5CYII=');\n    top: 2%;\n    left: 0.7%;\n    width: 16%;\n    height: 10%;\n    min-width: 56px;\n    min-height: 26px;\n    max-width: 85px;\n    max-height: 40px;\n}\n.sm-ui-container .sm-controls.sm-skip-cross {\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF5GlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDUgNzkuMTY0NTkwLCAyMDIwLzEyLzA5LTExOjU3OjQ0ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjIuMSAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjEtMDItMDhUMDk6Mjc6MDcrMDE6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIxLTAyLTA4VDEyOjI2OjMyKzAxOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIxLTAyLTA4VDEyOjI2OjMyKzAxOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMSIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkRvdCBHYWluIDE1JSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo0OGMyMTEwZS1iYzQ2LTRhNzAtOWVkMy0zN2NjYTJhZDU3MTAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NWJiY2M0YjQtMjY1Zi00YzgyLWJiNWMtZjljNzEzNjRlNDZiIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NWJiY2M0YjQtMjY1Zi00YzgyLWJiNWMtZjljNzEzNjRlNDZiIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo1YmJjYzRiNC0yNjVmLTRjODItYmI1Yy1mOWM3MTM2NGU0NmIiIHN0RXZ0OndoZW49IjIwMjEtMDItMDhUMDk6Mjc6MDcrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMi4xIChNYWNpbnRvc2gpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo0OGMyMTEwZS1iYzQ2LTRhNzAtOWVkMy0zN2NjYTJhZDU3MTAiIHN0RXZ0OndoZW49IjIwMjEtMDItMDhUMTI6MjY6MzIrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMi4xIChNYWNpbnRvc2gpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pv9bcmgAAACdSURBVDiN7ZNLEoMgEERfUzmZ4KUjHE06C81GUPPZpFLOcmoezXSDzPsVPmAu6Cvotm0kZ0Yt6QkDwXfQoZKVmGxgBRukfz0likWggieitgMNVDBBickVnBnVnttRKswEJeRCFNRXIBAzXhdxZ2THcrlQlSj21oVdyJkokEZK5++o7S1JgTEg53PLB2eGFQmAFJ+RHSmd14+/8n+EHjIPOOda016cAAAAAElFTkSuQmCC');\n    top: 10px;\n    left: inherit;\n    right: 10px;\n    width: 20px;\n    height: 20px;\n    min-width: 20px;\n    min-height: 20px;\n}\n.sm-ui-container .sm-controls.sm-label {\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAABlCAMAAABjot39AAAAPFBMVEUAAADf398AAACysrL9/f35+fnr6+v39/fNzc1/f39NTU3BwcH09PTl5eWcnJzY2Njv7+8AAAAAAAD///+0QK99AAAAE3RSTlMmkwBc8uWu13hBNGrJoU+FvBMKsepXMwAAAd9JREFUaN7tmuuOwiAQRkGgFEpbdd7/XZdLKlBaV1BMdjPnj5eaHKYfHTCBXCw30o+bE1jLnfTlbi39JFFjLaQ71nEj3bEOBEEQBEEQBPlvMOpg5AWopdEiwSHJC4ClTbJAYOlqGSAwdLVwCPCelhEsvp6xo8W4MnxBpp9F+VJCOKqbZfbTK0y0uZtFAICIr6dP7bq8YZl8DVtNEynQM4eAYc2Wq89jy+dazkAOkbXRomJvkUf5j5BB2yyrH2L6NmMCDzfGRFVb9qBiWSLPhPtSWbx3TRbmw0gjYsUsHx5O2Wh5NJbYavalmOSzaLJocOjs/uhd9KyIqa1RFpWln2UZY9MiOeVDlfllWrajlkWS71eaJWtarCy+JXtJI7624YmFNVg4HME/axnhmPGjFnNiMZ+0KHDQHHCoxDK9aZmPtnoyXTJlsXzSaovYMiiyEskcFOUgqhdJ0Ic9Z0p+woqbXL1IXp9/zV0xer+hrs5+OilRJTHITaMH8NQukvzsUV3T7PgY/AICtdkPZ21H7P4OGGO4F9ZZGDjY8ytlf5gqLHHEv1e5iKz3VFk0nG9Y53yKa7p5zELqLIo61IvX2PrYwVILQRAEQRAEQZC/z3fOKV1If75zfuxLZ+G+c67vB3fdN7CN6+nmAAAAAElFTkSuQmCC');\n    top: 2%;\n    right: 1.5%;\n    height: 10%;\n    width: 0;\n    padding-right: 8%;\n    min-width: 25px;\n    min-height: 25px;\n    max-width: 40px;\n    max-height: 40px;\n}\n.sm-ui-container .sm-controls.sm-volume {\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAABlCAMAAABjot39AAAAvVBMVEUAAAD9/f38/Pz+/v7s7OwaGhr+/v739/cAAAD39/f9/f0wMDD8/Pz9/f37+/vNzc3Q0ND7+/vV1dX8/Pz5+fnw8PC9vb3Ly8uMjIxnZ2ff39/4+Pju7u7S0tL5+fnCwsL39/f19fXy8vLz8/NVVVVFRUX////v7+/Y2Njr6+usrKybm5t9fX0AAAAAAAAAAAD8/Pz19fXx8fHIyMg7Ozvn5+dycnLp6enb29u3t7elpaXi4uKxsbGXl5fk5ORvx7c5AAAAP3RSTlMm9uz4sir61gDY8i7t9Od4e+mC8eS+ZnRGOZPctn7ga9rTxso1Mf27hq1YTkAhEwrvzcFxL6I9p4thU5pcS5yLjhx7AAAEGElEQVRo3u2aaXPaMBCGtV5LrmXZxhcYbMx9kzaQkLPt//9ZNR3S8dE41MiZ6QzvJ5gxPKxWu6zeEfmS6usNaUo3X4+AlPKNNKtvKaUMkY9JKaRxpYyvpHGljBvSuFLGVVddddVV0kUHgzZpWtR1vNHpdWi/Hnr9dZdKp3S0+Vw5vW5PFM49YWnxcmNIZBh9Hedz7w9FcG4Cgun5C/tBGqWlITL2FkvYf1yMR77jpSRTGT115eTEHiLqAEo+vo0b6w5HFCN3KgFyjETvKCmlqO4gTkyGlrq+eCfYGqDukhOlqBfVB+TacnZZ4t0hotYy3qMQ2l44iP6qe1kkiHqLkAylqG5PA+aswvqRtHTEoWvkKGWtJx5T4vCSxGsdQj6gkE0smIi3Nbewjqi79GMKCVXBnMN93eXSbErOoJBt7LGkX7Pi9fSDZ1FIOAYcrf85EvsYSd84l0IGQ8bj6i7Q7qkFBT6ibhNSooRqZEWT3rqYBNpTmNWqpAQCoSBEzaV/owQcATw/aBUKcboHGFe2aJ/NixQ+6pwgxVgS4XFAcPYDI78gCTpuFUVBUAvqtclR5bzQWdg+7BwTQevRXCpVDpNSpyl/x/lPTAcLC5n/mkv3s4/OnURKqpmtAUty0RgBmLFEyumvGXA4yPVWgclWMoWsdwj7bCK6EXq2bAqxfSZ6uYoAUKVT7leAo2wwS46adApZW0xkd9XmllmGdAoJTDO7RIbDxEY+peXhMLuZI/Q68imhgk62MifAe/Ip1MfcEgXAH+VTSAS3z5m3MZirBigJeFnKohEKtfD2R27FzAZWLBTozBrPfssDPZ8m70465X5h8mxVzhwUP6RT2j5a2d/+0kSHmcUmjLPd8qmBbkmXTn6eoAGYK9mUtoYQZEN5SKraGFEYlEaYjyj0eQJMH+R2nMBoWzWPsepxrEyZLnXAaJl96H4PXK2eLatGyzLF6IwVxKhHiztu8C9zcpCcxuQyhXZf7JWmIOOjp2mueGITJtNaI3+ZshwJjyNDK/5emPp9dPo1jy9ligUA3AruCuX3cJzGu3WOYnqHlij9caIHTy+0+PxPwfxOPWdEc+mZFXUXMa7O6phiv72R8yg/xoC7F1JDtPP7kGycQQkDziKb1FP/ZF18fBJPm/FPo7Z5cbJhqinfF4Ip6sOlllI15XnHmbXaXm6P0fcpD68RMuewlWD1ueIdCr3bK4jJYSrDttT43ynrhXVsaO69FAsWGZYpXXtvAQP/cSPJTsb5XBTc0eViqJiIyq4zk2WN6/O59WYf9R+D3dAS3AQwnZ1bn1HuApE1fiuOsTBNQATzNlEHMyJT7Xb7D0Xh3q2wNLUVUtKUtvbr4WkQGuSqq6666qr/6t7NzSfdU/pCmtfn3B/7pLtwn3Ov7xeYwU213Se1GAAAAABJRU5ErkJggg==');\n    right: 1.5%;\n    bottom: 1.5%;\n    height: 10%;\n    width: 0;\n    padding-right: 8%;\n    min-width: 30px;\n    min-height: 30px;\n    max-width: 40px;\n    max-height: 40px;\n}\n.sm-ui-container.sm-volume-off .sm-controls.sm-volume {\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAABlCAMAAABjot39AAAAXVBMVEUAAAD8/Pz+/v7+/v6KioqFhYX7+/vu7u5/f3/r6+sAAADv7+/s7Oz////p6enw8PDx8fH9/f10dHT39/fs7OwAAAAAAAAAAAAAAAC8vLz5+fn09PTt7e3o6Oi8vLw06Bc/AAAAH3RSTlMm7vz4RUTqtkGsALqx/qi9wfE+2bAkIRMKZeDNsqVm/TFS9QAAAgJJREFUaN7tmttu4jAURbft40tKEgIJ12n7/585ONLoTIG0qsiOFMnrkZcl42PvDTLebpyOYHE8ZcHNcj6AyeGcLWewOd8sB7A5vOEEPiccweeIQqFQKKwU6boINim65goyEk3T7MBlXwVLt6TO2OCcARNfGWuqHdciMVjT7Q3VItHYUCVQLak21kQPqsVvskRAtaS88bWAZdGVbBKoFhnyCHtQLVKHcSVUi2yMDYMH1ZLaMG78c4tcLoJf89GbO3bOho1gwnL501f+eUTEdtLS28beE1rBpKV3ZvtEI21w02lnGnu/lmtMmLRIPkitf9zLYMM3FmswiVoUvzX2YTVSGxva9LpFNW0+TPLloyGPvmAei64mRIFufB79WjCrBb4K+br+EnaDYFaLRo+uxGw8ZrZojP7beJONM1u0EkgOO13JrBatNzGNEVEnkCxjVTPbUSJgWHQEnNOI4FiQOtc0Lnqs3/L/N7bu3b+f5PWeymc3zDpvy6mbf30p9kIis9tFY78rSq83JW19j6Vv5tb30U8V2Ncb7M9lfMoin59C+GGhFsKPpK0nWyCDzhHLomeCatHzTbXoXUW16L1LtWiGUC2ah1SLZjvToj1lR7Ro53KWZ9ER4P/TixQD06LZ6OwVdPbv7y0KhUKhsG4WeduzzDulRd5cLfN+bKG3cMu86/sLjm0XKsolsPgAAAAASUVORK5CYII=');\n}\n.sm-ui-container .sm-controls.sm-fullscreen {\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAABlCAMAAABjot39AAAAVFBMVEUAAAD9/f3s7Oz8/Pzs7Oz+/v6Li4uFhYUAAADw8PB9fX38/Pzr6+vu7u7o6Oj////09PS8vLy8vLwAAAAAAAD+/v7q6urR0dHR0dH5+fn39/fw8PC48N3zAAAAHHRSTlMm87DssftFRAC7QO6staT+y2ZlEwr2rH184tfBhd2mLwAAAcVJREFUaN7t2kuSqzAMhWEFIbktG0OShrz2v89rJlfVoXrmk0GX/w18xaOwUZm+alfCdd2BqnwTtu+q4BBnqkLwqnEleNXo9Xq93l9I72U4VO7aVrksfHpPhG9wReZZSltFb2X8UXysVRkImsUkq5ywSsgs6XHCKhZZOEasomNFsg1QxXYkBoIqIVZkNIIqlnnmUQml+JVEI6iiQxLOgaCKTSwpGkEVrQgPgaCK5YpMSlDFXjtiBFVCTjNnJZDizyS9jCCKI/srbARVwsaSpkBQJcT/b5dXmEtTpLCk/IbQfVluzb9d4fCozmdth+iWhEsgbJfnmiIKcWV5blDE73+v1/s9vVyU0IXtuZwJXIhpfQIVX082Rd5/X0/a5Quewxs3XE988T5uiVpdiW9Exp+3a/JdPUDxvXCalKCKvZJwRaCKZp5TDgRS/CeIfS+MUXRHsiMQJQy+TYUpFpP/BAEUH+AMfiUQxQ7fLoCiI8+QB++KD3C89ooPcLz2iuUdUfIASvQBDqqqPA6feoAiqw9wUA0yz+sjgkfrpSpyeotb78XuLBXBKT5aP1Ru/Rev1+v1/kafOaf0Rfg+c37sQ2fhPnOu7x9D6RMZzfZBwAAAAABJRU5ErkJggg==');\n    right: 11%;\n    bottom: 1.5%;\n    height: 10%;\n    width: 0;\n    padding-right: 8%;\n    min-width: 30px;\n    min-height: 30px;\n    max-width: 40px;\n    max-height: 40px;\n}\n.sm-ui-container.sm-fullscreen-on .sm-controls.sm-fullscreen {\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAABlCAMAAABjot39AAAAVFBMVEUAAAD9/f3s7Oz8/Pzs7Oz+/v6Li4uFhYUAAADw8PB9fX38/Pzr6+vu7u7o6Oj////09PS8vLy8vLwAAAAAAAD+/v7q6urR0dHR0dH5+fn39/fw8PC48N3zAAAAHHRSTlMm87DssftFRAC7QO6staT+y2ZlEwr2rH184tfBhd2mLwAAAcNJREFUaN7t2klygzAQheFGTbesAYEH8HT/e0Zk02U7lWx4Xjj6L/CVoFA1KtGudiRcxxWoyomwnaqCQ4ypCsGrxpHgVaPVarVan5oeDkro/HKb9gTOhzTf0IovLGlR7PP3gYWDp+26TNP5GV4qUrZEqDCXJ2RgSWFThFzX9Y+Pa0jC2RNUiZklDUpQJd6TcEWgimYeU/YEVeLAwvdIhFR0RbIhEMU7tneCUmJIFbGVQBSfWZJTsgBKfNi7QIr2PLK9eIwSe9hKTPGhIr2tBKLEvCJKFkAJ3y8+koVQri9bPUCRWRJoJabIOM7X4B4qF91WKVWR7ineeha7sFQErei59C+Vs1Kr9R/TS3E18BZymLh7ToTPcGXdugp4CwnXuSqOQNlwN0sHU2y4u3Y4xYa7gFW0r0iODqjYcIdUbLhDKjHzyL0SVPE23OEUdTbcwZQ4sA13KEUrws4TVInZfkxhSryvSCSo4nMaOSuhFDuKukeCKIYkO5FAKX5hSYMnlGJf/KB/HPBtcZqa9afDyg36/TRV93vdDtEl2WkqrMNtTgGFmDLdFiBiz7/9urVardbn9p57SjvC9577Y2+6C/eee31fNSMTGckQyNEAAAAASUVORK5CYII=');\n}\n.sm-ui-container .sm-controls.sm-counter {\n    border-radius: 100%;\n    z-index: 5;\n    bottom: 1%;\n    left: 2%;\n    width: 10%;\n    height: auto;\n    min-width: 32px;\n    min-height: 32px;\n    max-width: 40px;\n    max-height: 40px;\n}\n.sm-ui-container .sm-controls.sm-counter .".concat(oi," {\n    font-family: 'Lato', sans-serif;\n    font-size: 10px;\n    fill: #ffffff;\n}\n"),ci='\n  <svg viewport="0 0 100 100" viewBox="0 0 34 34">\n    <defs>\n      <linearGradient id="gradient_bg" x1="0%" x2="100%" y1="100%" y2="0%">\n        <stop offset="0%" stop-color="#333" stop-opacity="0.3"></stop>\n        <stop offset="100%" stop-color="#333" stop-opacity="0"></stop>\n      </linearGradient>\n    </defs>\n    <circle r="12" cx="17" cy="17" stroke="url(#gradient_bg)" fill="#333" fill-opacity="0.2"></circle>\n    <circle r="12" cx="17" cy="17" stroke="#F49831" fill-opacity="0"></circle>\n    <text class="'.concat(oi,'" style="" text-anchor="middle" y="21" x="17"> </text>\n  </svg>');function ui(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=sn(t);if(e){var r=sn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return on(this,n)}}var li="sm-visible",di=function(t){t.style.removeProperty("display")},hi=function(t){ot(t,{display:"none"})},fi=function(t){rt(t,"add",li)},vi=function(t){rt(t,"remove",li)},pi=function(t){an(n,t);var e=ui(n);function n(t){var i,r=t.$adContainer;return Tt(this,n),(i=e.call(this)).$adContainer=r,i.device=i.$adContainer.getAttribute("data-device"),it("ui-styles",si),i.uiContainerElem=null,i.mediaLayerElem=null,i.videoElem=null,i.controlElems={},i.isMuted=null,i.isInFullscreenMode=!1,i.videoSlotSubscription=null,i.createUIElements(),i.changeFullscreenMode=i.changeFullscreenMode.bind(nn(i)),i}return Ct(n,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setVideoSettings(t),this.createVideoControls(),this.isMuted&&rt(this.uiContainerElem,"add","sm-volume-off"),$(this.uiContainerElem,[this.mediaLayerElem].concat(o(Object.values(this.controlElems)))),$(this.$adContainer,this.uiContainerElem),this.counterNumberElem=this.$adContainer.querySelector(".".concat(oi))}},{key:"setVideoSettings",value:function(t){var e=t.muted,n=t.autoplay;this.isMuted=e,this.videoElem.muted=this.isMuted,this.videoElem.autoplay=n}},{key:"createUIElements",value:function(){var t=this;this.uiContainerElem=J({name:"ui-container"});this.videoElem=J({type:"video",name:"video",attributes:{width:"100%",playsinline:"","webkit-playsinline":""}}),this.videoSlotSubscription=qn.createObservable(this.videoElem).subscribe((function(){var e=t.videoElem.getAttribute("src");if(e){var n,i;if(e===(null===(n=window)||void 0===n||null===(i=n.location)||void 0===i?void 0:i.href))return;t.displayVideo()}else t.hideVideo()}));var e={name:"media",children:[this.videoElem]};this.mediaLayerElem=J(e)}},{key:"createVideoControls",value:function(){var t=this,e={class:"sm-controls"},n={name:"play",attributes:e,events:{click:function(){t.hidePlayControl(),t.emit(me.Type.UI.PLAY_CLICKED)}}};this.controlElems.play=J(n);var i={name:"skip",attributes:e,events:{click:function(){return t.emit(me.Type.UI.SKIP_CLICKED)}}};this.controlElems.skip=J(i);var r={name:"label",attributes:e};this.controlElems.label=J(r);var a={name:"volume",attributes:e,events:{click:function(){return t.onVolumeChange()}}};if(this.controlElems.volume=J(a),"desktop"===this.device){var o={name:"fullscreen",attributes:e,events:{click:function(){return t.isInFullscreenMode?t.exitFullscreen():t.requestFullscreen()}}};this.controlElems.fullscreen=J(o),this.subscribeToFullscreenChanges()}var s={name:"counter",attributes:e,content:ci};this.controlElems.counter=J(s)}},{key:"onStateChange",value:function(t,e){return rt(this.uiContainerElem,t?"remove":"add",e),!t}},{key:"onVolumeChange",value:function(){this.isMuted=this.onStateChange(this.isMuted,"sm-volume-off"),this.videoElem.muted=this.isMuted,this.emit(me.Type.UI.VOLUME_CHANGED,{muted:this.isMuted})}},{key:"changeFullscreenMode",value:function(){this.isInFullscreenMode=this.onStateChange(this.isInFullscreenMode,"sm-fullscreen-on"),this.emit(me.Type.UI.FULLSCREEN_CHANGED,{changedToFullscreen:this.isInFullscreenMode})}},{key:"subscribeToFullscreenChanges",value:function(){var t,e=this,n=["mozfullscreenchange","webkitfullscreenchange","msfullscreenchange","fullscreenchange"].find((function(t){return"on".concat(t)in e.uiContainerElem}));n&&(null===(t=this.uiContainerElem)||void 0===t||t.addEventListener(n,this.changeFullscreenMode))}},{key:"unsubscribeToFullscreenChanges",value:function(){var t,e=this,n=["mozfullscreenchange","webkitfullscreenchange","msfullscreenchange","fullscreenchange"].find((function(t){return"on".concat(t)in e.uiContainerElem}));n&&(null===(t=this.uiContainerElem)||void 0===t||t.removeEventListener(n,this.changeFullscreenMode))}},{key:"updateVideoPlayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=u(u({},this.controlElems),{},{videoPlayer:this.videoElem}),n=function(e){var n={enable:!0,disable:!1};return function(i){var r;return t[i]===n[e]||(null===(r=t[i])||void 0===r?void 0:r.enabled)===n[e]}};S(e,(function(e,i){var r,a,o,s;(n("disable")(i)?hi(e):n("enable")(i)&&di(e),null!==(r=t[i])&&void 0!==r&&r.style)&&ot(e,null===(o=t[i])||void 0===o?void 0:o.style);null!==(a=t[i])&&void 0!==a&&a.class&&rt(e,"add",null===(s=t[i])||void 0===s?void 0:s.class)}))}},{key:"resetVideoPlayer",value:function(t){this.videoElem.removeAttribute("style"),S(this.controlElems,(function(t){t.removeAttribute("style")})),rt(this.controlElems.skip,"remove",ai),t&&this.updateVideoPlayer(t)}},{key:"displayVideo",value:function(){ot(this.videoElem,{visibility:"visible"})}},{key:"resetVideoSource",value:function(){this.videoElem.setAttribute("src","")}},{key:"displayInitialControls",value:function(){var t=["play","skip"];S(this.controlElems,(function(e,n){t.includes(n)||fi(e)}))}},{key:"hideControls",value:function(){S(this.controlElems,(function(t){vi(t)}))}},{key:"displaySkipControl",value:function(){fi(this.controlElems.skip)}},{key:"hideSkipControl",value:function(){vi(this.controlElems.skip)}},{key:"hideVideo",value:function(){ot(this.videoElem,{visibility:"hidden"})}},{key:"displayPlayControl",value:function(){fi(this.controlElems.play)}},{key:"hidePlayControl",value:function(){vi(this.controlElems.play)}},{key:"displayMediaLayer",value:function(){fi(this.mediaLayerElem)}},{key:"hideMediaLayer",value:function(){vi(this.mediaLayerElem)}},{key:"requestFullscreen",value:function(){this.isInFullscreenMode||(this.uiContainerElem.requestFullScreen?this.uiContainerElem.requestFullScreen():this.uiContainerElem.mozRequestFullScreen?this.uiContainerElem.mozRequestFullScreen():this.uiContainerElem.webkitRequestFullScreen&&this.uiContainerElem.webkitRequestFullScreen())}},{key:"exitFullscreen",value:function(){this.isInFullscreenMode&&(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())}},{key:"updateRemainingTime",value:function(t){var e=this;if(t<=0)return clearTimeout(this.counterLastSecondTimeout),vi(this.controlElems.counter),void(this.counterNumberElem.textContent="");Number(this.counterNumberElem.textContent)!==t&&(this.counterNumberElem.textContent=O(t)?t:0,1===t&&(this.counterLastSecondTimeout=setTimeout((function(){e.updateRemainingTime(0)}),1e3)))}},{key:"destroy",value:function(){var t,e;clearTimeout(this.counterLastSecondTimeout),this.unsubscribeToFullscreenChanges(),null===(t=(e=this.videoSlotSubscription).unsubscribe)||void 0===t||t.call(e),this.$adContainer=null,this.uiContainerElem=null,this.mediaLayerElem=null,this.videoElem=null,this.controlElems=null,this.counterNumberElem=null}}],[{key:"create",value:function(t){return new n({$adContainer:t.$adContainer})}}]),n}(ln);const mi={playerUIFactory:function(t){return pi.create(t)}};function Ai(){return R(URL)}var gi=function(){function t(){Tt(this,t),this.trackers=[]}var e;return Ct(t,[{key:"add",value:function(t){var e=t.event,n=t.url;this.trackers.push({event:e,url:n})}},{key:"concat",value:function(e){if(!(e instanceof t))throw new Error("trackingEvents argument value must be an instance of TrackingEvents");this.trackers=[].concat(o(this.trackers),o(e.trackers))}},{key:"getTrackersFor",value:function(t){return Dt(t,"event"),this.trackers.filter((function(e){return t===e.event}))}},{key:"fire",value:(e=kt(St().mark((function t(e){var n,i,r,a,o=arguments;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:function(t){return t},Lt.info("Firing tracking for ".concat(e," VAST event")),!((i=this.getTrackersFor(e)).length>0)){t.next=7;break}return r=function(t){return Ai()?new URL(t).pathname.includes(".js"):t.includes(".js")},a=G((function(t){var e=t.url;return B(r(e)?ee:te,n)(e)}),i),t.abrupt("return",Promise.all(a));case 7:return t.abrupt("return",[]);case 8:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}],[{key:"create",value:function(){return new t}}]),t}(),yi=function(){return gi.create()};var bi={100:"XML parsing error.",101:"VAST schema validation error.",102:"VAST version of response not supported.",200:"Trafficking error. Video player received an Ad type that it was not expecting and/or cannot display.",201:"Video player expecting different linearity.",202:"Video player expecting different duration.",203:"Video player expecting different size.",204:"Ad category was required but not provided.",300:"General Wrapper error.",301:"Timeout of VAST URI provided in Wrapper element, or of VAST URI provided in a subsequent Wrapper element. (URI was either unavailable or reached a timeout as defined by the video player.)",302:"Wrapper limit reached, as defined by the video player. Too many Wrapper responses have been received with no InLine response.",303:"No Ads VAST response after one or more Wrappers.",304:"InLine response returned ad unit that failed to result in ad display within defined time limit.",400:"General Linear error. Video player is unable to display the Linear Ad.",401:"File not found. Unable to find Linear/MediaFile from URI.",402:"Timeout of MediaFile URI.",403:"Couldn't find MediaFile that is supported by this video player, based on the attributes of the MediaFile element.",405:"Problem displaying MediaFile. Video player found a MediaFile with supported type but couldn't display it. MediaFile may include: unsupported codecs, different MIME type than MediaFile@type, unsupported delivery method, etc.",406:"Mezzanine was required but not provided. Ad not served.",407:"Mezzanine is in the process of being downloaded for the first time. Download may take several hours. Ad will not be served until mezzanine is downloaded and transcoded.",408:"Conditional ad rejected.",409:"Interactive unit in the InteractiveCreativeFile node was not executed.",410:"Verification unit in the Verification node was not executed.",411:"Mezzanine was provided as required, but file did not meet required specification. Ad not served.",500:"General NonLinearAds error.",501:"Unable to display NonLinearAd Ad because creative dimensions do not align with creative display area (i.e. creative dimension too large).",502:"Unable to fetch NonLinearAds/NonLinearAd resource.",503:"Couldn't find NonLinearAd resource with supported type.",600:"General CompanionAds error.",601:"Unable to display CompanionAd because creative dimensions do not fit within CompanionAd display area (i.e., no available space).",602:"Unable to display Required CompanionAd.",603:"Unable to fetch CompanionAds/CompanionAd resource.",604:"Couldn't find CompanionAd resource with supported type.",900:"Undefined Error.",901:"General VPAID error."},Ei=function(t){if(T(t)||T(bi[t]))throw new Error("Invalid vast error code: ".concat(t))},ki=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Tt(this,t),Ei(e),this.code=e,this.data=n,this.message=bi[this.code]}return Ct(t,[{key:"toString",value:function(){return"[".concat(this.code,"] ").concat(this.message)}}]),t}(),Ti=Lt.wrapWithName("VIDEOPLAZA MANAGER"),Ii=function(t){if(P(t)){var e=t.indexOf("&amp;")>-1?t.replace(/&amp;/g,"&"):t;return e.indexOf("videoplaza")>-1&&e.indexOf("s=")>-1?e.replace(/%2F/g,"/"):e}return null},Ci=function(t){var e=t.event,n=t.fromList,i=t.adTrackingEvents;n.length>0&&S(n,(function(t){var n=Ii((null==t?void 0:t.value)||t);P(n)&&i.add({event:e,url:n})}))},wi=function(t){var e=yi(),n=[],i=[],r=[],a={},s=t.error,c=t.impression,u=t.creatives;T(s)||S(w(s)?s:[s],(function(t){var i=Ii((null==t?void 0:t.value)||t);i.includes(ti)?n.push(i):e.add({event:me.Type.VAST.ERROR,url:i})}));if(!T(c)){var l=w(c)?c:[c];Ci({event:me.Type.VAST.IMPRESSION,fromList:l,adTrackingEvents:e})}if(!T(u)){var d=u.creative,h=(void 0===d?[]:d).shift().linear;if(!T(h)){var f=h.trackingEvents,v=void 0===f?{}:f,p=h.videoClicks,m=void 0===p?{}:p;i=h.mediaFiles,r=h.adParameters,function(t,e){t.tracking.length>0&&S(t.tracking,(function(t){var n=t.event,i=t.value,r=Ii(i);P(r)&&e.add({event:n,url:r})}))}(v,e);var A=m.clickTracking,g=void 0===A?[]:A,y=m.customClick,b=void 0===y?[]:y;a=m.clickThrough,Ci({event:me.Type.VAST.CLICK_TRACKING,fromList:[].concat(o(G((function(t){return t.value}),g)),o(G((function(t){return t.value}),b))),adTrackingEvents:e});var E=new RegExp("\\be=".concat(ei,"\\b"),"g");Ci({event:me.Type.VAST.USER_INTERACT,fromList:g.filter((function(t){var e=t.value;return e.includes(ti)&&!!e.match(E)})).map((function(t){return t.value.replace(E,"e=".concat(ni))})),adTrackingEvents:e})}}return{adTrackingEvents:e,videoplazaErrors:n,mediaFiles:i,adParameters:r,clickThrough:a}},Si=function(t,e){var n,i,r,a,s,c,u=JSON.parse(t).insertionPoint.shift().slot,l=(void 0===u?[]:u).shift().vast.ad.shift().inLine.creatives.creative.shift().linear.adParameters.value,d=JSON.parse(l).ad;return Ti.info(d),n=d,r=(i=e).isSunmedia,a=i.trafficType,s=[],c=[],S(n,(function(t){var e=t.wrapper,n=t.inLine;if(T(n)&&T(e))throw new ki(101);var i,u=!1;if(T(e)){var l=i=n,d=l.creatives,h=l.impression;!d&&h&&(i.error=h,delete i.impression)}else u=!0,i=e;var f=wi(i),v=f.adTrackingEvents,p=f.videoplazaErrors,m=f.clickThrough,A=f.mediaFiles,g=f.adParameters;if(c=[].concat(o(c),o(p)),u){var y=i.vastadTagURI;if(P(y)){var b={url:y.replace(/&amp;/g,"&"),isSunmedia:r,trafficType:a};s.push({isWrapper:u,ad:{tag:b,trackingEvents:v}})}}else try{var E,k=[];null!=A&&null!==(E=A.mediaFile)&&void 0!==E&&E.length&&(k=A.mediaFile.map((function(t){var e={$:{},_:null};return Object.entries(t).forEach((function(t){var n=H(t,2),i=n[0],r=n[1];"value"===i?e._=r:e.$[i]=r})),e})),s.push({isWrapper:u,ad:{mediaFile:k,parameters:g,trackingEvents:v,clickThroughUrl:(null==m?void 0:m.value)||m}}))}catch(t){Lt.error("Adding a videoplaza inline to the adPod",t)}})),c=c.filter((function(t,e,n){return n.indexOf(t)===e})),{adPod:s,podErrors:c}},Ri=function(){function t(e){var n=e.adData,i=e.fromAdTag,r=e.adParametersData,a=e.vastManager;Tt(this,t);var o=Si(r,i),s=o.adPod,c=o.podErrors;this.adPod=s,this.podErrors=c,this.vastManager=a,this.currentIndex=0,this.videoplazaTag=i,this.adData=n,this.emptyWaterfallErrorFired=!1}var e;return Ct(t,[{key:"hasNext",value:function(){return this.currentIndex<this.adPod.length}},{key:"nextAdFromPod",value:function(){try{var t=this.adPod[this.currentIndex];return this.currentIndex+=1,t}catch(t){return!1}}},{key:"loadAds",value:(e=kt(St().mark((function t(){var e,n,i,r,a,o,s,c,u,l;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.hasNext()){t.next=28;break}if(e=null,n=this.nextAdFromPod(),t.prev=3,!n.isWrapper){t.next=14;break}return i=n.ad,r=i.tag,a=i.trackingEvents,Ti.info("loading waterfall ads from...",r),this.vastManager.init([r]),t.next=10,this.vastManager.loadAds();case 10:(e=t.sent).adTrackingEvents.concat(a),t.next=18;break;case 14:return o=n.ad,s=o.mediaFile,c=o.parameters,u=o.trackingEvents,l=o.clickThroughUrl,t.next=17,this.vastManager.setLinearMediaFile({linear:{MediaFiles:[{MediaFile:s}],AdParameters:c},companionAds:[],trackingEvents:u,clickThroughUrl:l,adData:this.adData});case 17:e=t.sent;case 18:t.next=22;break;case 20:t.prev=20,t.t0=t.catch(3);case 22:if(!e){t.next=25;break}return e.initialAdTag=this.videoplazaTag,t.abrupt("return",e);case 25:n.ad.trackingEvents.fire(me.Type.VAST.ERROR),t.next=0;break;case 28:return this.fireEmptyWaterfallError(),t.abrupt("return",null);case 30:case"end":return t.stop()}}),t,this,[[3,20]])}))),function(){return e.apply(this,arguments)})},{key:"fireEmptyWaterfallError",value:function(){if(!this.emptyWaterfallErrorFired){this.emptyWaterfallErrorFired=!0,Ti.info("FIRE WATERFALL ERRORS",this.podErrors);var t=yi();S(this.podErrors,(function(e){t.add({event:me.Type.VAST.ERROR,url:e})})),t.fire(me.Type.VAST.ERROR)}}}]),t}();const Di={isVPAID:function(t){var e=t.apiFramework;return e&&Xn.VPAID.test(e)},isJavascript:function(t){var e=t.type;return Xn.JS.test(e)},isFlash:function(t){var e=t.type;return Xn.FLASH.test(e)},isVideoplaza:function(t){return t.url.indexOf("passback_vpaid/passback_vpaid")>-1},isYoutube:function(t){return t.url.indexOf("www.youtube.com")>-1},isNoVideoReminder:function(t){return t.url.indexOf("https://novideoreminder.com/")>-1},isImage:function(t){return Xn.IMAGE.test(t)},isHttps:function(t){return Xn.HTTPS.test(t)}};var Pi=function(t){return"script"===(t||"").toLowerCase()};function Mi(t,e){return Ve(new Promise((function(n){var i=t.cloneNode(!0);t.onload&&(i.onloadpre=t.onload),i.onload=function(){return n()},$(e,i)})),1e3)}function Oi(t,e){var n=t.content;return new Promise((function(t){if(null==n)throw new Error("Missing content for resource");var i={width:"100%",height:"100%"},r=J({type:"iframe",name:"resource-html",style:u({},i),attributes:u(u({},i),{},{scrolling:"no",frameborder:"0"})});r.onload=kt(St().mark((function e(){var i,a,o,s,c,u;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.contentDocument,a=r.contentWindow,i.body.style.margin="0 auto",o=J({content:decodeURIComponent(n)}),s=et(o,!0),c=s.childNodes,(u=Array.from(c)).filter((function(t){var e=t.nodeName;return L(Pi(e))})).forEach((function(t){return $(i.body,t.cloneNode(!0))})),e.prev=6,e.next=9,Promise.allSettled([u.filter((function(t){var e=t.nodeName,n=t.src;return Pi(e)&&n})).map((function(t){return Mi(t,i.body)}))]);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),Lt.error("loading external scripts",e.t0);case 14:u.filter((function(t){var e=t.nodeName,n=t.src;return Pi(e)&&L(n)})).forEach((function(t){var e=t.innerHTML;return a.eval(e)})),t(r);case 16:case"end":return e.stop()}}),e,null,[[6,11]])}))),$(e,r)}))}function xi(t,e){var n=t.$,i=t.content;return new Promise((function(t,r){var a=n.creativeType;if(null==i||null==a||""===a||!Di.isImage(a))throw new Error("We only support images for StaticResource");var o=J({type:"img",name:"resource-img",style:{width:"100%",height:"100%",cursor:"pointer"},attributes:{src:i}});o.onerror=function(t){r(t)},o.onload=function(){t(o)},$(e,o)}))}function Li(t,e){var n=t.content;return new Promise((function(t,i){if(null==n)throw new Error("Missing content for resource");var r={width:"100%",height:"100%"},a=J({type:"iframe",name:"resource-iframe",style:u({},r),attributes:u(u({},r),{},{src:n,scrolling:"no",frameborder:"0"})});a.onerror=function(t){i(t)},a.onload=function(){t(a)},$(e,a)}))}function Vi(t){return Ni.apply(this,arguments)}function Ni(){return(Ni=kt(St().mark((function t(e){var n,i,r,a,o;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.htmlResource,i=e.staticResource,r=e.iframeResource,a=e.resourceSlot,o=null,null==n){t.next=8;break}return t.next=5,Oi(n,a);case 5:o=t.sent,t.next=18;break;case 8:if(null==i){t.next=14;break}return t.next=11,xi(i,a);case 11:o=t.sent,t.next=18;break;case 14:if(null==r){t.next=18;break}return t.next=17,Li(r,a);case 17:o=t.sent;case 18:if(!o){t.next=20;break}return t.abrupt("return",o);case 20:throw new Error("Unknown type of resource");case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Fi="end-card",Ui="default",Bi="Remember",Wi="Main",zi=function(){function t(e){Tt(this,t),this.staticResource=e.staticResource,this.iframeResource=e.iframeResource,this.htmlResource=e.htmlResource,this.altText=e.altText,this.clickThroughUrl=e.clickThroughUrl,this.trackingEvents=e.trackingEvents;var n=e.$,i=n.width,r=n.height,a=n.id,o=n.adSlotId,s=n.pxratio,c=void 0===s?0:s,u=n.renderingMode,l=void 0===u?Ui:u;this.height=parseInt(r,10),this.width=parseInt(i,10),this.id=a,this.adSlotId=o,this.pxratio=c,this.renderingMode=l,this.id!==Wi&&this.id!==Bi||(this.renderingMode=Fi),T(this.id)&&(this.id=Wi),T(this.adSlotId)&&(this.adSlotId=this.id)}var e;return Ct(t,[{key:"isRemember",get:function(){return this.id===Bi}},{key:"isEndcard",get:function(){return this.renderingMode===Fi}},{key:"loadAd",value:(e=kt(St().mark((function t(e){return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Vi({staticResource:this.staticResource,iframeResource:this.iframeResource,htmlResource:this.htmlResource,resourceSlot:e}));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),t}();function Hi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=sn(t);if(e){var r=sn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return on(this,n)}}var _i="none",Gi=Lt.wrapWithName("COMPANION ADS"),ji=function(t,e){S(t,(function(t){var n=window.document.getElementById(t.adSlotId);n?t.startAd(n,e):Gi.warning("missing companion container for id: ".concat(t.adSlotId))}))},Zi=function(t){an(n,t);var e=Hi(n);function n(t){var i,r,a=t.required,o=void 0===a?_i:a,s=t.companionList,c=void 0===s?[]:s;return Tt(this,n),(i=e.call(this)).required=o,i.companions=c,i.ratio=(r=1,void 0!==window.screen.systemXDPI&&void 0!==window.screen.logicalXDPI&&window.screen.systemXDPI>window.screen.logicalXDPI?r=window.screen.systemXDPI/window.screen.logicalXDPI:void 0!==window.devicePixelRatio&&(r=window.devicePixelRatio),Math.floor(r)),i.endcardCompanions=[],i.alongsideCompanions=[],S(i.companions,(function(t){var e=new zi(t);e.pxratio&&1!==i.ratio&&e.pxratio!==i.ratio||(e.isEndcard?i.endcardCompanions.push(e):i.alongsideCompanions.push(e))})),i}return Ct(n,[{key:"startAlongside",value:function(t){ji(this.alongsideCompanions,t)}},{key:"startEndcard",value:function(t){ji(this.endcardCompanions,t)}}],[{key:"create",value:function(t){return new n({required:t.required,companionList:t.companionList})}}]),n}(ln);const Yi={companionAdsFactory:function(t){return Zi.create(t)}};function Ki(t,e,n){return new Promise((function(i){$(e,t),zn(t,"load",(function(){return i(t.contentWindow)})),t.contentWindow.document.open().write(n),t.contentWindow.document.close()}))}function Qi(t){return qi.apply(this,arguments)}function qi(){return qi=kt(St().mark((function t(e){var n,i,r,a,s,c,u,l=arguments;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:{},i=n.args,r=void 0===i?[]:i,a=n.attempts,s=void 0===a?5:a,c=n.delay,u=void 0===c?500:c,t.prev=1,t.next=4,e.apply(void 0,o(r));case 4:return t.abrupt("return",t.sent);case 7:if(t.prev=7,t.t0=t.catch(1),!(s-1)){t.next=13;break}return t.next=12,Hn(u);case 12:return t.abrupt("return",Qi(e,{args:r,attempts:s-1,delay:u}));case 13:throw new Error("Max attempts reached");case 14:case"end":return t.stop()}}),t,null,[[1,7]])}))),qi.apply(this,arguments)}function Xi(t){var e=t.adMediaUrl,n=t.adParameters,i=Object.values(Jn);return![e,n].some((function(t){return t&&i.some((function(e){return t.includes(e)}))}))}function Ji(t){return new Promise((function(e,n){var i=t.contentWindow.getVPAIDAd;R(i)?e(i):n()}))}function $i(){return J({type:"iframe",name:"vpaid-iframe",style:{display:"block",position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%",border:"0px"},attributes:{scrolling:"no",width:"100%",title:"vpaid-iframe"}})}function tr(t){return er.apply(this,arguments)}function er(){return(er=kt(St().mark((function t(e){var n,i,r,a,o,s,c,u;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.slot,i=e.adParameters,r=e.adMediaUrl,a=Xi({adMediaUrl:r,adParameters:i}),o='\n    <!doctype html>\n    <html style="height:100%;"><head>\n      <meta charset=utf-8></meta>\n      <meta content="width=device-width,minimum-scale=1,initial-scale=1" name=viewport>\n    </head><body style="margin:0px;height:100%;">\n      <script>var inDapIF = '.concat(a,';<\/script>\n      <script src="').concat(r,'"><\/script>\n    </body></html>'),s=$i(),t.next=6,Ki(s,n,o);case 6:return c=t.sent,t.next=9,Qi(Ji,{args:[s],attemps:5,delay:200});case 9:return u=t.sent,t.abrupt("return",{creative:u(),vpaidSlot:c.document.body});case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function nr(t,e,n){return nr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=sn(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}},nr(t,e,n||t)}function ir(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=sn(t);if(e){var r=sn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return on(this,n)}}var rr=function(t){an(n,t);var e=ir(n);function n(t){var i,r=t.url;return Tt(this,n),(i=e.call(this)).adMediaUrl=r,i.quartiles=null,i.firstQuartileEventFired=!1,i.midpointEventFired=!1,i.thirdQuartileEventFired=!1,i.videoCompleteEventFired=!1,i.slot=null,i.videoSlot=null,i.adLinear=null,i.adWidth=null,i.adHeight=null,i.adExpanded=null,i.adSkippableState=null,i.adRemainingTime=null,i.adCurrentTime=0,i.adDuration=null,i.adVolume=null,i.adCompanions=null,i.adIcons=null,i}return Ct(n,[{key:"getAdQuartiles",value:function(){if(null==this.quartiles){var t=Math.round(this.adDuration/4);this.quartiles=[t,2*t,3*t]}return this.quartiles}},{key:"getAdLinear",value:function(){return this.adLinear}},{key:"getAdWidth",value:function(){return this.adWidth}},{key:"getAdHeight",value:function(){return this.adHeight}},{key:"getAdExpanded",value:function(){return this.adExpanded}},{key:"getAdSkippableState",value:function(){return this.adSkippableState}},{key:"getAdRemainingTime",value:function(){return this.adRemainingTime=this.adDuration-this.adCurrentTime,this.adRemainingTime}},{key:"getAdCurrentTime",value:function(){return this.adCurrentTime}},{key:"getAdDuration",value:function(){return this.adDuration}},{key:"getAdCompanions",value:function(){return this.adCompanions}},{key:"getAdIcons",value:function(){return this.adIcons}},{key:"getAdVolume",value:function(){return this.adVolume}},{key:"setAdVolume",value:function(t){this.adVolume!==t&&(this.adVolume=t,this.emit(me.Type.VPAID.AD_VOLUME_CHANGE))}},{key:"handshakeVersion",value:function(){this.emit(me.Type.VPAID.AD_LOG,{method:"handshakeVersion",crea:this})}},{key:"initAd",value:function(t,e,n,i,r,a){var o=a.slot,s=a.videoSlot;this.slot=o,this.videoSlot=s,this.emit(me.Type.VPAID.AD_LOADED)}},{key:"startAd",value:function(){this.emit(me.Type.VPAID.AD_STARTED)}},{key:"stopAd",value:function(){this.emit(me.Type.VPAID.AD_STOPPED)}},{key:"resizeAd",value:function(t,e,n){this.emit(me.Type.VPAID.AD_LOG,{method:"resizeAd",args:[t,e,n],crea:this})}},{key:"pauseAd",value:function(){this.emit(me.Type.VPAID.AD_PAUSED)}},{key:"resumeAd",value:function(){this.emit(me.Type.VPAID.AD_PLAYING)}},{key:"expandAd",value:function(){this.emit(me.Type.VPAID.AD_LOG,{method:"expandAd",crea:this})}},{key:"collapseAd",value:function(){this.emit(me.Type.VPAID.AD_LOG,{method:"collapseAd",crea:this})}},{key:"skipAd",value:function(){this.emit(me.Type.VPAID.AD_SKIPPED)}},{key:"subscribe",value:function(t,e,n){this.on(e,t.bind(n))}},{key:"unsubscribe",value:function(t,e){this.off(e,t)}},{key:"emitAdVideoComplete",value:function(){this.videoCompleteEventFired=!0,this.emit(me.Type.VPAID.AD_VIDEO_COMPLETE)}},{key:"tick",value:function(t){if(t>0&&this.adDuration>0&&t<=this.adDuration){var e=Math.round(t);e>this.adCurrentTime&&(this.adCurrentTime=e);var n=H(this.getAdQuartiles(),3),i=n[0],r=n[1],a=n[2];this.adCurrentTime>=i&&!this.firstQuartileEventFired?(this.firstQuartileEventFired=!0,this.emit(me.Type.VPAID.AD_VIDEO_FIRST_QUARTILE)):this.adCurrentTime>=r&&!this.midpointEventFired?(this.midpointEventFired=!0,this.emit(me.Type.VPAID.AD_VIDEO_MIDPOINT)):this.adCurrentTime>=a&&!this.thirdQuartileEventFired?(this.thirdQuartileEventFired=!0,this.emit(me.Type.VPAID.AD_VIDEO_THIRD_QUARTILE)):this.adCurrentTime>=this.adDuration&&!this.videoCompleteEventFired&&this.emitAdVideoComplete()}}}]),n}(ln);function ar(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=sn(t);if(e){var r=sn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return on(this,n)}}var or={ERROR:"error",DURATION_CHANGE:"durationchange",LOAD_METADATA:"loadedmetadata",PAUSE:"pause",PLAY:"play",PLAYING:"playing",ENDED:"ended",VOLUME_CHANGE:"volumechange",TIME_UPDATE:"timeupdate"},sr=function(t){an(n,t);var e=ar(n);function n(t){var i,r=t.url;return Tt(this,n),(i=e.call(this,{url:r})).adSkippableState=!0,i.onClick=i.onClick.bind(nn(i)),i.callbacks={},i.callbacks[or.ERROR]=i.onPlaybackError.bind(nn(i)),i.callbacks[or.DURATION_CHANGE]=i.onDurationChange.bind(nn(i)),i.callbacks[or.LOAD_METADATA]=i.onLoadedmetadataPlay.bind(nn(i)),i.callbacks[or.PAUSE]=i.onPause.bind(nn(i)),i.callbacks[or.PLAY]=i.onPlay.bind(nn(i)),i.callbacks[or.PLAYING]=i.onPlaying.bind(nn(i)),i.callbacks[or.ENDED]=i.onEnded.bind(nn(i)),i.callbacks[or.VOLUME_CHANGE]=i.onVolumeChange.bind(nn(i)),i.callbacks[or.TIME_UPDATE]=i.onTimeupdate.bind(nn(i)),i}return Ct(n,[{key:"setAdVolume",value:function(t){this.videoSlot.muted=0===t,this.videoSlot.volume=t}},{key:"destroyAd",value:function(){var t=this;this.slot.removeEventListener("click",this.onClick,!1),S(this.callbacks,(function(e,n){t.videoSlot.removeEventListener(n,e)})),this.videoSlot.removeAttribute("src"),this.videoSlot.load()}},{key:"initAd",value:function(t,e,i,r,a,o){var s=o.slot,c=o.videoSlot;s.addEventListener("click",this.onClick,!1),S(this.callbacks,(function(t,e){c.addEventListener(e,t,!1)})),nr(sn(n.prototype),"initAd",this).call(this,t,e,i,r,a,o)}},{key:"startAd",value:function(){var t,e,n,i;!0!=(t=this.adMediaUrl,e=this.videoSlot,n=t.split(".").pop(),i=n.indexOf("?"),n=i>-1?n.substr(0,i):n,!e.canPlayType||""!==e.canPlayType("video/".concat(n)))?this.emit(me.Type.VPAID.AD_ERROR,{message:"Video can not play"}):(this.videoSlot.src=this.adMediaUrl,this.videoSlot.load())}},{key:"stopAd",value:function(){this.destroyAd(),nr(sn(n.prototype),"stopAd",this).call(this)}},{key:"skipAd",value:function(){this.destroyAd(),nr(sn(n.prototype),"skipAd",this).call(this)}},{key:"pauseAd",value:function(){this.videoSlot.pause()}},{key:"resumeAd",value:function(){var t=this,e=this.videoSlot.play();T(e)||e.then((function(){t.emit(me.Type.VPAID.AD_LOG,{method:"resumeAd",message:"Automatic playback started!",crea:t})})).catch((function(e){t.emit(me.Type.VPAID.AD_LOG,{method:"resumeAd",message:"Automatic playback failed!",error:e,crea:t})}))}},{key:"onClick",value:function(){this.emit(me.Type.VPAID.AD_CLICK_THRU),this.pauseAd()}},{key:"removeEventListener",value:function(t){this.videoSlot.removeEventListener(t,this.callbacks[t])}},{key:"onPlaybackError",value:function(t){this.emit(me.Type.VPAID.AD_ERROR,{DOMEvent:t}),this.stopAd()}},{key:"onDurationChange",value:function(){this.removeEventListener(or.DURATION_CHANGE),this.adDuration=Math.round(this.videoSlot.duration)}},{key:"onLoadedmetadataPlay",value:function(){this.removeEventListener(or.LOAD_METADATA),this.resumeAd()}},{key:"onPause",value:function(){this.vastPlayerPaused||(this.vastPlayerPaused=!0,nr(sn(n.prototype),"pauseAd",this).call(this))}},{key:"onPlay",value:function(){this.vastPlayerPaused&&(this.vastPlayerPaused=!1,nr(sn(n.prototype),"resumeAd",this).call(this))}},{key:"onPlaying",value:function(){this.removeEventListener(or.PLAYING),nr(sn(n.prototype),"startAd",this).call(this),this.emit(me.Type.VPAID.AD_IMPRESSION),this.emit(me.Type.VPAID.AD_VIDEO_START)}},{key:"onEnded",value:function(){this.emitAdVideoComplete(),this.stopAd()}},{key:"onVolumeChange",value:function(){this.videoSlot.muted||0===this.videoSlot.volume?nr(sn(n.prototype),"setAdVolume",this).call(this,!0):nr(sn(n.prototype),"setAdVolume",this).call(this,!1)}},{key:"onTimeupdate",value:function(){var t=this.videoSlot.currentTime;this.tick(t)}}]),n}(rr);function cr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=sn(t);if(e){var r=sn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return on(this,n)}}var ur=function(t,e){var n=e.indexOf(t);return-1===n?n:n+t.length},lr=function(t){an(n,t);var e=cr(n);function n(t){var i,r=t.url;Tt(this,n);var a=function(t){var e=ur("v=",t);if(-1===e&&-1===(e=ur("video_id=",t)))throw new Error("Not found video ID");return t.substr(e,11)}(r);return(i=e.call(this,{url:r})).isPaused=!1,i.adSkippableState=!0,i.youtubePlayer=null,i.youtubeId=a,i.youtubeContainerDiv=document.createElement("div"),i.youtubeContainerDiv.setAttribute("id",i.youtubeId),i.youtubeApiScript=document.createElement("script"),i.youtubeApiScript.setAttribute("src","https://www.youtube.com/iframe_api"),i.bindFn={onReady:i.onReady.bind(nn(i)),onError:i.onError.bind(nn(i)),onStateChange:i.onStateChange.bind(nn(i))},i}return Ct(n,[{key:"setAdVolume",value:function(t){this.youtubePlayer.setVolume(t),nr(sn(n.prototype),"setAdVolume",this).call(this,this.youtubePlayer.getVolume())}},{key:"destroyAd",value:function(){try{this.youtubePlayer.removeEventListener("onReady",this.bindFn.onReady),this.youtubePlayer.removeEventListener("onError",this.bindFn.onError),this.youtubePlayer.removeEventListener("onStateChange",this.bindFn.onStateChange),clearInterval(this.adTimerInterval),this.youtubePlayer.stopVideo(),this.youtubePlayer.destroy()}catch(t){}}},{key:"initAd",value:function(t,e,i,r,a,o){o.slot.appendChild(this.youtubeContainerDiv),nr(sn(n.prototype),"initAd",this).call(this,t,e,i,r,a,o)}},{key:"startAd",value:function(){var t=this;document.head.appendChild(this.youtubeApiScript),R(window.onYouTubeIframeAPIReady)||(window.onYouTubeIframeAPIReady=function(){t.youtubePlayer=new window.YT.Player(t.youtubeId,{playerVars:{controls:0,modestbranding:1,disablekb:0,autoplay:1,rel:0},videoId:t.youtubeId,height:"100%",width:"100%"}),t.youtubePlayer.addEventListener("onReady",t.bindFn.onReady),t.youtubePlayer.addEventListener("onError",t.bindFn.onError),t.youtubePlayer.addEventListener("onStateChange",t.bindFn.onStateChange)})}},{key:"stopAd",value:function(){this.destroyAd(),nr(sn(n.prototype),"stopAd",this).call(this)}},{key:"skipAd",value:function(){this.destroyAd(),nr(sn(n.prototype),"skipAd",this).call(this)}},{key:"resizeAd",value:function(t,e){this.youtubePlayer&&this.youtubePlayer.setSize(t,e)}},{key:"pauseAd",value:function(){this.isPaused||(this.isPaused=!0,this.youtubePlayer.pauseVideo())}},{key:"resumeAd",value:function(){this.isPaused&&(this.isPaused=!1,this.youtubePlayer.playVideo())}},{key:"onReady",value:function(t){this.adDuration=Math.round(t.target.getDuration()),this.setAdVolume(0),t.target.playVideo(),nr(sn(n.prototype),"startAd",this).call(this),this.emit(me.Type.VPAID.AD_IMPRESSION),this.emit(me.Type.VPAID.AD_VIDEO_START)}},{key:"onError",value:function(t){this.emit(me.Type.VPAID.AD_ERROR,{event:t})}},{key:"onStateChange",value:function(t){var e=this,i=t.data,r=window.YT;switch(i){case r.PlayerState.PLAYING:this.isPaused=!1,this.adTimerInterval=setInterval((function(){return e.adTimerTickCallback()}),1e3),nr(sn(n.prototype),"resumeAd",this).call(this);break;case r.PlayerState.PAUSED:this.isPaused||this.emit(me.Type.VPAID.AD_CLICK_THRU),this.isPaused=!0,clearInterval(this.adTimerInterval),nr(sn(n.prototype),"pauseAd",this).call(this);break;case r.PlayerState.ENDED:this.emitAdVideoComplete(),this.stopAd();break;default:this.emit(me.Type.VPAID.AD_LOG,{method:"onStateChange",data:i,crea:this})}}},{key:"adTimerTickCallback",value:function(){var t=this.youtubePlayer.getCurrentTime();this.tick(t)}}]),n}(rr),dr=function(t){if(null!=t&&!(R((e=t).handshakeVersion)&&R(e.initAd)&&R(e.startAd)&&R(e.stopAd)&&R(e.skipAd)&&R(e.resizeAd)&&R(e.pauseAd)&&R(e.resumeAd)&&R(e.expandAd)&&R(e.collapseAd)&&R(e.subscribe)&&R(e.unsubscribe)))throw new Error("The VPAIDCreative doesn't conform to the VPAID spec");var e},hr=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Tt(this,t),dr(e),this._creative=e,this.vpaidSlot=n,this.adMedia=i}var e;return Ct(t,[{key:"getAdLinear",value:function(){return this._creative.getAdLinear()}},{key:"getAdWidth",value:function(){return this._creative.getAdWidth()}},{key:"getAdHeight",value:function(){return this._creative.getAdHeight()}},{key:"getAdExpanded",value:function(){return this._creative.getAdExpanded()}},{key:"getAdSkippableState",value:function(){return!0}},{key:"getAdRemainingTime",value:function(){var t=this._creative.getAdRemainingTime();return(t=t!==1/0?parseInt(t,10):0)>0&&(this.remainingTime=Math.round(t)),this.remainingTime}},{key:"getAdDuration",value:function(){var t=this._creative.getAdDuration();return(t=t!==1/0?parseInt(t,10):0)>0&&(this.duration=Math.round(t)),this.duration}},{key:"getAdCurrentTime",value:function(){return this.getAdDuration()-this.getAdRemainingTime()}},{key:"getAdCompanions",value:function(){return this._creative.getAdCompanions()}},{key:"getAdIcons",value:function(){return this._creative.getAdIcons()}},{key:"getAdVolume",value:function(){return this._creative.getAdVolume()}},{key:"setAdVolume",value:function(t){this._creative.setAdVolume(t)}},{key:"getAdSecondsForViewable",value:function(){return this.adMedia.type&&this.adMedia.type.includes("video")?2:1}},{key:"handshakeVersion",value:function(){return this._creative.handshakeVersion()}},{key:"initAd",value:function(t,e,n,i,r,a){this._creative.initAd(t,e,n,i,r,a)}},{key:"startAd",value:function(){this._creative.startAd()}},{key:"stopAd",value:function(){this._creative.stopAd()}},{key:"resizeAd",value:function(t,e,n){this._creative.resizeAd(t,e,n)}},{key:"pauseAd",value:function(){this._creative.pauseAd()}},{key:"resumeAd",value:function(){this._creative.resumeAd()}},{key:"expandAd",value:function(){this._creative.expandAd()}},{key:"collapseAd",value:function(){this._creative.collapseAd()}},{key:"skipAd",value:function(){this._creative.skipAd()}},{key:"subscribe",value:function(t,e,n){this._creative.subscribe(e,t,n)}},{key:"unsubscribe",value:function(t,e){this._creative.unsubscribe(e,t)}},{key:"adFactoryInitialize",value:function(t){try{this._creative.SMInitialize(t)}catch(t){}}}],[{key:"create",value:(e=kt(St().mark((function e(n){var i,r,a,o,s,c,u,l;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.adMedia,r=n.slot,a=n.adParameters,o=n.loadingModuleTime,s=void 0===o?3e4:o,c=null,u=null,!Di.isVPAID(i)){e.next=26;break}if(e.prev=4,!Di.isJavascript(i)){e.next=13;break}return e.next=8,Ve(tr({adMediaUrl:i.url,adParameters:a,slot:r}),s);case 8:l=e.sent,c=l.creative,u=l.vpaidSlot,e.next=18;break;case 13:if(!Di.isFlash(i)){e.next=17;break}throw new Error("Flash is not supported");case 17:throw new Error("Unsupported media type");case 18:e.next=24;break;case 20:throw e.prev=20,e.t0=e.catch(4),Lt.error("Loading VPAID",e.t0),new ki(101,{reason:e.t0?e.t0.message:""});case 24:e.next=27;break;case 26:c=Di.isYoutube(i)?new lr(i):new sr(i);case 27:return e.abrupt("return",new t(c,u,i));case 28:case"end":return e.stop()}}),e,null,[[4,20]])}))),function(t){return e.apply(this,arguments)})}]),t}();function fr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=sn(t);if(e){var r=sn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return on(this,n)}}var vr=function(t){an(n,t);var e=fr(n);function n(){return Tt(this,n),e.apply(this,arguments)}return Ct(n,[{key:"startAd",value:function(){this.emit(me.Type.VPAID.AD_STARTED),this.emit(me.Type.VPAID.AD_IMPRESSION),this.emit(me.Type.VPAID.AD_VIDEO_START),this.emit(me.Type.VPAID.AD_STOPPED)}}]),n}(rr);const pr={vpaidWrapperFactory:function(t){return hr.create(t)},reminderWrapperFactory:function(t){var e=new vr(t);return new hr(e,null,t)}};function mr(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e={},n=t.startsWith($n);return n&&(e.ratio="16:9"),e}function Ar(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=T(t._)?t:t._;if(P(n)){if(n=n.trim(),!e)return n;if(Di.isHttps(n))return n}return null}function gr(t){S(Array.from(t.children).filter((function(t){return"VIDEO"!==t.tagName&&L(t.dataset.deleting)})),(function(t){L(t.className.includes("".concat(E,"-vpaid-iframe")))?tt(t):(ot(t,{height:0,margin:0,visibility:"hidden"}),t.setAttribute("data-deleting",!0),function(t){setTimeout((function(){tt(t)}),5e3)}(t))}))}var yr=Ut;function br(t){return Array.from(new URL(t).searchParams.entries()).reduce((function(t,e){return u(u({},t),{},s({},e[0],e[1]))}),{})}function Er(t){var e,n=t.adTagUrl,i=t.macroValues,r=void 0===i?{}:i,a=n;if(n.includes("spotxchange")&&L(n.includes("&ad_volume"))&&(a+="&ad_volume=0"),a=Jt({str:a,values:r[yr]?u(u({},r),{},s({},yr,yt.encode(r[yr]))):r}),a.includes("vast.sunmedia.tv/creatives"))try{var o=function(t){var e=H(t.match(/^(http|https):\/\/vast.sunmedia.tv\/creatives\/([a-zA-Z0-9_.-]+)/)||[],3),n=e[1],i=e[2];return L(n&&i)?{url:t}:{url:"".concat(n,"://").concat("creatives.sunmedia.tv","/").concat(i,"/").concat(i,".xml"),params:u({rnd:Math.abs(Math.floor(1e9*Math.random()))},br(t))}}(a);a=o.url,e=o.params}catch(t){Lt.error("replacing ".concat(a," with direct xml VAST"),t)}return{url:a,tagMacros:e}}function kr(t){return W(t)||r(t)||a(t)||z()}var Tr={},Ir=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Lt.info.apply(Lt,["[HELPER getAdMediaFile]"].concat(e))},Cr=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Lt.warning.apply(Lt,["[HELPER getAdMediaFile]"].concat(e))};function wr(t){var e=function(t){var e=[],n=[],i=null,r=null;try{S(t,(function(t){var a={},o=Ar(t,!0);if(null!==o){var s=t.$,c=s.type,u=void 0===c?"":c,l=s.codec,d=void 0===l?"":l,h=s.apiFramework,f=void 0===h?"":h,v=t.$,p=v.width,m=void 0===p?"":p,A=v.height,g=void 0===A?"":A,y=v.bitrate,b=void 0===y?"":y;if(""!==u){var E=o.split(".").pop().toLowerCase();if(a.url=o,a.type=u,""!==d&&(a.codec=d),a.apiFramework=f,Di.isVPAID(a))return Ir("VPAID creative detected"),Di.isJavascript(a)?void(i=a):Di.isFlash(a)?void(r=a):void Cr("no supported vpaid",u);Di.isYoutube(a)?e=a:(""===m&&(m=0),""===g&&(g=0),(""===b||b<10)&&(b=0),a.width=parseInt(m,10),a.height=parseInt(g,10),a.bitrate=parseInt(b,10),vn.isDesktop()?E.indexOf("mp4")>-1&&n.push(a):(E.indexOf("mp4")>-1||E.indexOf("ogg")>-1||E.indexOf("webm")>-1||E.indexOf("mov")>-1&&vn.isIOs())&&n.push(a))}}}))}catch(t){t!==Tr&&Cr(t.message,t)}return{vpaidMediaFile:i||r,youtubeMediaFile:e,mediaFileItems:n}}(t),n=e.youtubeMediaFile,i=e.vpaidMediaFile,r=e.mediaFileItems,a=null;if(null!=i)a=i;else if(r.length>0){r.sort((function(t,e){return t.bitrate-e.bitrate}));var o=kr(r),s=o[0],c=o[1];o.slice(2);a=s,vn.isTablet()&&!T(c)?a=c:S(r,(function(t){t.bitrate>=512&&t.bitrate<720&&t.width>400&&t.width<800&&a.bitrate<t.bitrate&&(a=t)}))}else n&&(a=n);return Ir("selected mediafile",a),a}function Sr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=sn(t);if(e){var r=sn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return on(this,n)}}var Rr="VAST MANAGER",Dr=Lt.wrapWithName(Rr),Pr={message:"VAST/EMPTY"},Mr=0,Or=function(t){var e=null;try{e={},P(t)&&(-1!==t.indexOf("SM_NOSKIP")&&(e.skip=!1),-1!==t.indexOf("SM_NOAVA")&&(e.ava=!1),-1!==t.indexOf("SM_AUDIOON")&&(e.sound=!0),-1!==t.indexOf("SM_NORESTART")&&(e.restart=!1),-1!==t.indexOf("InVPAID")&&(e.InVPAIDSunMedia=!0))}catch(t){}return e},xr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(u({},mr(t.fromTag)),Or(t.adTitle))},Lr=function(t,e){return parseInt(t.$.sequence,10)-parseInt(e.$.sequence,10)},Vr=function(t){var e=t.event,n=t.node,i=t.trackingEvents,r=t.isUrl,a=void 0===r||r;S(n,(function(t){var n=Ar(t,a);null!=n&&i.add({event:e,url:n})}))},Nr=function(t){var e=t.node,n=void 0===e?{}:e,i=t.trackingEvents,r=n.Tracking,a=void 0===r?[]:r;a.length>0&&S(a,(function(t){var e=t.$.event,n=void 0===e?"":e;if(""!==n){var r=Ar(t,!0);i.add({event:n,url:r})}}))},Fr=function(t){var e=t.$,n=void 0===e?{}:e,i=t.Companion,r=void 0===i?[]:i;Dr.info("registerCompanions",n,r);var a=n.required,o=[];return S(r,(function(t){var e=t.StaticResource,n=void 0===e?[]:e,i=t.IFrameResource,r=void 0===i?[]:i,a=t.HTMLResource,s=void 0===a?[]:a,c=t.AltText,u=void 0===c?[]:c,l=t.TrackingEvents,d=void 0===l?[]:l,h=t.CompanionClickThrough,f=void 0===h?[]:h,v=t.CompanionClickTracking,p=void 0===v?[]:v,m=null,A=null,g=null;if(n.length>0){var y=n.shift();(m={}).$=y.$,m.content=Ar(y,!0)}if(r.length>0){var b=r.shift();(A={}).$=b.$,A.content=Ar(b,!0)}if(s.length>0){var E=s.shift();(g={}).$=E.$,g.content=Ar(E)}if(null!=m&&m.content||null!=A&&A.content||null!=g&&g.content){var k={$:t.$,staticResource:m,iframeResource:A,htmlResource:g};u.length>0&&(k.altText=Ar(u.shift())),f.length>0&&(k.clickThroughUrl=Ar(f.shift(),!0));var T=yi();Vr({event:me.Type.VAST.CLICK_TRACKING,node:p,trackingEvents:T}),Nr({node:d.shift(),trackingEvents:T}),k.trackingEvents=T,o.push(k)}})),Yi.companionAdsFactory({required:a,companionList:o})},Ur=function(t,e){var n=e.clickThroughUrl,i=e.companionAds,r=e.adData,a=e.trackingEvents,s=t;return s.adClickThroughUrl=!t.adClickThroughUrl&&n?n:t.adClickThroughUrl,s.adCompanions=0===t.adCompanions.length&&i?i:t.adCompanions,s.adData=!t.adData&&r?r:t.adData,s.adTrackingEvents.trackers=[].concat(o(t.adTrackingEvents.trackers),o(a.trackers)),s},Br=function(t){var e=t.code;if(t.trackingEvents.fire(me.Type.VAST.ERROR,(function(t){return Jt({str:t,values:M(e)?{errorCode:e}:{},pattern:/(\[)(ERRORCODE)(])/g,macros:{errorCode:"ERRORCODE"}})})),M(e))throw new ki(e);throw Pr},Wr=function(t){an(c,t);var n,i,r,a,o=Sr(c);function c(t){var e,n=t.slot,i=t.macroValues,r=void 0===i?{}:i;return Tt(this,c),(e=o.call(this)).slot=n,e.macroValues=r,e.shouldStopExecution=!1,e}return Ct(c,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.adTagFeed=t,this.currentIndex=0,this.videoplazaWaterfallManager=null;var n=e.requestTimeout;this.requestTimeout=function(t){return R(n)?n(t):n}}},{key:"stopExecution",value:function(){this.shouldStopExecution=!0}},{key:"validateExecution",value:function(){if(this.shouldStopExecution)throw new Error("Load ads canceled")}},{key:"nextAdTag",value:function(){try{var t=this.adTagFeed[this.currentIndex],e=t.url;return this.currentIndex+=1,!1===e.startsWith("https")?this.nextAdTag():t}catch(t){return!1}}},{key:"loadAds",value:(a=kt(St().mark((function t(){var e,n,i;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.validateExecution(),gr(this.slot),null==this.videoplazaWaterfallManager){t.next=13;break}if(!this.videoplazaWaterfallManager.hasNext()){t.next=12;break}return t.next=6,this.videoplazaWaterfallManager.loadAds();case 6:if(!(e=t.sent)){t.next=9;break}return t.abrupt("return",e);case 9:this.videoplazaWaterfallManager=null,t.next=13;break;case 12:this.videoplazaWaterfallManager.fireEmptyWaterfallError();case 13:if(!1!==(n=this.nextAdTag())){t.next=17;break}return this.emit(me.Type.SDK.NO_MORE_TAGS),t.abrupt("return",null);case 17:return this.adTag=n,this.emit(me.Type.SDK.REQUEST,this.adTag),i=this.adTag.url,t.abrupt("return",this.fetchAds(i));case 21:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"fetchAds",value:(r=kt(St().mark((function t(n){var i,r,a,o,s,c,u,l,d=arguments;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=d.length>1&&void 0!==d[1]?d[1]:{},this.validateExecution(),r=null,a=Er({macroValues:this.macroValues,adTagUrl:n}),o=a.url,s=a.tagMacros,Dr.info("tag with macros replaced",o,s),!((Mr+=1)>ii)){t.next=8;break}throw new Error(ri);case 8:return t.prev=8,u=this.requestTimeout(o),t.prev=10,t.next=13,Ge.get(o,{withCredentials:!0,timeout:u});case 13:c=t.sent,t.next=22;break;case 16:return t.prev=16,t.t0=t.catch(10),Dr.error(me.Type.SDK.REQUEST_ERROR,t.t0),t.next=21,Ge.get(o,{withCredentials:!1,timeout:u});case 21:c=t.sent;case 22:t.next=29;break;case 24:return t.prev=24,t.t1=t.catch(8),this.emit(me.Type.SDK.REQUEST_ERROR,this.adTag),Dr.error(me.Type.SDK.REQUEST_ERROR,t.t1),t.abrupt("return",this.loadAds());case 29:return this.validateExecution(),t.prev=30,l=c.data,t.next=34,this.setVast(o,l,i);case 34:_(r=t.sent)&&s&&e(r,{tagMacros:s}),t.next=42;break;case 38:return t.prev=38,t.t2=t.catch(30),Dr.warning(t.t2.message,t.t2),t.abrupt("return",this.loadAds());case 42:return t.abrupt("return",r);case 43:case"end":return t.stop()}}),t,this,[[8,24],[10,16],[30,38]])}))),function(t){return r.apply(this,arguments)})},{key:"setVast",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Dr.info("setVast",e,n);var i=n.companionAds,r=void 0===i?{}:i,a=n.trackingEvents,o=n.clickThroughUrl,s=yi();T(a)||(Dr.info("update ad tracker events with trackers from wrapper",a),s.concat(a));var c=e.VAST,u=void 0===c?[]:c;0===u.length&&Br({code:101,trackingEvents:s});var l=u.Ad,d=u.Error,h=void 0===d?[]:d;return Vr({event:me.Type.VAST.ERROR,node:h,trackingEvents:s}),T(l)&&Br({trackingEvents:s}),this.filterAdPod(t,l,{trackingEvents:s,clickThroughUrl:o,companionAds:r})}},{key:"filterAdPod",value:function(t,e,n){Dr.info("filterAdPod",e);var i=[],r=[],a=null;return S(e,(function(t){var e=t.$.sequence;""===(void 0===e?"":e)?r.push(t):i.push(t)})),0===i.length&&r.length>0?(Dr.info("not in an ad pod - we only load the first standalone ad"),a=r.shift()):i.length>0&&(Dr.info("ad pod detected"),i.sort(Lr),a=i.shift()),Kt(a)&&Br({code:200,trackingEvents:n.trackingEvents}),this.setAd(t,a,n)}},{key:"setAd",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Dr.info("setAd",e);var i=e.InLine,r=void 0===i?[]:i,a=e.Wrapper,o=void 0===a?[]:a,s=e.$,c=void 0===s?{}:s,u=n.companionAds,l=void 0===u?{}:u,d=n.clickThroughUrl,h=n.trackingEvents;0===r.length&&0===o.length&&Br({code:101,trackingEvents:h});var f,v=!1;o.length>0?(v=!0,f=o.shift()):f=r.shift();var p=f,m=p.VASTAdTagURI,A=void 0===m?[]:m,g=p.AdSystem,y=void 0===g?[]:g,b=p.AdTitle,E=void 0===b?[]:b,k=p.Impression,T=void 0===k?[]:k,I=p.AdServingId,C=void 0===I?[]:I,w=p.Category,S=void 0===w?[]:w,R=p.Description,D=void 0===R?[]:R,P=p.Advertiser,M=void 0===P?[]:P,O=p.Pricing,x=void 0===O?[]:O,L=p.Expires,V=void 0===L?[]:L,N=p.Error,F=void 0===N?[]:N,U=p.Creatives,B=void 0===U?[]:U,W=p.ViewableImpression,z=void 0===W?[]:W,H=c.id,_={fromTag:t,adId:H};A.length>0&&(_.vastAdTagURI=Ar(A.shift())),y.length>0&&(_.adSystem=Ar(y.shift())),E.length>0&&(_.adTitle=Ar(E.shift())),C.length>0&&(_.adServingId=Ar(C.shift())),S.length>0&&(_.category=Ar(S.shift())),D.length>0&&(_.description=Ar(D.shift())),M.length>0&&(_.advertiser=Ar(M.shift())),x.length>0&&(_.pricing=Ar(x.shift())),V.length>0&&(_.expires=Ar(V.shift())),Vr({event:me.Type.VAST.ERROR,node:F,trackingEvents:h}),Vr({event:me.Type.VAST.IMPRESSION,node:T,trackingEvents:h}),z[0]&&(Vr({event:me.Type.VAST.VIEWABLE,node:z[0].Viewable,trackingEvents:h,isUrl:!1}),Vr({event:me.Type.VAST.NOT_VIEWABLE,node:z[0].NotViewable,trackingEvents:h,isUrl:!1}),Vr({event:me.Type.VAST.VIEWABILITY_UNDETERMINED,node:z[0].ViewUndetermined,trackingEvents:h,isUrl:!1})),v&&!_.vastAdTagURI&&Br({code:101,trackingEvents:h});var G=(null==B?void 0:B.shift())||{},j=G.Creative,Z=void 0===j?[]:j;return v||0!==Z.length||Br({code:101,trackingEvents:h}),this.setCreatives({parentWrapper:{companionAds:l,trackingEvents:h,clickThroughUrl:d},creativeArr:Z,isWrapper:v,adData:_})}},{key:"setCreatives",value:(i=kt(St().mark((function t(e){var n,i,r,a,o,s,c,l,d,h,f,v,p,m,A,g,y,b,E,k,T,I,C,w,R,D,P;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=e.creativeArr,i=e.parentWrapper,r=void 0===i?{}:i,a=e.isWrapper,o=e.adData,Dr.info("setCreatives",n),s=r.trackingEvents,c=r.companionAds,l=void 0===c?{}:c,d=r.clickThroughUrl,h=null,f=function(t){var e=t.ClickThrough,n=void 0===e?[]:e,i=t.ClickTracking,r=void 0===i?[]:i;n.length>0&&(d=Ar(n.shift(),!0)),Vr({event:me.Type.VAST.CLICK_TRACKING,node:r,trackingEvents:s});var a=new RegExp("\\be=".concat(ei,"\\b"),"g");Vr({event:me.Type.VAST.USER_INTERACT,node:r.filter((function(t){return t._.includes(ti)&&!!t._.match(a)})).map((function(t){return u(u({},t),{},{_:t._.replace(a,"e=".concat(ni))})})),trackingEvents:s})},v=0;v<n.length;v+=1)p=n[v],m=p.Linear,A=void 0===m?[]:m,g=p.CompanionAds,(y=void 0===g?[]:g).length>0&&(l=Fr(y.shift())),A.length>0&&(h=A.shift(),E=(b=h).TrackingEvents,k=void 0===E?[]:E,T=b.VideoClicks,I=void 0===T?[]:T,Nr({node:k.shift(),trackingEvents:s}),I.length>0&&S(I,f));if(!a){t.next=22;break}if(Dr.info("following wrapper"),C=o.vastAdTagURI,w={url:C},!Di.isNoVideoReminder(w)){t.next=16;break}return t.next=14,pr.reminderWrapperFactory(w);case 14:return R=t.sent,t.abrupt("return",{isNoVideoReminder:!0,initialAdTag:this.adTag,linearCreative:R,adClickThroughUrl:d,adTrackingEvents:s,adCompanions:l,adData:o,adConfig:xr(o)});case 16:if(null===C){t.next=21;break}return D={clickThroughUrl:d,trackingEvents:s,companionAds:l},(P=this.fetchAds(C,D)).initialAdTag=this.adTag,t.abrupt("return",P);case 21:Br({code:300,trackingEvents:s});case 22:return t.abrupt("return",this.setLinearMediaFile({linear:h,companionAds:l,trackingEvents:s,clickThroughUrl:d,adData:o}));case 23:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"setLinearMediaFile",value:(n=kt(St().mark((function t(e){var n,i,r,a,o,u,l,d,h,f,v,p,m,A,g,y,b,E,k,T;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.linear,i=e.companionAds,r=e.trackingEvents,a=e.clickThroughUrl,o=e.adData,this.validateExecution(),Dr.info("setLinearMediaFile",n),u="",t.prev=4,d=n.AdParameters,h=void 0===d?[]:d,f=n.MediaFiles,v=void 0===f?[]:f,h.length>0&&(u=Ar(h.shift())),p=v.shift(),m=p.InteractiveCreativeFile,A=void 0===m?[]:m,g=p.MediaFile,y=void 0===g?[]:g,(l=A.length>0?(I=A.shift(),C=void 0,{apiFramework:(C=I.$).apiFramework,type:C.type,url:Ar(I,!0)}):wr(y))&&0!==l.length){t.next=11;break}throw new Error;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(4),Br({code:101,trackingEvents:r});case 16:if(!Di.isVideoplaza(l)){t.next=32;break}return Dr.info("DETECTED Videoplaza Waterfall"),E=c.create({macroValues:this.macroValues,slot:this.slot}),k=s({},me.Type.SDK.REQUEST_ERROR,De),Nn(this)(E,{logWrapper:Rr,propagate:!0}).subscribe(k),this.videoplazaWaterfallManager=new Ri({adData:o,fromAdTag:this.adTag,adParametersData:u,vastManager:E}),t.next=24,this.videoplazaWaterfallManager.loadAds();case 24:b=t.sent,this.validateExecution(),E.offAll(),b||Br({trackingEvents:r}),b=Ur(b,{clickThroughUrl:a,companionAds:i,adData:o,trackingEvents:r}),t.next=43;break;case 32:return t.prev=32,t.next=35,pr.vpaidWrapperFactory({adMedia:l,adParameters:u,slot:this.slot});case 35:T=t.sent,t.next=41;break;case 38:t.prev=38,t.t1=t.catch(32),Br({code:101,trackingEvents:r});case 41:this.validateExecution(),b={linearCreative:T,adParametersData:u,adClickThroughUrl:a,adTrackingEvents:r,adCompanions:i,adData:o,adConfig:xr(o),initialAdTag:this.adTag};case 43:return t.abrupt("return",b);case 44:case"end":return t.stop()}var I,C}),t,this,[[4,13],[32,38]])}))),function(t){return n.apply(this,arguments)})}],[{key:"create",value:function(t){return new c({slot:t.slot,macroValues:t.macroValues})}}]),c}(ln);const zr={vastManagerFactory:function(t){return Wr.create(t)}};var Hr=0,_r=1,Gr=2,jr=3,Zr=-1;var Yr=[{hiddenProperty:"hidden",visibilityEvent:"visibilitychange"},{hiddenProperty:"msHidden",visibilityEvent:"msvisibilitychange"},{hiddenProperty:"mozHidden",visibilityEvent:"mozvisibilitychange"},{hiddenProperty:"webkitHidden",visibilityEvent:"webkitvisibilitychange"}],Kr=["onfocusin","onfocusout","onpageshow","onpagehide","onfocus","onblur"],Qr=function(){return"visible"===document.visibilityState};function qr(t){var e=function(){Qr()&&(Kr.forEach((function(t){document[t]=null})),t())};Kr.forEach((function(t){document[t]=e}))}function Xr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.reduce((function(t,e){return t&&t[e]}),t)}var Jr=[A.VIDEO],$r=[A.SCROLLER,A.IMAGE,A.DISPLAY],ta=[A.SOCIAL,A.SCROLLER,A.DISPLAY,A.PROGRAMMATIC_DISPLAY,A.SURVEY],ea=["counter","fullscreen","label","play","skip","videoPlayer","volume"];function na(t){var e=t.provider,n=t.type,i=t.ava,r=t.transparentBackground,a=t.controls,o=void 0===a?{}:a,s={};if("SM"!==e)return s;var c=function(t){return t.includes(n)};c(Jr)&&(s.ratio="16:9"),Cn(i)&&(s.ava=i),(r||c($r))&&(s.referenceBackground="transparent");var l=n===A.VIDEO;return ea.forEach((function(t){s[t]=l})),l&&(s.skip={enabled:!0,style:{left:"8.5%"}},s.label={enabled:!0,style:{left:"1.5%"}}),c(ta)&&(s.skip={enabled:!0,class:ai}),u(u({},s),o)}function ia(t){if(P(t)){var e=!1;(window.document.hasFocus()||window.parent&&window.parent.document.hasFocus())&&(e=!0),e&&window.open(t)}}function ra(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=sn(t);if(e){var r=sn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return on(this,n)}}var aa="AD",oa="UI",sa="CONTROLLER",ca=Lt.wrapWithName(sa),ua=function(t){an(i,t);var e,n=ra(i);function i(t){var e,r=t.macroValues,a=t.vastManager,o=t.playerUI;return Tt(this,i),(e=n.call(this)).macroValues=r,e.vastManager=a,e.playerUI=o,e.options={},e.onVideoElemPlayingBind=e.onVideoElmPlaying.bind(nn(e)),e.eventSubscriberFactory=Nn(nn(e)),e.currentAdSubscriber=null,e}return Ct(i,[{key:"resetAdState",value:function(t){this.options=t||this.options,this.adRatio=this.options.ratio,this.currentAd=null,this.adStarted=!1,this.adImpression=!1,this.videoStarted=!1,this.firstQuartileFired=!1,this.midpointFired=!1,this.thridQuartileFired=!1,this.videoCompleted=!1,this.adStopped=!1,this.skipBtnDisplayed=!1,this.adTimeCounter=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.period,i=void 0===n?1e3:n,r=e.context,a=e.args,s=void 0===a?[]:a;if(!R(t))return null;var c=null,u=null;function l(){this.lastExecutionTime=Date.now();for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.apply(r,n)}function d(){clearInterval(c),clearTimeout(u)}function h(){var t=this;Object.keys(this).forEach((function(e){"state"!==e&&delete t[e]}))}function f(t){return new Promise((function(e){u=setTimeout(e,t)}))}return{state:Hr,lastExecutionTime:null,remainingTime:0,set:function(){this.state!==_r&&(c=setInterval.apply(void 0,[l.bind(this),i].concat(o(s))),this.state=_r)},start:function(){this.state!==_r&&(l.apply(this,s),this.set())},pause:function(){this.state!==_r&&this.state!==jr||(this.remainingTime=i-(Date.now()-this.lastExecutionTime),d(),this.state=Gr)},resume:function(){var t=this;return kt(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.state===Gr){e.next=2;break}return e.abrupt("return");case 2:return t.state=jr,e.next=5,f(t.remainingTime);case 5:t.start(),t.remainingTime=0;case 7:case"end":return e.stop()}}),e)})))()},restart:function(){d(),this.state=Hr,this.start()},cancel:function(){d(),this.state=Zr,h.call(this)}}}(this.setRemainingTime,{period:1e3,context:this}),this.emitAdSkippedTimeout=null,this.emitVideoCompleteTimeout=null,this.emitAdStoppedTimeout=null}},{key:"start",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.resetAdState(e),this.playerUI.init(e),this.subscribeToUIEvents(),this.subscribeToVastManagerEvents(),this.vastManager.init(t,this.options),this.loadAds()}},{key:"continueLoadingAds",value:function(){return this.clearAd(),this.resetAdState(),this.loadAds()}},{key:"loadAds",value:function(){var t=this;return this.playerUI.resetVideoPlayer(this.options),this.playerUI.displayMediaLayer(),this.vastManager.loadAds().then((function(e){if(t.currentAd=e,null!=t.currentAd){var n;t.subscribeToCurrentAdEvents();var i={AdParameters:t.currentAd.adParametersData,macros:t.currentAd.tagMacros},r={slot:t.playerUI.mediaLayerElem,videoSlot:t.playerUI.videoElem};null!=t.currentAd.linearCreative.vpaidSlot&&(r.slot=t.currentAd.linearCreative.vpaidSlot),t.updateOptions(null===(n=t.currentAd)||void 0===n?void 0:n.adConfig);try{var a=t.macroValues,o=a.width,s=a.height;t.currentAd.linearCreative.initAd(o,s,"normal",500,i,r)}catch(e){return ca.warning(e.message,e),t.continueLoadingAds()}}return e})).catch((function(e){ca.error("Loading ads",e),(null==e?void 0:e.message)===ri&&t.emit(me.Type.SDK.MAX_REQUESTS_REACHED)}))}},{key:"obtainPlayerDimensions",value:function(){var t=this.playerUI.$adContainer.clientWidth;return{width:t,height:Wn("height")(t,this.adRatio)}}},{key:"subscribeToUIEvents",value:function(){var t,e={logWrapper:oa,propagate:!0},n=this.eventSubscriberFactory(this.playerUI,e),i=(s(t={},me.Type.UI.PLAY_CLICKED,this.onUIPlayClicked),s(t,me.Type.UI.VOLUME_CHANGED,this.onUIVolumeChanged),s(t,me.Type.UI.FULLSCREEN_CHANGED,this.onUIFullscreenChanged),t);n.subscribe(i);var r=s({},me.Type.UI.SKIP_CLICKED,this.onUISkipClicked);n.subscribeOnce(r)}},{key:"subscribeToVastManagerEvents",value:function(){var t,e={logWrapper:oa,propagate:!0},n=this.eventSubscriberFactory(this.vastManager,e),i=(s(t={},me.Type.SDK.REQUEST,De),s(t,me.Type.SDK.REQUEST_ERROR,De),s(t,me.Type.SDK.NO_MORE_TAGS,De),t);n.subscribe(i)}},{key:"subscribeToCurrentAdEvents",value:function(){var t,e,n={logWrapper:aa,propagate:!0};this.currentAdSubscriber=this.eventSubscriberFactory(this.currentAd.linearCreative,n);var i=(s(t={},me.Type.VPAID.AD_PAUSED,this.onAdPaused),s(t,me.Type.VPAID.AD_PLAYING,this.onAdPlaying),s(t,me.Type.VPAID.AD_VOLUME_CHANGE,this.onAdVolumeChange),s(t,me.Type.VPAID.AD_SKIPPABLE_STATE_CHANGE,this.onAdSkippableStateChange),s(t,me.Type.VPAID.AD_DURATION_CHANGE,this.onAdDurationChange),s(t,me.Type.VPAID.AD_CLICK_THRU,this.onAdClickThru),s(t,me.Type.VPAID.AD_EXPANDED_CHANGE,this.onAdExpandedChange),s(t,me.Type.VPAID.AD_INTERACTION,this.onAdInteraction),s(t,me.Type.VPAID.AD_LOG,this.onAdLog),t);this.currentAdSubscriber.subscribe(i);var r=(s(e={},me.Type.VPAID.AD_ERROR,this.onAdError),s(e,me.Type.VPAID.AD_LOADED,this.onAdLoaded),s(e,me.Type.VPAID.AD_STARTED,this.onAdStarted),s(e,me.Type.VPAID.AD_IMPRESSION,this.onAdImpression),s(e,me.Type.VPAID.AD_VIDEO_START,this.onAdVideoStart),s(e,me.Type.VPAID.AD_STOPPED,this.onAdStopped),s(e,me.Type.VPAID.AD_SKIPPED,this.onAdSkipped),s(e,me.Type.VPAID.AD_VIDEO_FIRST_QUARTILE,this.onAdVideoFirstQuartile),s(e,me.Type.VPAID.AD_VIDEO_MIDPOINT,this.onAdVideoMidpoint),s(e,me.Type.VPAID.AD_VIDEO_THIRD_QUARTILE,this.onAdVideoThirdQuartile),s(e,me.Type.VPAID.AD_VIDEO_COMPLETE,this.onAdVideoComplete),s(e,me.Type.SDK.AD_FACTORY,this.onAdFactory),s(e,me.Type.SDK.AD_FACTORY_PROGRAMMATIC_DISPLAY,this.onAdFactoryProgrammaticDisplay),e);this.currentAdSubscriber.subscribeOnce(r)}},{key:"hasActuallyStarted",value:function(){return this.adStarted&&(this.adImpression||this.videoStarted)}},{key:"startAd",value:function(){!this.adStarted&&Xr(this.currentAd,"linearCreative")&&(this.adStarted=!0,this.currentAd.linearCreative.startAd())}},{key:"resizeAd",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";M(t)&&M(e)&&this.currentAd&&this.currentAd.linearCreative&&this.currentAd.linearCreative.resizeAd(t,e,n)}},{key:"setSkipDivVisibility",value:function(){Xr(this.currentAd,"linearCreative")&&(this.currentAd.linearCreative.getAdSkippableState()?(this.playerUI.displaySkipControl(),this.skipBtnDisplayed=!0):this.playerUI.hideSkipControl())}},{key:"trySetAdDuration",value:function(){Xr(this.currentAd,"linearCreative")&&!this.currentAd.duration&&(this.currentAd.duration=this.currentAd.linearCreative.getAdDuration()||this.currentAd.linearCreative.getAdRemainingTime()||null)}},{key:"shouldTryDisplaySkipBtn",value:function(t){var e=this.currentAd.duration-this.options.skipTime;return this.options.skip&&!this.skipBtnDisplayed&&O(t)&&O(e)&&t<=e}},{key:"setRemainingTime",value:function(){var t=this;if(this.trySetAdDuration(),Xr(this.currentAd,"linearCreative")&&this.currentAd.duration){var e=this.currentAd.linearCreative.getAdRemainingTime();this.playerUI.updateRemainingTime(e),this.shouldTryDisplaySkipBtn(e)&&this.setSkipDivVisibility(),e<=1&&!this.emitVideoCompleteTimeout&&(this.emitVideoCompleteTimeout=setTimeout((function(){t.currentAdSubscriber.emitEvent(me.Type.VPAID.AD_VIDEO_COMPLETE)}),3500))}}},{key:"fireTrackingEvent",value:function(t){this.currentAd&&null!=this.currentAd.adTrackingEvents&&this.currentAd.adTrackingEvents.fire(t).then((function(e){ca.info("FIRE TRACKER",t,e)})).catch((function(e){ca.warning("FIRE TRACKER",t,e.message)}))}},{key:"onVideoElmPlaying",value:function(){this.currentAd&&null!=this.currentAd.linearCreative&&!this.adStarted&&this.currentAd.linearCreative.pauseAd()}},{key:"onUIPlayClicked",value:function(){this.currentAd&&null!=this.currentAd.linearCreative&&this.currentAd.linearCreative.resumeAd()}},{key:"onUISkipClicked",value:function(){this.skipAd()}},{key:"onUIVolumeChanged",value:function(t){var e=t.muted;this.currentAd&&this.currentAd.linearCreative&&(this.lastVolume=this.currentAd.linearCreative.getAdVolume(),this.currentAd.linearCreative.setAdVolume(e?0:1))}},{key:"onUIFullscreenChanged",value:function(t){var e=t.changedToFullscreen,n=void 0!==e&&e;if(this.currentAd&&this.currentAd.linearCreative)if(n){var i=window.screen,r=i.height,a=i.width,o=this.currentAd.dimensions.ratio,s={};a>=r?(s.width=Wn("width")(r,o),s.height=r):(s.width=a,s.height=Wn("height")(a,o));var c=s.height,u=s.width;this.currentAd.isAdFactory&&this.playerUI.mediaLayerElem.setAttribute("style","\n          left: 50%;\n          width: ".concat(u,"px;\n          margin-left: -").concat(u/2,"px;\n          top: 50%;\n          height: ").concat(c,"px;\n          margin-top: -").concat(c/2,"px;\n        ")),this.fireTrackingEvent(me.Type.VAST.PLAYER_EXPAND),this.fireTrackingEvent(me.Type.VAST.FULLSCREEN),this.currentAd.linearCreative.resizeAd(u,c,"fullscreen")}else{this.currentAd.isAdFactory&&this.playerUI.mediaLayerElem.removeAttribute("style"),this.fireTrackingEvent(me.Type.VAST.PLAYER_COLLAPSE),this.fireTrackingEvent(me.Type.VAST.EXIT_FULLSCREEN);var l=this.obtainPlayerDimensions(),d=l.width,h=l.height;this.currentAd.linearCreative.resizeAd(d,h)}}},{key:"isFullscreen",value:function(){return this.playerUI.isInFullscreenMode}},{key:"onAdFactory",value:function(t){try{if(!(t&&"SM"===t.provider))throw new Error("Wrong eventData received for adFactory");this.currentAd.isAdFactory=!0,this.currentAd.linearCreative.isAdFactory=!0,this.currentAd.isProgrammaticDisplay=t.type===A.PROGRAMMATIC_DISPLAY,this.currentAd.adFactory=t,this.currentAd.linearCreative.adFactoryInitialize({SMContainer:this.playerUI.mediaLayerElem,plugin:!0}),B(this.updateOptions.bind(this),na)(this.currentAd.adFactory)}catch(t){ca.warning(t)}}},{key:"onAdFactoryProgrammaticDisplay",value:function(t){try{var e=t.w,n=t.h,i=Wn("ratio")(e,n)||this.options.programmaticDisplayRatio;this.currentAd.dimensions={width:e,height:n,ratio:i},this.emit(me.Type.SDK.RESIZE_PROGRAMMATIC_DISPLAY)}catch(t){ca.error(t)}}},{key:"setAdDimensions",value:function(){var t,e;if(this.currentAd.isAdFactory){var n=this.currentAd.adFactory;t=n.width,e=n.height}else{var i=Xr(this.currentAd,"linearCreative","adMedia")||{};t=i.width,e=i.height}t&&e&&(this.currentAd.isAdFactory||e>t)?this.adRatio=Wn("ratio")(t,e):(t=null,e=null),this.currentAd.dimensions={width:t,height:e,ratio:this.adRatio}}},{key:"onAdLoaded",value:function(){var t=this.currentAd,e=t.isProgrammaticDisplay,n=t.isNoVideoReminder;L(e||n)&&this.setAdDimensions(),this.emit(me.Type.SDK.AD_PRELOAD),this.playerUI.videoElem.addEventListener("playing",this.onVideoElemPlayingBind)}},{key:"onAdStarted",value:function(){this.adStarted=!0,ca.info("trackingEvents",this.currentAd.adTrackingEvents),this.fireTrackingEvent(me.Type.VAST.CREATIVE_VIEW),this.currentAd.isNoVideoReminder||(this.adTimeCounter.start(),this.playerUI.displayInitialControls())}},{key:"onAdStopped",value:function(){this.adStopped||(L(this.videoCompleted)&&L(this.currentAd.isNoVideoReminder)&&this.currentAdSubscriber.emitEvent(me.Type.VPAID.AD_VIDEO_COMPLETE,{close:!1}),this.clearAd(),this.adStopped=!0)}},{key:"onAdSkipped",value:function(){this.fireTrackingEvent(me.Type.VAST.SKIP),this.clearAd()}},{key:"onAdVolumeChange",value:function(){var t=this.currentAd.linearCreative.getAdVolume(),e=null;0===t&&this.lastVolume>0&&(e=me.Type.VAST.MUTE),t>0&&0===this.lastVolume&&(e=me.Type.VAST.UNMUTE),e&&this.fireTrackingEvent(e)}},{key:"onAdSkippableStateChange",value:function(){L(this.adStarted)||this.skipBtnDisplayed||this.setSkipDivVisibility()}},{key:"onAdDurationChange",value:function(){this.adTimeCounter.restart(),this.currentAd.duration=this.currentAd.linearCreative.getAdDuration()}},{key:"onAdImpression",value:function(){this.adImpression||(this.fireTrackingEvent(me.Type.VAST.IMPRESSION),this.adImpression=!0)}},{key:"onAdClickThru",value:(e=kt(St().mark((function t(e){var n;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.fireTrackingEvent(me.Type.VAST.CLICK_TRACKING),this.adPausedByClick=!0,this.currentAd.linearCreative.pauseAd(),!1!==Xr(e,"playerHandles")&&(n=T(e)||_(e)?Xr(e,"url")||this.currentAd.adClickThroughUrl:e,Dn(Ne,ia)(n)),this.playerUI.exitFullscreen(),!e||!e.playing){t.next=10;break}return t.next=9,new Promise((function(t){var e=function(){return t()},n=(Yr.find((function(t){return t.hiddenProperty in document}))||{}).visibilityEvent;n?zn(document,n,e,Qr):qr(e)}));case 9:this.onUIPlayClicked();case 10:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"onAdExpandedChange",value:function(){this.currentAd.isAdFactory&&(this.currentAd.expanded=this.currentAd.linearCreative.getAdExpanded())}},{key:"onAdInteraction",value:function(){this.fireTrackingEvent(me.Type.VAST.USER_INTERACT)}},{key:"onAdVideoStart",value:function(){this.videoStarted||(this.fireTrackingEvent(me.Type.VAST.START),this.videoStarted=!0)}},{key:"onAdVideoFirstQuartile",value:function(){this.firstQuartileFired||(this.onAdVideoStart(),this.fireTrackingEvent(me.Type.VAST.FIRST_QUARTILE),this.firstQuartileFired=!0)}},{key:"onAdVideoMidpoint",value:function(){this.midpointFired||(this.onAdVideoFirstQuartile(),this.fireTrackingEvent(me.Type.VAST.MIDPOINT),this.midpointFired=!0)}},{key:"onAdVideoThirdQuartile",value:function(){this.thridQuartileFired||(this.onAdVideoMidpoint(),this.fireTrackingEvent(me.Type.VAST.THIRD_QUARTILE),this.thridQuartileFired=!0)}},{key:"onAdVideoComplete",value:function(t){var e=this;this.videoCompleted||(clearTimeout(this.emitVideoCompleteTimeout),this.adTimeCounter.pause(),this.currentAdSubscriber.unsubscribe(me.Type.VPAID.AD_PAUSED),this.onAdVideoThirdQuartile(),this.fireTrackingEvent(me.Type.VAST.COMPLETE),this.playerUI.exitFullscreen(),this.videoCompleted=!0,!1!==Xr(t,"close")&&(this.emitAdStoppedTimeout=setTimeout((function(){e.currentAdSubscriber.emitEvent(me.Type.VPAID.AD_STOPPED)}),1e3)))}},{key:"onAdPaused",value:function(){this.fireTrackingEvent(me.Type.VAST.PAUSE),this.adPausedByClick&&this.playerUI.displayPlayControl(),this.adTimeCounter.pause()}},{key:"onAdPlaying",value:function(){this.fireTrackingEvent(me.Type.VAST.RESUME),this.playerUI.hidePlayControl(),this.adPausedByClick=null,this.adTimeCounter.resume()}},{key:"onAdError",value:function(){this.fireTrackingEvent(me.Type.VAST.ERROR),this.hasActuallyStarted()&&(this.playerUI.exitFullscreen(),this.clearAd())}},{key:"onAdLog",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];ca.info.apply(ca,e.concat([this]))}},{key:"updateOptions",value:function(t){L(Object.keys(t||{}).length)||(t.ratio&&(this.adRatio=t.ratio),this.playerUI.updateVideoPlayer(t),this.emit(me.Type.SDK.UPDATE_OPTIONS,t))}},{key:"skipAd",value:function(){var t,e=this;null!==(t=this.currentAd)&&void 0!==t&&t.linearCreative&&(this.emitAdSkippedTimeout=setTimeout((function(){e.currentAdSubscriber.emitEvent(me.Type.VPAID.AD_SKIPPED)}),1e3),this.playerUI.exitFullscreen(),this.currentAd.linearCreative.skipAd())}},{key:"clearAd",value:function(){var t,e,n;null===(t=this.adTimeCounter)||void 0===t||null===(e=t.cancel)||void 0===e||e.call(t),clearTimeout(this.emitAdStoppedTimeout),clearTimeout(this.emitAdSkippedTimeout),clearTimeout(this.emitVideoCompleteTimeout),this.playerUI.hideControls(),this.playerUI.hideMediaLayer(),this.playerUI.resetVideoSource(),this.playerUI.videoElem.removeEventListener("playing",this.onVideoElemPlayingBind),null===(n=this.currentAdSubscriber)||void 0===n||n.unsubscribeAll()}},{key:"destroy",value:function(){this.vastManager.stopExecution(),this.clearAd(),this.currentAd=null,this.playerUI.destroy()}}]),i}(ln),la=function(t){var e=t.$adContainer,n=t.macroValues,i=void 0===n?{}:n,r=mi.playerUIFactory({$adContainer:e}),a=zr.vastManagerFactory({slot:r.mediaLayerElem,macroValues:i});return new ua({playerUI:r,vastManager:a,macroValues:i})},da={AD_CONTAINER:"\n    .".concat(E,"-ad-container {\n      position: absolute;\n      visibility: hidden;\n    }")},ha={STARTED:"ReminderStarted",CLICK:"ReminderClick",ENDED:"ReminderEnded",ERROR:"ReminderError",SKIPPED:"ReminderSkipped"},fa={VIDEO_REMINDER:2e4,NO_VIDEO_REMINDER:3e4},va={RESTART:"RESTART",CLOSE:"CLOSE"},pa=1,ma=2,Aa=3,ga=4,ya=5,ba=6,Ea=7,ka=8,Ta=9,Ia="initialPosition",Ca="mainPosition",wa="avaPosition",Sa="expandedPosition",Ra="styles";function Da(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=sn(t);if(e){var r=sn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return on(this,n)}}var Pa=function(t){an(n,t);var e=Da(n);function n(){return Tt(this,n),e.apply(this,arguments)}return Ct(n,[{key:"hasNativeSupport",value:function(){return L(T(window.ResizeObserver))}},{key:"getElementDimensions",value:function(){return st(this.getTarget())}},{key:"createInterval",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return setInterval((function(){return t(e.getElementDimensions())}),n)}},{key:"createObserver",value:function(t){var e=this,n=this.getTarget(),i=new ResizeObserver((function(n){var i,r,a,o=null!==(i=null!==(r=null===(a=n[0])||void 0===a?void 0:a.contentRect)&&void 0!==r?r:e.getElementDimensions())&&void 0!==i?i:{},s=o.width,c=o.height;t({width:s,height:c})}));return i.observe(n),i}}],[{key:"createObservable",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return Zn(n,e)}}]),n}(Yn),Ma="always",Oa="empty",xa="fixed",La="ava",Va="AlternativeMounted",Na="AlternativeContentLoaded",Fa="AlternativeEnded",Ua="AlternativeError",Ba={publisher:"publisherId"},Wa={FIXED:{NO_IFRAME:{MAIN:{display:"block",overflow:"hidden",position:"relative",top:"50%",transform:"translateY(-50%)","margin-left":"auto","margin-right":"auto","text-align":"center"},CONTAINER_ADAPTS:{top:"unset",transform:"unset"}},IN_IFRAME:{MAIN:{display:"block",overflow:"hidden",position:"relative",top:"50%","margin-left":"50%",transform:"translate(-50%, -50%)"},CONTAINER_ADAPTS:{top:"unset",transform:"translateX(-50%)"}},CONTENT_LOADED:{"max-height":"100%"}},AVA:{display:"block",overflow:"hidden",position:"fixed","z-index":"99999"},IFRAME:{display:"block",position:"absolute",top:"0px",left:"0px",height:"100%",border:"0px"},CLOSE:{display:"none",position:"absolute",top:"10px",right:"10px",width:"26px",height:"26px","background-image":"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAzCAMAAAANf8AYAAAAkFBMVEUAAAAAAAD+/v4rKyv8/Pz39/f8/Pz39/eLi4vR0dH+/v7V1dWKioqFhYV/f3/////Nzc0AAAD+/v78/Pz9/f3u7u7s7Ozr6+vp6ekSEhL+/v7w8PB0dHT39/fS0tKnp6f19fXu7u7z8/Pv7+/MzMzJyckAAADy8vLi4uL4+Pjv7+8AAADZ2dnDw8OdnZ1fX18QcjD1AAAAMHRSTlMmEvgt7tbr2EZ7/IJFREH9eAH77fS1saynKfnAPtp/Vs+2yLl1cx/DmN66CoZtUDim/7c5AAABu0lEQVRIx+2V126DMBiFARtjhg0OEGYYCWlWx/u/XX9HbRSIw1CvWtVXCPTpyGcITejaovMihAbIUkhbfvR/5qcMorTsf+x/UzE03qb0CWMftq6S2UYkVkIo2EREyZQpWeGYKRDbzA3zTekBjbFDEv7ABKZhWK7aN4BAqSiHKhvDMG30zGuWYD9MvN67SqrYI/nwInRIy+9UOsvILReNZVomxAnbm1LmSpX9RA+8FpSS7zvtLbiLm011h7dkFRZcPiIXEKtD033zktDHCZPpS5VqVkfLAnKKKURp5Bsbzes1ByNwfJQqwewtMGhEFOUyyvn7oW3k+/4pQEs29wqM0/AFO0WVmfuOH57ZfKaC65+a0MFrbyaDgmst6RmvyJrOYrJr+kGmsTVMY+fNYfam3EsmG7GGcFM+ySB3AypfudAdKB34FBOY9+l7KfZx6o0yyLagY3cT4wcwYkdHmMyWKr2J8ZQMLdd7SCAdG0zM20nLmZqR14daPnSMSssLpmY6GeVwYjfLmZI54siqkGoaRRg1tZpptp265SxtCjXzXtegoobq+uO3/Rv/CPOymLloYimkC00IfdG5CPEJRJcY90Ps4pAAAAAASUVORK5CYII=')","background-size":"contain","background-repeat":"no-repeat","z-index":5e4,cursor:"pointer"}};function za(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=sn(t);if(e){var r=sn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return on(this,n)}}function Ha(t,e){var n=et(J({content:e}),!0).children;$(t,Array.from(n))}var _a=function(t){an(a,t);var e,n,i,r=za(a);function a(t){var e;Tt(this,a),(e=r.call(this)).api=t.api,e.config=t.config,e.instanceIndex=t.instanceIndex,e.availablePositions=t.availablePositions,e.wind=t.wind,e.macroValues=t.macroValues,e.device=t.device,e.playedAdCount=t.playedAdCount;var n=e.availablePositions,i=n.mainPosition,o=n.avaPosition;return e.position=o?{$container:o.$container,getStyles:o.getPositionStyles,closeButton:Wa.CLOSE,containerAdpatsToContent:!1,isAva:!0}:{$container:i.$container,getStyles:i.getPositionStyles,closeButton:i.closeButton?u(u({},Wa.CLOSE),i.closeButton):null,containerAdpatsToContent:Boolean(i.containerAdpatsToContent),isMain:!0},e.alternativeConfig=e.config.alternative,e.$alternative=null,e.$iframe=null,e.$close=null,e.onIframeLoaded=e.onIframeLoaded.bind(nn(e)),e.closeAlternative=e.closeAlternative.bind(nn(e)),e.getIframeDimensions=e.getIframeDimensions.bind(nn(e)),e}return Ct(a,[{key:"replaceContentMacros",value:function(t){var e=this;return B((function(t){return Jt({str:t,values:e.macroValues})}),(function(t){return Jt({str:t,values:e.config,macros:Ba})}))(t)}},{key:"init",value:function(){try{if(L(a.hasAlternativeToDisplay(this.config,this.playedAdCount)))throw new Error("It has no alternative to display");this.build()}catch(t){this.emit(Ua,t)}}},{key:"build",value:function(){this.$alternative=this.createAlternativeElement(),$(this.position.$container,this.$alternative),this.emit(Va,this.position),this.alternativeConfig.iframe?this.loadAlternativeInFrame():this.loadAlternative()}},{key:"createAlternativeElement",value:function(){if(this.position.closeButton){var t={name:"close",style:this.position.closeButton,events:{click:this.closeAlternative}};this.$close=J(t)}return J({name:"alternative",id:this.api,style:this.getAlternativeStyles(),attributes:{data:{it:this.config.it,index:this.instanceIndex,device:this.device}},children:this.$close})}},{key:"getAlternativeStyles",value:function(){var t,e=this.position,n=e.getStyles,i=e.isAva,r=e.containerAdpatsToContent,a=this.alternativeConfig,o=a.position,c=a.margin,l=a.bottom,d=a.iframe;if(R(n))return n();var h=d?"IN_IFRAME":"NO_IFRAME";return i?u(u({},Wa.AVA),{},(s(t={},o,c),s(t,"bottom",l),t)):u(u({},Wa.FIXED[h].MAIN),r&&Wa.FIXED[h].CONTAINER_ADAPTS)}},{key:"loadAlternative",value:function(){var t=this,e=this.replaceContentMacros(this.alternativeConfig.content);Ha(this.$alternative,e),this.alternativeResizeSubscription=Pa.createObservable(this.$alternative).subscribe((function(e){null!=e&&e.height&&(t.alternativeResizeSubscription.unsubscribe(),t.onContentLoaded(e))}))}},{key:"loadAlternativeInFrame",value:(i=kt(St().mark((function t(){var e;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="\n      <script>var inDapIF = true;<\/script>\n      ".concat(this.replaceContentMacros(this.alternativeConfig.content),"\n    "),this.$iframe=J({type:"iframe",style:Wa.IFRAME,attributes:{scrolling:"no"}}),$(this.$alternative,this.$iframe),t.next=5,this.loadIFrame(e);case 5:this.onIframeLoaded();case 6:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"loadIFrame",value:(n=kt(St().mark((function t(e){var n,i,r=this;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(t){return new Promise((function(e){zn(r.$iframe,"load",(function(){return e()}));var n=(r.$iframe.contentDocument||r.$iframe.contentWindow.document).open();t&&n.write("<body>".concat(t,"</body>")),n.close()}))},t.prev=1,t.next=4,Ve(n(),1e3);case 4:Ha(null==(i=this.$iframe.contentDocument||this.$iframe.contentWindow.document)?void 0:i.body,e),t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(1),t.next=12,n(e);case 12:case"end":return t.stop()}}),t,this,[[1,8]])}))),function(t){return n.apply(this,arguments)})},{key:"onIframeLoaded",value:(e=kt(St().mark((function t(){var e,n;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,ot(null==(e=this.$iframe.contentDocument||this.$iframe.contentWindow.document)?void 0:e.body,{margin:0}),t.next=5,Qi(this.getIframeDimensions,{attempts:121});case 5:n=t.sent,this.onContentLoaded(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),Lt.info("Failed to get alternative iframe dimensions");case 12:case"end":return t.stop()}}),t,this,[[0,9]])}))),function(){return e.apply(this,arguments)})},{key:"getIframeDimensions",value:function(){var t=this;return new Promise((function(e,n){var i,r=K(i=t.$iframe)&&"IFRAME"===i.nodeName?{height:i.contentWindow.document.body.scrollHeight,width:i.contentWindow.document.body.scrollWidth}:null,a=r.width,o=r.height;L(a)||L(o)?n():e({width:a,height:o})}))}},{key:"onContentLoaded",value:function(t){var e=t.width,n=t.height;ot(this.$alternative,u({width:e,height:n},this.position.isMain&&Wa.FIXED.CONTENT_LOADED)),this.alternativeConfig.iframe&&ot(this.$iframe,{width:"100%"}),this.$close&&ot(this.$close,{display:"block"}),this.emit(Na,this.position)}},{key:"closeAlternative",value:function(){tt(this.$alternative),this.emit(Fa,{userInteraction:!0})}}],[{key:"hasAlternativeToDisplay",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Boolean(null===(t=e.alternative)||void 0===t?void 0:t.content)&&(e.alternative.schedule===Ma||e.alternative.schedule===Oa&&0===n)}},{key:"isDisplayAva",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==e||null===(t=e.alternative)||void 0===t?void 0:t.display)===La}}]),a}(ln);const Ga={create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new _a(t)},hasAlternativeToDisplay:_a.hasAlternativeToDisplay,isDisplayAva:_a.isDisplayAva};function ja(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=sn(t);if(e){var r=sn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return on(this,n)}}var Za=function(t){an(n,t);var e=ja(n);function n(){return Tt(this,n),e.apply(this,arguments)}return Ct(n,[{key:"hasNativeSupport",value:function(){return!0}},{key:"createObserver",value:function(t){var e=this.getTarget(),n=new IntersectionObserver((function(e){var n=kr(e),i=n[0];n.slice(1);t(i)}),{threshold:[0,1]});return n.observe(e),n}}],[{key:"createObservable",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return Zn(n,e)}}]),n}(Yn);function Ya(t){var n=function(t){return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=Object.create(t.methods||null);return e(a,t.props),t.hooks.length&&(a.hooks=(a.hooks||[]).concat(t.hooks)),(t.init||[]).forEach((function(t){t.call.apply(t,[a].concat(i))})),a}}(t);return n.compose=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Qa.apply(this,e)},e(n.compose,t),n}function Ka(t,n){var i,r=R(i=n)&&R(i.compose)?n.compose:n;return L(function(t){return _(t)||R(t)}(r))||(t.props=bt(t.props,r.props),t.methods=e(t.methods||{},r.methods),t.init=(t.init||[]).concat(r.init||[]),t.hooks=(t.hooks||[]).concat(r.hooks||[])),t}function Qa(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];D(this)&&e.unshift(this);var i=e.reduce(Ka,{});return Ya(i)}const qa=Qa;var Xa=qa({init:function(){this.emitter=Object.create(new ln)},methods:{emit:function(t,e){this.emitter.emit(t,e)}}}),Ja="\n  .".concat(E,"-companion-container .").concat(E,"-controls.").concat(E,"-companion-close {\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF5GlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDUgNzkuMTY0NTkwLCAyMDIwLzEyLzA5LTExOjU3OjQ0ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjIuMSAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjEtMDItMDhUMDk6Mjc6MDcrMDE6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIxLTAyLTA4VDEyOjI2OjMyKzAxOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIxLTAyLTA4VDEyOjI2OjMyKzAxOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMSIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkRvdCBHYWluIDE1JSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo0OGMyMTEwZS1iYzQ2LTRhNzAtOWVkMy0zN2NjYTJhZDU3MTAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NWJiY2M0YjQtMjY1Zi00YzgyLWJiNWMtZjljNzEzNjRlNDZiIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NWJiY2M0YjQtMjY1Zi00YzgyLWJiNWMtZjljNzEzNjRlNDZiIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo1YmJjYzRiNC0yNjVmLTRjODItYmI1Yy1mOWM3MTM2NGU0NmIiIHN0RXZ0OndoZW49IjIwMjEtMDItMDhUMDk6Mjc6MDcrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMi4xIChNYWNpbnRvc2gpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo0OGMyMTEwZS1iYzQ2LTRhNzAtOWVkMy0zN2NjYTJhZDU3MTAiIHN0RXZ0OndoZW49IjIwMjEtMDItMDhUMTI6MjY6MzIrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMi4xIChNYWNpbnRvc2gpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pv9bcmgAAACdSURBVDiN7ZNLEoMgEERfUzmZ4KUjHE06C81GUPPZpFLOcmoezXSDzPsVPmAu6Cvotm0kZ0Yt6QkDwXfQoZKVmGxgBRukfz0likWggieitgMNVDBBickVnBnVnttRKswEJeRCFNRXIBAzXhdxZ2THcrlQlSj21oVdyJkokEZK5++o7S1JgTEg53PLB2eGFQmAFJ+RHSmd14+/8n+EHjIPOOda016cAAAAAElFTkSuQmCC');\n    background-repeat: no-repeat;\n    background-size: contain;\n    box-sizing: border-box;\n    cursor: pointer;\n    display: none;\n    float: none;\n    position: absolute;\n    z-index: 12;\n  }\n"),$a={REMINDER:"\n    .".concat(E,"-companion-container {\n      display: none;\n      margin: 0;\n    }\n\n    .").concat(E,"-companion-container.").concat(E,"-main {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      background-color: #ffffff;\n    }\n    .").concat(E,"-companion-container.").concat(E,"-overlap {\n      position: absolute;\n      visibility: visible;\n    }\n    .").concat(E,"-companion-container.").concat(E,"-ava {\n      overflow: hidden;\n      position: fixed;\n    }\n    .").concat(E,"-companion-container[data-type='Main'] {\n      z-index: 99999;\n    }\n    .").concat(E,"-companion-container[data-type='Remember'] {\n      z-index: 99998;\n    }\n    \n    ").concat(Ja,"\n\n    .").concat(E,"-companion-container .").concat(E,"-resource-container {\n      width: 100%;\n      height: 100%;\n    }\n    .").concat(E,"-companion-container .").concat(E,"-resource-container iframe {\n        border: none;\n    }\n    .").concat(E,"-companion-container .").concat(E,"-companion-click-layer {\n        background: transparent;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        z-index: 10;\n        cursor: pointer;\n    }\n    .").concat(E,"-companion-container .").concat(E,"-controls.").concat(E,"-companion-close {\n      right: 5px;\n      top: 5px;\n    }\n  "),CLOSE:{WIDTH:25,HEIGHT:25}};function to(t){return qa({init:function(t){this.companion=t.companion,this.container=t.$container,this.getPositionStyles=t.getPositionStyles,this.options=t.options,this.device=t.device,this.ava=t.ava,this.it=t.it,this.maxDimensions=t.maxDimensions,this.onClickThrough=this.onClickThrough.bind(this),this.onSkip=this.onSkip.bind(this),this.dimensions=this.getDimensions()},methods:{start:function(){var t=this;if(!this.dimensions)return Lt.error("Reminder missing dimensions"),void this.emit(ha.ERROR);this.createReminderElements(),it("reminder-styles",$a.REMINDER),this.appendReminderElements(),this.companion.loadAd(this.$resourceContainer).then((function(){t.displayCloseButton(),t.companion.trackingEvents.fire(me.Type.VAST.CREATIVE_VIEW),t.emit(ha.STARTED)})).catch((function(e){Lt.error("Starting reminder",e),t.destroy(),t.emit(ha.ERROR)}))},createReminderElements:function(){var t=this.dimensions,e=this.it,n=this.device,i=this.companion,r={name:"companion-container",style:t,attributes:{class:this.getContainerClass(),data:{it:e,device:n,type:i.id}}};this.$companionContainer=J(r);var a={events:{click:this.onClickThrough}},o=u({name:"resource-container",attributes:{alt:i.altText||""}},a);this.$resourceContainer=J(o);var s={name:"companion-close",style:{width:"".concat($a.CLOSE.WIDTH,"px"),height:"".concat($a.CLOSE.HEIGHT,"px")},attributes:{class:"sm-controls"},events:{click:this.onSkip}};if(this.$close=J(s),i.clickThroughUrl){var c=u({name:"companion-click-layer"},a);this.$clickLayer=J(c)}},onClickThrough:function(){ia(this.companion.clickThroughUrl),this.companion.trackingEvents.fire(me.Type.VAST.CLICK_TRACKING),this.emit(ha.CLICK)},onSkip:function(){this.emit(ha.SKIPPED)},displayCloseButton:function(){var t=this;return kt(St().mark((function e(){var n,i,r,a;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==(null===(n=t.options)||void 0===n||null===(i=n.reminder)||void 0===i?void 0:i.displayCloseBtnTime)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Hn(null===(r=t.options)||void 0===r||null===(a=r.reminder)||void 0===a?void 0:a.displayCloseBtnTime);case 4:ot(t.$close,{display:"block"});case 5:case"end":return e.stop()}}),e)})))()},appendReminderElements:function(){var t=this.container,e=this.$close,n=this.$clickLayer,i=this.$resourceContainer,r=this.$companionContainer,a=[i,e];n&&a.push(n),$(r,a),$(t,r)},destroy:function(){tt(this.$companionContainer)},show:function(){ot(this.$companionContainer,{display:"block"})},hide:function(){ot(this.$companionContainer,{display:"none"})}}}).compose(t,Xa)}function eo(t){var e=t.dimensions,n=void 0===e?{}:e,i=t.maxWidth,r=t.maxHeight,a=n.width,o=n.height,s=n.ratio;if(L(s))return u({},n);var c={width:a,height:o};return de(i)&&a>i&&(c.width=i,c.height=Wn("height")(i,s)),de(r)&&o>r&&(c.width=Wn("width")(r,s),c.height=r),u(u({},c),{},{ratio:s})}function no(t,e){var n=e.maxWidth,i=e.maxHeight,r=u({},t);L(r.width&&r.height)&&(r.width=n,r.height=Wn("height")(n,r.ratio));var a=eo({dimensions:r,maxWidth:n,maxHeight:i});return{width:Gn(a.width,2),height:Gn(a.height,2),ratio:a.ratio}}var io=to({methods:{getDimensions:function(){var t,e,n,i=this.companion,r=i.width,a=i.height,o=st(this.container),s=o.width,c=o.height;if(L(de(r)&&de(a))){var u=this.options.reminder.mainRatio;n={ratio:u,width:s,height:Wn("height")(s,u)}}else n={width:r,height:a,ratio:Wn("ratio")(r,a)};var l=no(n,{maxWidth:Math.min(s,(null===(t=this.maxDimensions)||void 0===t?void 0:t.width)||1/0),maxHeight:Math.min(c,(null===(e=this.maxDimensions)||void 0===e?void 0:e.height)||1/0)});return{width:l.width,height:l.height}},getContainerClass:function(){return"".concat(E,"-main")}}}),ro={"200x200":{reduceAvaWidth:{mobile:.66,desktop:!1}},"300x100":{reduceAvaWidth:{mobile:!0,desktop:!1}},"300x250":{reduceAvaWidth:{mobile:.66,desktop:!1}},"300x600":{reduceAvaWidth:{mobile:.5,desktop:!0}},"320x50":{reduceAvaWidth:{mobile:!0,desktop:!1}},"320x100":{reduceAvaWidth:{mobile:!0,desktop:!1}},"320x480":{reduceAvaWidth:{mobile:.66,desktop:!0}},"450x563":{reduceAvaWidth:{mobile:.66,desktop:!0}},"450x800":{reduceAvaWidth:{mobile:.5,desktop:!0}},"640x360":{reduceAvaWidth:{mobile:.66,desktop:!1}},"728x90":{},"800x600":{reduceAvaWidth:{mobile:.66,desktop:!1}},"970x250":{reduceAvaWidth:{mobile:!0,desktop:!1}},"980x90":{}};function ao(t,e){var n,i=e.maxWidth,r=e.defaultRatio,a=e.forceSize,o=e.device,s=u({},t),c=ro["".concat(s.width,"x").concat(s.height)];if(L(c)||a)return L(s.width&&s.height)&&(s.width=i,s.height=Wn("height")(i,s.ratio)),eo({dimensions:s,maxWidth:i,maxHeight:Wn("height")(i,r)});var l=null==c||null===(n=c.reduceAvaWidth)||void 0===n?void 0:n[o];if(l){var d=O(l)?i*l:.5*s.width;s.width=Gn(d),s.height=Wn("height")(s.width,s.ratio)}return eo({dimensions:s,maxWidth:i})}var oo={WIDTH:250,HEIGHT:300},so=to({init:function(t){this.ava=t.ava},methods:{getDimensions:function(){var t,e,n,i=this.companion,r=i.width,a=i.height,o=this.ava,c=o.maxWidth,u=o.forceSize,l=this.options.ratio;if(L(de(r)&&de(a)))if("Main"===this.companion.id){var d=this.options.reminder.mainRatio;r=c,a=Wn("height")(c,d)}else r=oo.WIDTH,a=oo.HEIGHT;var h=eo({dimensions:ao({width:r,height:a,ratio:Wn("ratio")(r,a)},{maxWidth:c,forceSize:u,defaultRatio:l,device:this.device}),maxWidth:(null===(t=this.maxDimensions)||void 0===t?void 0:t.width)||1/0,maxHeight:(null===(e=this.maxDimensions)||void 0===e?void 0:e.height)||1/0}),f=this.ava,v=f.bottom,p=f.position,m=f.margin,A=H(p.split("_"),2),g=A[0],y=A[1];return s(n={width:h.width,height:h.height},g,v),s(n,y,m),n},getContainerClass:function(){return"".concat(E,"-ava")}}}),co=to({methods:{getDimensions:function(){var t=this.companion,e=t.width,n=t.height,i=t.isRemember,r=Wn("ratio")(e,n),a=this.options.reminder.mainRatio,o=this.maxDimensions;return i&&o?u(u({},o),eo({dimensions:{width:e,height:n,ratio:r},maxWidth:o.width,maxHeight:o.height})):this.getPositionStyles({width:e,height:n,ratio:r||a})},getContainerClass:function(){return"".concat(E,"-overlap")}}});function uo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=sn(t);if(e){var r=sn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return on(this,n)}}var lo=function(t){an(n,t);var e=uo(n);function n(t){var i,r,a;Tt(this,n),(a=e.call(this)).kwargs=t;var o=a.kwargs;return a.ava=o.ava,a.companionAds=o.companionAds,a.availablePositions=o.availablePositions,a.mainCompanion=null===(i=a.companionAds)||void 0===i?void 0:i.find((function(t){return t.isEndcard&&!t.isRemember})),a.rememberCompanion=null===(r=a.companionAds)||void 0===r?void 0:r.find((function(t){return t.isEndcard&&t.isRemember})),a.main=null,a.remember=null,a.eventLog={},a.viewportPosSubscription=null,a.eventSubscriberFactory=Nn(nn(a)),a.start=a.start.bind(nn(a)),a.toggleAvaReminder=a.toggleAvaReminder.bind(nn(a)),a.durationTimeout=null,a.duration=t.isNoVideoReminder?fa.NO_VIDEO_REMINDER:fa.VIDEO_REMINDER,a}return Ct(n,[{key:"init",value:function(){try{if(!this.mainCompanion&&!this.rememberCompanion)throw new Error("No reminders found");this.build(),this.start()}catch(t){this.emit(ha.ERROR,t)}}},{key:"build",value:function(){var t=this.availablePositions||{},e=t.mainPosition,n=t.avaPosition,i=t.overlapPosition;if(L(e||n||i))this.emit(ha.ERROR);else{if(this.mainCompanion){var r=u(u({},this.kwargs),{},{companion:this.mainCompanion});n&&L(e||i)?this.main=so(u(u({},r),n)):e?this.main=io(u(u({},r),e)):i&&(this.main=co(u(u({},r),i))),this.subscribeToMainEvents()}if(this.rememberCompanion){var a=L((e||i)&&n)&&this.main?this.main.dimensions:void 0,o=u(u({},this.kwargs),{},{companion:this.rememberCompanion,maxDimensions:a});n?this.remember=so(u(u({},o),n)):e?this.remember=io(u(u({},o),e)):i&&(this.remember=co(u(u({},o),i))),this.subscribeToRememberEvents()}}}},{key:"start",value:function(){var t,e;null===(t=this.main)||void 0===t||t.start(),null===(e=this.remember)||void 0===e||e.start()}},{key:"subscribeToMainEvents",value:function(){var t,e=this,n=this.eventSubscriberFactory(this.main.emitter);n.subscribeOnce((s(t={},ha.STARTED,this.onMainStarted),s(t,ha.SKIPPED,this.onSkipped),s(t,ha.ERROR,this.onMainError),t)),n.subscribe(s({},ha.CLICK,(function(){return e.emit(ha.CLICK)})))}},{key:"subscribeToRememberEvents",value:function(){var t,e=this,n=this.eventSubscriberFactory(this.remember.emitter);n.subscribeOnce((s(t={},ha.STARTED,this.onRememberStarted),s(t,ha.SKIPPED,this.onSkipped),s(t,ha.ERROR,this.onRememberError),t)),n.subscribe(s({},ha.CLICK,(function(){return e.emit(ha.CLICK)})))}},{key:"onMainStarted",value:function(){this.setDurationTime(),this.emitEventOnce(ha.STARTED),this.main.show()}},{key:"onMainError",value:function(){delete this.main,this.remember||this.emit(ha.ERROR),clearTimeout(this.durationTimeout)}},{key:"onRememberStarted",value:function(){this.setDurationTime(),this.emitEventOnce(ha.STARTED);var t=this.availablePositions,e=t.avaPosition,n=t.mainPosition,i=t.overlapPosition;e&&(n||i)&&this.main?this.viewportPosSubscription=Za.createObservable((null==n?void 0:n.$container)||(null==i?void 0:i.$container)).subscribe(this.toggleAvaReminder):this.remember.show()}},{key:"toggleAvaReminder",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.intersectionRatio;1===e?this.remember.hide():this.remember.show()}},{key:"onRememberError",value:function(){delete this.remember,this.main||this.emit(ha.ERROR),clearTimeout(this.durationTimeout)}},{key:"onSkipped",value:function(){this.destroyReminders(),clearTimeout(this.durationTimeout),this.emitEventOnce(ha.SKIPPED)}},{key:"setDurationTime",value:function(){var t=this;this.durationTimeout||(this.durationTimeout=setTimeout((function(){return t.stopReminders()}),this.duration))}},{key:"stopReminders",value:function(){this.destroyReminders(),clearTimeout(this.durationTimeout),this.emitEventOnce(ha.ENDED)}},{key:"destroyReminders",value:function(){var t,e,n;null===(t=this.main)||void 0===t||t.destroy(),delete this.main,null===(e=this.remember)||void 0===e||e.destroy(),null===(n=this.viewportPosSubscription)||void 0===n||n.unsubscribe(),delete this.remember}},{key:"emitEventOnce",value:function(t){this.eventLog[t]||(this.eventLog[t]=!0,this.emit(t))}}]),n}(ln);var ho={createController:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new lo(t)}},fo=function(){function t(e,n){Tt(this,t),this.api=e.api,this.macroValues=e.macroValues,this.integrationScript=e.integrationScript,this.instanceIndex=e.instanceIndex,this.config=e.config,this.appTrackingEvents=e.appTrackingEvents,this.hooksManager=new gn(this),this.plugin=n()(this),this.freezedOriginalConfig=null,this.state=pa,this.wind=window,this.device=vn.device,this.adPosition=null,this.displayRestart=this.config.options.restart,this.adControllerInstance=null,this.adCtrlSubscriber=null,this.eventSubscriberFactory=Nn(this),this.movingTimeout=null,this.$adContainer=null,this.adContainerCurrentStyles=null,this.sunmediaRequestCount=0,this.clientRequestCount=0,this.sunmediaAdCount=0,this.clientAdCount=0,this.playedAdCount=0,this.adEnded=!1,this.loopIntents=1,this.start=this.start.bind(this),this.restart=this.restart.bind(this),this.windowHeight=lt(),this.useScreenWidth=vn.isMobile()}var e,n,i,r,a,o;return Ct(t,[{key:"setUseScreenWidth",value:function(t){this.useScreenWidth=t}},{key:"updateMacroValues",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.macroValues=u(u({},this.macroValues),t)}},{key:"setDefaultDimensionMacroValues",value:function(){var t,e=(null===(t=st(this.$adContainer))||void 0===t?void 0:t.width)||Math.min(ut(),640),n=Wn("height")(e,this.config.options.ratio);this.macroValues=u({width:Gn(e),height:Gn(n)},this.macroValues)}},{key:"reset",value:function(){this.config=Me(this.freezedOriginalConfig),this.adEnded=!1,this.adPosition=null,this.plugin.reset()}},{key:"init",value:(o=kt(St().mark((function t(){return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.build();case 3:return t.next=5,this.manageStart();case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0.extra?Lt.info("Plugin stopped by extra"):Lt.error("Initializing outstream plugin",t.t0),this.close({err:t.t0});case 11:case"end":return t.stop()}}),t,this,[[0,7]])}))),function(){return o.apply(this,arguments)})},{key:"build",value:(a=kt(St().mark((function t(){return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.hooksManager.beforeBuild(),t.next=3,this.plugin.build();case 3:this.hooksManager.beforeMount(),this.mountComponent(),this.hooksManager.mounted();case 6:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"manageStart",value:(r=kt(St().mark((function t(){return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.state!==Ta){t.next=2;break}return t.abrupt("return");case 2:if("mobile"!==this.device||!this.config.options.touchstart){t.next=6;break}zn(this.wind,"touchstart",this.start),t.next=8;break;case 6:return t.next=8,this.start();case 8:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"start",value:(i=kt(St().mark((function t(){return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{this.setDefaultDimensionMacroValues(),this.initAdController(),this.state=ma,this.plugin.createObservables(),this.freezedOriginalConfig=Object.freeze(Me(this.config)),this.startAdController()}catch(t){Lt.error("Starting outstream plugin",t),this.close({err:t})}case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"restart",value:(n=kt(St().mark((function t(){var e,n=arguments;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=n.length>0&&void 0!==n[0]&&n[0];try{this.wind.removeEventListener("scroll",this.restart,!0),this.loopIntents+=1,this.appTrackingEvents.setLoop(this.loopIntents),this.mountAdContainer(),this.initAdController(),this.state=ma,this.startAdController(e)}catch(t){Lt.error("Start outstream plugin",t),this.close({err:t})}case 2:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"mountComponent",value:function(){var t=this.config,e=t.it,n=t.options;Dn(n.css,(function(){return it("styles-".concat(e),"".concat(n.css))}))(),it(Ra,da.AD_CONTAINER),this.plugin.mount(),this.mountAdContainer()}},{key:"mountAdContainer",value:function(){this.$adContainer=this.createAdContainer(),this.insertAdContainer(),this.plugin.adContainerMounted()}},{key:"unmountAdContainer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=L(Kt(this.$adContainer));if(e){var n=this.$adContainer;this.$adContainer=null,this.adContainerCurrentStyles=null;var i={height:0,margin:0,visibility:"hidden"};ot(n,i),this.plugin.adContainerUnmounted();var r=t?0:this.config.options.removeMs;Hn(r).then((function(){tt(n),n=null}))}}},{key:"createAdContainer",value:function(){return J({name:"ad-container",id:"".concat(this.api,"-").concat(this.loopIntents),attributes:{data:{it:this.config.it,index:this.instanceIndex,device:this.device}}})}},{key:"insertAdContainer",value:function(){$(this.plugin.getAdContainerParent(),this.$adContainer),this.plugin.updateAdPosition(Ia)}},{key:"moveAdContainer",value:function(t){var e=this;clearTimeout(this.movingTimeout),rt(this.$adContainer,"add","sm-moving");try{t()}catch(t){Lt.warning(t)}this.movingTimeout=setTimeout((function(){rt(e.$adContainer,"remove","sm-moving")}),200)}},{key:"batchMoveAdChanges",value:function(t,e){var n,i;(n=this.adContainerCurrentStyles,i=t,_(n)&&_(i)&&Pn(n,i)&&Pn(i,n))||(this.moveAdContainer(e),this.adContainerCurrentStyles=t)}},{key:"disableAva",value:function(){this.config.ava.enabled=!1,this.config.ava.forceStart=!1}},{key:"restoreAva",value:function(){this.config.ava=Me(this.freezedOriginalConfig.ava)}},{key:"stopLoop",value:function(){this.loopIntents=this.config.loop.times}},{key:"itShouldLoop",value:function(t){var e=this.config.loop,n=e.enabled,i=e.times,r=e.onlyOneVideo;return n&&(0===i||this.loopIntents<i)&&L(t&&r)}},{key:"initAdController",value:function(){this.adControllerInstance=la({$adContainer:this.$adContainer,macroValues:this.macroValues}),this.subscribeToAdControllerEvents()}},{key:"startAdController",value:(e=kt(St().mark((function t(e){var n,i;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.config.adTags,i=e?n.filter((function(t){return t.isSunmedia})):n,t.next=4,this.adControllerInstance.start(i,this.config.options);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"subscribeToAdControllerEvents",value:function(){var t,e;null===(t=this.adCtrlSubscriber)||void 0===t||t.unsubscribeAll(),this.adCtrlSubscriber=this.eventSubscriberFactory(this.adControllerInstance,{emitHooks:!0});var n=(s(e={},me.Type.SDK.REQUEST,this.onAdRequest),s(e,me.Type.SDK.REQUEST_ERROR,De),s(e,me.Type.SDK.NO_MORE_TAGS,this.onSDKNoMoreTags),s(e,me.Type.SDK.UPDATE_OPTIONS,this.onSDKUpdateOptions),s(e,me.Type.SDK.AD_PRELOAD,this.onAdPreload),s(e,me.Type.SDK.RESIZE_PROGRAMMATIC_DISPLAY,this.onResizeProgrammaticDisplay),s(e,me.Type.VPAID.AD_LOADED,this.onAdLoaded),s(e,me.Type.VPAID.AD_STARTED,this.onAdStarted),s(e,me.Type.VPAID.AD_PAUSED,this.onAdPaused),s(e,me.Type.VPAID.AD_PLAYING,this.onAdPlaying),s(e,me.Type.VPAID.AD_CLICK_THRU,De),s(e,me.Type.VPAID.AD_IMPRESSION,this.onAdImpression),s(e,me.Type.VPAID.AD_VIDEO_START,De),s(e,me.Type.VPAID.AD_VIDEO_FIRST_QUARTILE,De),s(e,me.Type.VPAID.AD_VIDEO_MIDPOINT,De),s(e,me.Type.VPAID.AD_VIDEO_THIRD_QUARTILE,De),s(e,me.Type.VPAID.AD_VIDEO_COMPLETE,this.onAdVideoComplete),s(e,me.Type.VPAID.AD_SKIPPED,this.onAdSkipped),s(e,me.Type.VPAID.AD_STOPPED,this.onAdStopped),s(e,me.Type.VPAID.AD_ERROR,this.onAdError),s(e,me.Type.VPAID.AD_EXPANDED_CHANGE,this.onAdExpandedChange),e);this.adCtrlSubscriber.subscribe(n);var i=s({},me.Type.SDK.MAX_REQUESTS_REACHED,this.onSMMaxRequestsReached);this.adCtrlSubscriber.subscribeOnce(i)}},{key:"onAdRequest",value:function(t){Kt(null==t?void 0:t.isSunmedia)||(t.isSunmedia?this.sunmediaRequestCount+=1:this.clientRequestCount+=1)}},{key:"onSMMaxRequestsReached",value:function(){this.stopLoop(),this.displayRestart=!1,this.endAd()}},{key:"onSDKNoMoreTags",value:function(){this.adControllerInstance.currentAd=null,this.endAd()}},{key:"onSDKUpdateOptions",value:function(t){this.plugin.updateConfigOptions(t)}},{key:"onAdPreload",value:function(){this.plugin.adPreload()}},{key:"onAdLoaded",value:function(){this.state=Aa,this.adControllerInstance.currentAd.isProgrammaticDisplay?this.startAd():this.plugin.startAd()}},{key:"startAd",value:function(){this.state>=ga||(this.state=ga,this.adControllerInstance.startAd())}},{key:"onAdStarted",value:function(){this.state=ya,this.playedAdCount+=1,this.plugin.adStarted()}},{key:"onAdPaused",value:function(){this.state=Ea}},{key:"onAdPlaying",value:function(){this.state=ba}},{key:"onAdImpression",value:function(){this.adControllerInstance.currentAd.initialAdTag.isSunmedia?this.sunmediaAdCount+=1:this.clientAdCount+=1}},{key:"onAdVideoComplete",value:function(){this.state=ka}},{key:"onAdSkipped",value:function(){this.endAdByUserInteraction()}},{key:"endAdByUserInteraction",value:function(){this.stopLoop(),this.endAd({userInteraction:!0})}},{key:"onAdStopped",value:function(){var t,e=(this.adControllerInstance||{}).currentAd,n=null==e||null===(t=e.adCompanions)||void 0===t?void 0:t.endcardCompanions;if(null!=n&&n.length)return this.plugin.adStoppedWithReminder(),this.unsubscribeAll(),this.unmountAdContainer(e.isNoVideoReminder),void this.displayReminder(n);this.endAd()}},{key:"onAdError",value:function(){this.adControllerInstance.hasActuallyStarted()?this.endAd():(this.reset(),this.plugin.updateAdPosition(Ia),this.adControllerInstance.continueLoadingAds())}},{key:"onAdExpandedChange",value:function(){this.plugin.adExpandedChange()}},{key:"onResizeProgrammaticDisplay",value:function(){this.plugin.programmaticDisplayLoaded()}},{key:"endAd",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.userInteraction,i=void 0!==n&&n;if(!this.adEnded){this.hooksManager.beforeEndAd({userInteraction:i}),this.adEnded=!0;var r=this.adControllerInstance||{},a=r.currentAd,o=L(Kt(a));if(this.itShouldLoop(o))return this.reset(),this.unmountAdContainer(),void(!o||this.config.loop.autoStart?this.restart():this.wind.addEventListener("scroll",this.restart,!0));if(Ga.hasAlternativeToDisplay(this.config,this.playedAdCount))return this.displayRestart=!1,this.unmountAdContainer(),void this.displayAlternative(o);var s=this.displayRestart&&this.playedAdCount>0;if(s)return this.reset(),this.unmountAdContainer(),void this.plugin.displayRestart().then((function(e){switch(e.action){case va.RESTART:t.restart(!0);break;case va.CLOSE:t.displayRestart=!1,t.close({adHasBeenPlayed:!1,userInteraction:!0})}})).catch((function(e){t.close({adHasBeenPlayed:!1,err:e})}));this.close({adHasBeenPlayed:o,userInteraction:i})}}},{key:"close",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.adHasBeenPlayed,i=e.userInteraction,r=e.err;this.state!==Ta&&(this.hooksManager.beforeClose({adHasBeenPlayed:n,err:r}),this.state=Ta,this.unsubscribeAll(),Dn(this.adControllerInstance,(function(){t.adControllerInstance.destroy()}))(),this.unmountAdContainer(),this.removeElements(i),this.hooksManager.afterClose())}},{key:"unsubscribeAll",value:function(){this.wind.removeEventListener("touchstart",this.start,!1)}},{key:"displayReminder",value:function(t){var e,n,i=this,r=this.config,a=r.it,o=r.ava,c=r.options,u=(null===(e=this.adControllerInstance)||void 0===e?void 0:e.currentAd)||{},l=u.adTrackingEvents,d=u.isNoVideoReminder,h=this.plugin.getAvailablePositions({hasAva:o.enabled,isReminder:!0}),f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.userInteraction,n=t.err;Dn(n,(function(){return Lt.error("Creating the reminder",n)}))(),e?i.endAdByUserInteraction():i.endAd()},v=ho.createController({companionAds:t,it:a,ava:o,options:c,isNoVideoReminder:d,availablePositions:h,device:this.device}),p=this.eventSubscriberFactory(v,{emitHooks:!0});p.subscribeOnce((s(n={},ha.STARTED,De),s(n,ha.SKIPPED,(function(){return f({userInteraction:!0})})),s(n,ha.ENDED,(function(){return f()})),s(n,ha.ERROR,(function(t){return f({err:t})})),n)),p.subscribe(s({},ha.CLICK,(function(){l.fire(me.Type.VAST.CLICK_TRACKING)}))),v.init()}},{key:"displayAlternative",value:function(t){var e,n=this,i=Ga.isDisplayAva(this.config),r=this.plugin.getAvailablePositions({hasAva:i,isAlternative:!0}),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.userInteraction,r=e.err;Dn(r,(function(){return Lt.error("Creating Alternative",r)}))(),delete n.config.alternative,n.state<Ta?n.close({adHasBeenPlayed:t}):n.removeElements(i)},o=Ga.create({api:this.api,wind:this.wind,config:this.config,instanceIndex:this.instanceIndex,device:this.device,macroValues:this.macroValues,playedAdCount:this.playedAdCount,availablePositions:r});this.eventSubscriberFactory(o,{emitHooks:!0}).subscribeOnce((s(e={},Va,(function(){n.close({adHasBeenPlayed:t})})),s(e,Na,De),s(e,Fa,(function(){a.apply(void 0,arguments)})),s(e,Ua,(function(t){a({err:t})})),e)),o.init()}},{key:"removeElements",value:function(t){var e=this;this.plugin.removeElements(t),this.cleanAllElements(),this.noMoreContentAvailable()&&Hn(this.config.options.removeMs).then((function(){e.hooksManager.noMoreContentAvailable()}))}},{key:"noMoreContentAvailable",value:function(){return L(Ga.hasAlternativeToDisplay(this.config,this.playedAdCount))&&L(this.displayRestart)&&this.plugin.hasEffectiveTrackerBeenFired()}},{key:"cleanAllElements",value:function(){try{var t=".".concat(E,"-companion-container.").concat(E,'-ava[data-it="').concat(this.config.it,'"]');tt(this.wind.document.querySelector(t))}catch(t){}}}]),t}();const vo=function(t){return{create:function(e){return new fo(e,t)}}};var po="expirationTime";function mo(){return Math.floor(Date.now()/1e3)}var Ao=function(t){return P(t)?window.btoa(t):t},go=function(t){return P(t)?window.atob(t):t},yo=N((function(t,e){return localStorage.setItem(e,t)})),bo=function(t){return localStorage.getItem(t)},Eo=function(t){return localStorage.removeItem(t)};function ko(t){try{return B(Eo,Ao)(t),!0}catch(e){return Lt.error("removing ".concat(t," from the cache"),e),!1}}var To={set:function(t,e,n){if(L(t&&e&&n))return Lt.error("an argument is missing setting to the cache",{key:t,value:e,timeToExpire:n}),!1;try{var i=B(Ao,JSON.stringify),r=function(t){return mo()+t}(n),a=i(u(u({},e),{},s({},po,r)));return B(yo(a),Ao)(t),!0}catch(e){return Lt.error("setting ".concat(t," to cache"),e),!1}},get:function(t){try{var e=B(JSON.parse,go,bo,Ao)(t);return L(e)?null:mo()>=e.expirationTime?(ko(t),null):(delete e.expirationTime,e)}catch(e){return Lt.error("getting ".concat(t," from cache"),e),ko(t),null}},remove:ko};const Io=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=qa({init:function(t){var e=t.httpClient;this.httpClient=e},methods:{transformResponse:function(t,e){return{key:t,data:e}},fetch:function(t){var e=this;return kt(St().mark((function n(){var i,r;return St().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i={},!L(P(t))){n.next=3;break}return n.abrupt("return",i);case 3:return n.prev=3,n.next=6,e.httpClient.get(t);case 6:r=n.sent,i=r.data,n.next=12;break;case 10:n.prev=10,n.t0=n.catch(3);case 12:return n.abrupt("return",i);case 13:case"end":return n.stop()}}),n,null,[[3,10]])})))()}}});return e.compose(t)};var Co="".concat("https://services.sunmedia.tv","/geotarget/geocity.php"),wo="geoTarget",So=Io({methods:{fetchGeolocation:function(){var t=this;return kt(St().mark((function e(){var n,i,r,a,o;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!L(o=To.get(wo))){e.next=6;break}return e.next=4,t.fetch(Co);case 4:o=e.sent,To.set(wo,o,3600);case 6:return e.abrupt("return",t.transformResponse(wo,u(u({},o),{},{country:null===(n=o)||void 0===n||null===(i=n.city)||void 0===i?void 0:i.country,eu_country:null===(r=o)||void 0===r||null===(a=r.city)||void 0===a?void 0:a.EU})));case 7:case"end":return e.stop()}}),e)})))()}}}),Ro=So({httpClient:Ge});Ro.create=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return So(t)};const Do=Ro;var Po="".concat("https://static.sunmedia.tv","/SMSdk/tracker"),Mo=function(t,e){return P(t)&&P(e)?"".concat(Po,"/").concat(t,"/").concat(e):null},Oo=Io({methods:{fetchDefaultTrackers:function(t,e){var n=this;return kt(St().mark((function i(){var r,a;return St().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r=Mo(t,e),i.next=3,n.fetch(r);case 3:return a=i.sent,i.abrupt("return",n.transformResponse("defaultTrackers",a.default_tracker));case 5:case"end":return i.stop()}}),i)})))()},fetchDefaultTags:function(t,e){var n=this;return kt(St().mark((function i(){var r,a,o,s;return St().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r=Mo(t,e),i.next=3,n.fetch(r);case 3:return a=i.sent,o=vn.device,s=o.toUpperCase(),i.abrupt("return",n.transformResponse("defaultTags",a[s]));case 7:case"end":return i.stop()}}),i)})))()}}}),xo=Oo({httpClient:Ge});xo.create=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Oo(t)};const Lo=xo;function Vo(t){var e=t.client,n=t.defaultTrackers,i=t.defaultTags,r=t.defaultTrackersPath,a=t.defaultTagsPath,o=t.options,s=[function(){return Do.fetchGeolocation()}];return L(n)&&s.push((function(){return Lo.fetchDefaultTrackers(e,r)})),L(i||(null==o?void 0:o.ignoreDefaultTags))&&s.push((function(){return Lo.fetchDefaultTags(e,a)})),s}var No=["safeframe.googlesyndication.com"],Fo=Ft;const Uo={hooks:{beforeInit:function(t){var e,n=window.location.href,i=t.macroValues[Fo]||n;if(e=i,No.some((function(t){return e.includes(t)})))throw new Error("The referrer ".concat(i," is not allowed"))}}};var Bo=["517","438","45","165","755"],Wo=zt,zo=Wt,Ho=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;try{if(R(n[e]))return n[e]}catch(t){return null}return n===n.top?null:t(e,n.parent)},_o=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.gdprApplies,i=e.consentString,r=e.noCmpFound,a=e.areVendorsAuthorized;return r?{noCmpFound:!0}:u((s(t={},zo,n?y:b),s(t,Wo,i||g),t),i&&{areVendorsAuthorized:a})},Go=function(t){B(V(2,we.setState.bind(we))(k),_o)(t)},jo=function(t,e){if(!L(e&&t)){var n=t.gdprApplies,i=t.tcString,r=t.vendor;if(!n||!L($t(i))){var a=$t(i)&&Bo.every((function(t){var e;return null==r||null===(e=r.consents)||void 0===e?void 0:e[t]}));Go({gdprApplies:n,consentString:i,areVendorsAuthorized:a})}}};const Zo={hooks:{beforeCreate:function(){if(!!!we.getState(k)){we.setState(k,{});var t=Ho("__tcfapi");if(t){t("addEventListener",2,jo)}else Lt.warning("No consent data function found"),Go({noCmpFound:!0})}}}};var Yo=[/(https:\/\/vod\.addevweb\.com)(.*)(3CQHtX)/i,/(https:\/\/search\.spotxchange\.com\/vast\/2\.0\/270673)(.*)/i,/(https:\/\/tpc\.googlesyndication\.com\/ima3vpaid)(.*)(https%3A%2F%2Fpubads\.g\.doubleclick.net)(.*)(iu%3D%2F143394101%2Fca-video-pub-8221793852898543-tag%2FADXPEPSISONIDOON)/i];const Ko={hooks:{beforeAdLoaded:function(t){if("mobile"===t.device){var e,n=((null===(e=t.adControllerInstance)||void 0===e?void 0:e.currentAd)||{}).adData,i=(void 0===n?{}:n).fromTag;Yo.some((function(t){return null!=i.match(t)}))&&(t.config.options.up=!0,t.config.ava.enabled=!0,t.config.ava.forceStart=!0,t.config.ava.position="top",t.config.ava.procterApplies=!0)}},beforeAdStarted:function(t){if(!0===t.config.ava.procterApplies){var e=t.adControllerInstance.playerUI;e.updateVideoPlayer({skip:!1}),setTimeout((function(){var n,i,r;e.isMuted&&(e.isMuted=e.onStateChange(e.isMuted,"sm-volume-off"),null==t||null===(n=t.adControllerInstance)||void 0===n||null===(i=n.currentAd)||void 0===i||null===(r=i.linearCreative)||void 0===r||r.setAdVolume(.001))}),2e3)}}}};var Qo=["https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1077366525","https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1077415223","https://vast.adsafeprotected.com/vast/fwjsvid/st/937094/60403384/skeleton.js?includeFlash=false&originalVast=https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1077545832","https://vast.adsafeprotected.com/vast/fwjsvid/st/937094/60403385/skeleton.js?includeFlash=false&originalVast=https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1077545833","https://vast.adsafeprotected.com/vast/fwjsvid/st/937094/60403386/skeleton.js?includeFlash=false&originalVast=https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1077545827","https://vast.adsafeprotected.com/vast/fwjsvid/st/937094/60403387/skeleton.js?includeFlash=false&originalVast=https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1077545830","https://vast.adsafeprotected.com/vast/fwjsvid/st/937094/60403388/skeleton.js?includeFlash=false&originalVast=https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1077545831","https://vast.adsafeprotected.com/vast/fwjsvid/st/937094/60403389/skeleton.js?includeFlash=false&originalVast=https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1077545829"];const qo={hooks:{beforeAdLoaded:function(t){if("mobile"===t.device){var e,n=t.config.it,i=((null===(e=t.adControllerInstance)||void 0===e?void 0:e.currentAd)||{}).adData,r=(void 0===i?{}:i).fromTag;Qo.filter((function(t){return r.indexOf(t)>-1})).length>0&&(function(t){var e=""+'div[data-id="'.concat(t,'"], ')+'div[class*="'.concat(t,'"], ')+'script[src*="'.concat(t,'"]');o(document.querySelectorAll('div[id^="google_ads_"], div[aria-roledescription="Publicidad"]')).forEach((function(t){var n=t.querySelectorAll(e);t&&t.parentNode&&0===n.length&&t.parentNode.removeChild(t)}))}(n),function(t){o(document.querySelectorAll('div[id*="_frame_"][data-device="mobile"], div[class*="-reference-"]')).forEach((function(e){var n=!1,i=e.getAttribute("data-id");n=i?i===t:e.getAttribute("class").indexOf(t)>-1,e.parentNode&&!n&&e.parentNode.removeChild(e)}))}(n))}}}};var Xo=["https://creatives.sunmedia.tv/4bb1abdf-2900-44ba-aff8-fc19bc118f4c/4bb1abdf-2900-44ba-aff8-fc19bc118f4c.xml","https://vast.sunmedia.tv/creatives/4bb1abdf-2900-44ba-aff8-fc19bc118f4c","https://creatives.sunmedia.tv/377fe620-b364-4b06-a489-77924d04e3f2/377fe620-b364-4b06-a489-77924d04e3f2.xml","https://vast.sunmedia.tv/creatives/377fe620-b364-4b06-a489-77924d04e3f2"];function Jo(t){var e,n=t.adControllerInstance,i=((null==n||null===(e=n.currentAd)||void 0===e?void 0:e.adData)||{}).fromTag;return Xo.some((function(t){return i.includes(t)}))}const $o={hooks:{beforeAdLoaded:function(t){Jo(t)&&t.disableAva()},beforeAdError:function(t){Jo(t)&&t.restoreAva()}}};function ts(t){var e=H(t.toLowerCase(),1)[0];return function(t,n){return function(t,e,n){return function(i,r){var a=i.type,o=i.trafficType,s=i.position,c=void 0===s?r+1:s,l=H(o.toLowerCase(),1)[0],d=a||"".concat(t).concat(e).concat(n).concat(c);return u(u({},i),{},{pbt:l,pbid:d,isSunmedia:!0})}}(t,n,e)}}function es(t,e){return'\n    div.sm-ad-container[data-it="'.concat(t,'"],\n    div.sm-it-main-container[data-it="').concat(t,'"] .sm-reference,\n    div.sm-companion-container[data-it="').concat(t,"\"][data-type='Main'],\n    div.sm-companion-container[data-it=\"").concat(t,"\"][data-type='Remember'] {\n      opacity: 0;\n    }\n    div.sm-ad-container[data-it=\"").concat(t,'"],\n    div.sm-companion-container[data-it="').concat(t,"\"][data-type='Main'] {\n      z-index: ").concat(e,' !important;\n    }\n    div.sm-companion-container[data-it="').concat(t,"\"][data-type='Remember'] {\n      z-index: ").concat(e-1," !important;\n    }")}function ns(t){return t.inblock&&!0===t.inblock.enabled&&!t.inblock.exceptCountries.includes(t.geoTarget.country)}function is(t){var e;if(L(ns(t)))return t;var n=Wn("height")(t.ava.width,t.options.ratio),i=es(t.it,-5e4),r=t.integrationInstances.map((function(e,r){if(0===r)return u({},e);var a=n*r+t.inblock.avaMargin;return i+=e.css||"",u(u({},e),{},{config:u(u({},e.config),{},{ava:{bottom:a},silentTrackers:!0,alternative:{content:null}})})}));return u(u({},t),{},{integrationInstances:r,options:u(u({},t.options),{},{css:"".concat((null===(e=t.options)||void 0===e?void 0:e.css)||""," ").concat(i)}),ava:u(u({},t.ava),{},{enabled:!0,forceStart:!0,position:"bottom_left"})})}function rs(t){var e=t.length,n=0;return e>1&&(n=Math.floor(Math.random()*e)),t[n]}var as=function(t){return w(t)?t:[t]},os=function(t){var e,n=null;return $t(null==t?void 0:t.content)?n=t.content:$t(t)&&(n=t),{content:n,iframe:null!==(e=null==t?void 0:t.iframe)&&void 0!==e&&e}},ss=function(t){return u(u({},t),{},{content:null!=t&&t.content?yt.decode(t.content):null==t?void 0:t.content})};function cs(t){var e=function(t){var e=t.alternative,n=t.banner;return bt(e,void 0===n?{}:n)}(t),n=B(ss,os,rs,as)(e.tag);return u(u({},t),{},{alternative:u(u({},e),{},{tag:void 0},n)})}var us=function(t){var e=t.reminder,n=t.skipReminder,i=t.skipReminderTime,r=n&&M(i)?i:e.displayCloseBtnTime;return u(u({},e),{},{displayCloseBtnTime:1e3*r})};function ls(t){var e,n,i,r,a,o,s=t.options,c=u(u(u(u({},s),{},{css:(a=s,o=a.css,P(o)?o.replace(/\r?\n|\r/g,""):o),muted:!!s.autoplay||s.muted},"margin"in s&&{margin:(i=s,r=i.margin,O(r)&&r>0?r:0)}),"class"in s&&{classList:(e=s,n=e.class,P(n)?n.trim().split(","):n)}),{},{reminder:us(s)});return delete c.skipReminder,delete c.skipReminderTime,u(u({},t),{},{options:c})}function ds(t){var e=t.priority===h;return u(u({},t),{},{isSunmediaPriority:e})}function hs(t){var e=t.inblock,n=t.options.inblock||e.enabled;return u(u({},t),{},{inblock:u(u({},e),{},{enabled:n})})}const fs={DEBUG:!1,type:"outstream",path:"outstream-sdk-js/intext",platformPlugin:"intext",platformVersion:"1-0",geoTarget:{},defaultTrackers:null,defaultTags:null,seekerSettings:{maxIntents:20,findTimeout:500},userConsentSettings:{attempts:5,delay:500},it:null,category:null,sdkType:null,defaultTrackersPath:null,defaultTagsPath:null,integrationInstances:null,options:{skip:!0,skipTime:20,reminder:{mainRatio:"16:9",displayCloseBtnTime:10},class:[],classPosition:0,classMandatory:!0,adPosition:null,excludeNodeTagNames:["a","abbr","acronym","b","bdo","big","br","button","cite","code","dfn","em","i","input","kbd","label","map","object","q","samp","script","select","small","span","strong","sub","sup","textarea","time","tt","var","u"],margin:0,callback:"",css:"",autoplay:!0,muted:!0,restart:!1,fold:!0,pod:!1,up:!1,touchstart:!1,ratio:"4:3",mainContainer:{ratio:"4:3",foldHeight:0,marginTop:10,marginBottom:20,expandAlways:!1},reference:{backgroundColor:"#e7e7e7"},useSaferWayToFindPosition:!1,windowHeightPadding:40,programmaticDisplayRatio:"16:9",removeMs:8e3,adContainerParent:null,containingBlock:null,allowDuplicates:!1},inblock:{enabled:!1,items:3,exceptCountries:["ES","MX","CO"],avaMargin:10},tags:{client:{desktop:[],mobile:[]},sm:{desktop:[],mobile:[]}},priority:{desktop:"",mobile:""},ava:{desktop:{enabled:!1,forceSize:!1,width:420,position:"bottom_right",margin:20,bottom:60},mobile:{enabled:!1,forceSize:!1,position:"bottom_right",margin:20,bottom:60,widthCoefficient:{generic:.5,spain:.63}}},loop:{desktop:{enabled:!1,times:3,autoStart:!0,onlyOneVideo:!1},mobile:{enabled:!1,times:3,autoStart:!0,onlyOneVideo:!1}},alternative:{desktop:{tag:[],schedule:"empty",display:"fixed",position:"right",margin:20,bottom:20},mobile:{tag:[],schedule:"empty",display:"fixed",position:"right",margin:20,bottom:20}}};function vs(t,e){return'.sm-it-main-container[data-it="'.concat(t,'"][data-index="').concat(e,'"] {\n    display: none !important;\n  }')}function ps(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(Pt(t,"adPosition"),Pt(e,"instanceIndex"),-1===t)return t;var n=t+e-1;return n<0?0:n}function ms(){return we.fetchAllInstances().some((function(t){return t.config.ava.enabled}))}function As(){return we.fetchAllInstances().some((function(t){return t.config.alternative.display===La}))}function gs(t){if(!t.options.allowDuplicates){var e=we.fetchInstancesOfIntegration(t.it).some((function(e){return e.wind===window&&e.config.options.classPosition===t.options.classPosition}));if(e)throw new Error("Integration canceled since it is duplicated")}}function ys(t){var e,n,i,r=t.it,a=t.options,o=t.inblock,s=null,c=we.nextInstanceIndex(r),l=function(t,e){return{index:c+e,config:{options:{domPosition:t}}}},d=null!==(e=a.adPosition)&&void 0!==e&&e.length?a.adPosition.sort((function(t,e){return t-e})):[null!==(n=null===(i=Xe(t))||void 0===i?void 0:i.position)&&void 0!==n?n:-1];if(ns(t)){var h=d[0],f=o.items||1;s=Array.from(Array(f)).map((function(){return h})).map(ps).map(l).map((function(t,e){return u(u({},t),e>0&&{css:vs(r,t.index)})}))}else s=d.map(ps).map(l);return u(u({},t),{},{integrationInstances:s})}var bs=V(2,F((function(t,e){var n=(null==e?void 0:e.split("#")[1])||"",i={};n.split("&").forEach((function(t){var e=H(t.split("="),2),n=e[0],r=e[1],a=decodeURIComponent(null==r?void 0:r.trim());i=u(u(u({},i),d.TAGS.includes(n)&&u({},function(t){return{adTags:[{url:t,trafficType:"DIRECT",isSunmedia:!0}],loop:{enabled:!1}}}(a))),d.RATIO.includes(n)&&u({},function(t){return v.includes(t)?{options:{ratio:t}}:{}}(a)))}));var r=i,a=r.adTags,o=r.loop,s=r.options;return u(u(u(u({},t),a&&{adTags:a}),o&&{loop:o}),s&&{options:u(u({},t.options),s)})}))),Es=V(3,F((function(t,e,n){var i=t.ava,r=t.options,a=t.geoTarget,o=i.enabled&&r.up,s=function(t){return["left","right"].includes(t)?"bottom_".concat(t):t}(i.position),c=0!==i.bottom?i.bottom:n[e].bottom,l=function(t){var e=t.ava,n=t.geoTarget,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mobile",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,a=e.width,o=e.margin,s=e.position,c=e.widthCoefficient;if(de(a))return a;if("desktop"===i)return 0;var u,l=r.screen.width;if(H((null==s?void 0:s.split("_"))||[],2)[1]){u=l*("ES"===(null==n?void 0:n.country)?c.spain:c.generic)}else u=l-2*o;return Gn(u)}({ava:i,geoTarget:a},e,j());return u(u({},t),{},{ava:u(u({},i),{},{forceStart:o,position:s,bottom:c,maxWidth:l})})}))),ks=V(2,F((function(t,e){var n=["desktop","mobile"];if(!n.includes(e))throw Error("The provided device does not exist");return function t(i){var r,a,o;return w(i)?r=G((function(e){return t(e)}),i):R(i)?r=void 0:D(i)?(o=(a=i).constructor?new a.constructor:{},S(a,(function(i,r){var a=null==r?void 0:r.toLowerCase();a===e?o=t(i):n.includes(a)||(o[r]=t(i))})),r=o):r=i,r}(t)}))),Ts=V(2,F((function(t,e){var n,i=t.tags,r=void 0===i?{}:i,a=t.defaultTags,c=void 0===a?{}:a,l=t.priority,d=void 0===l?h:l,v=t.options,A=void 0===v?{}:v,g=p,y=m,b=r||{},E=b.sm,k=void 0===E?[]:E,T=b.client,I=void 0===T?[]:T,C=A.ignoreDefaultTags?{}:c||{},w=C.BANNER,S=void 0===w?[]:w,R=C.VAST,D=void 0===R?[]:R,P=ts(e),M=D.map(P(g.DEFAULT,y.VAST)),O=k.map(P(g.INTEGRATION,y.VAST)),x=S.map(P(g.DEFAULT,y.BANNER)),L=(s(n={},h,[].concat(o(M),o(O),o(x))),s(n,f,o(I.map((function(t){return{url:t,isSunmedia:!1}})))),n),V=d!==h?h:f,N=(A.pod?[].concat(o(L[d]),o(L[V])):L[d]).filter((function(t){var e=t.url;return e&&e.length>0}));return u(u({},t),{},{adTags:N})})));const Is={hooks:{beforeCreate:function(defaultConfig){var t=vn.device,n=document.location.href,i=fs.ava;e(defaultConfig,B(is,bs(n),Ts(t),cs,Es(i,t),ys,ls,ds,hs,ks(t))(defaultConfig)),delete defaultConfig.tags,delete defaultConfig.defaultTags,delete defaultConfig.priority}}};const Cs={hooks:{beforeCreate:function(t){var e=t.options;e.mainContainer.marginBottom=0,e.mainContainer.marginTop=0},beforeMount:function(t){var e=t.plugin,n=t.config.options,i=st(e.$mainPositionParent)||{},r=i.width,a=i.height;r&&a&&(n.ratio="".concat(Math.round(r),":").concat(Math.round(a)))}}};const ws={hooks:{beforeInit:function(t){var e=t.config,n=e.options,i=e.ava;i.enabled&&n.up&&(i.forceStart=!1)},afterAdLoaded:function(t){var e=t.config,n=e.options,i=e.ava;i.enabled&&n.up&&(i.forceStart=!0,setTimeout((function(){t.state>=ga||(t.plugin.fireTracker(me.Type.DWH.EFFECTIVE),t.onAdLoaded())}),5e3))}}};var Ss=22,Rs=84,Ds='\n    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 84 9.85">\n      <defs>\n        <style>.sm-cls-1{fill:url(#Degradado_sin_nombre_74);}.sm-cls-2{fill:#fff;}.sm-cls-3{fill:#545353;}</style>\n        <linearGradient id="Degradado_sin_nombre_74" x1="24.53" y1="9.19" x2="19.61" y2="0.68" gradientUnits="userSpaceOnUse">\n          <stop offset="0" stop-color="#ff7e06"/>\n          <stop offset="0.34" stop-color="#ff9d04"/>\n          <stop offset="1" stop-color="#ffd400"/>\n        </linearGradient>\n      </defs>\n      <g id="Capa_2" data-name="Capa 2">\n        <g id="Capa_1-2" data-name="Capa 1">\n          <circle class="sm-cls-1" cx="22.07" cy="4.93" r="4.92"/>\n          <path class="sm-cls-2" d="M24.5,5.15a.23.23,0,0,0,0-.44L21.11,2.76c-.21-.12-.38,0-.38.22V6.89c0,.24.17.34.38.22Z"/>\n          <path class="sm-cls-3" d="M82.7,9.72H84V3.2a5,5,0,0,0-2.9-.61c-1.58,0-3.09.79-3.09,3.5s1,3.63,2.61,3.63ZM81.1,8.58C80,8.58,79.44,8,79.44,6.06s.79-2.41,1.9-2.41S82.61,4,82.61,4V8.58Z"/>\n          <path class="sm-cls-3" d="M76.78,1.36V.11A2.33,2.33,0,0,0,76.06,0a2.11,2.11,0,0,0-.72.09V1.36a2.11,2.11,0,0,0,.72.09A2.33,2.33,0,0,0,76.78,1.36Z"/>\n          <path class="sm-cls-3" d="M76.06,2.55a1.87,1.87,0,0,0-.69.09V9.72h1.38V2.64A2.08,2.08,0,0,0,76.06,2.55Z"/>\n          <path class="sm-cls-3" d="M58.91,0a5.18,5.18,0,0,0-.9.09c-.74,1.41-1.49,2.94-2.26,4.33a8.6,8.6,0,0,0-.52,1.18h0a16.31,16.31,0,0,0-1-2.06L52.39.11A4.46,4.46,0,0,0,51.55,0a3.55,3.55,0,0,0-.85.09V9.72H52V5.17a24.06,24.06,0,0,0-.14-3.48h.06a19.71,19.71,0,0,0,1.26,2.86l1.59,2.87a1,1,0,0,0,.39.06,1.5,1.5,0,0,0,.43-.06L57.2,4.49a20.88,20.88,0,0,0,1.24-2.8h.07a36.61,36.61,0,0,0-.09,3.68V9.72h1.4V.11A4.13,4.13,0,0,0,58.91,0Z"/>\n          <path class="sm-cls-3" d="M46.79,2.59a9.16,9.16,0,0,0-2.95.61V9.72h1.39V4c1.43-.63,2.85-.41,2.85.75v5h1.39V4.6C49.47,3.41,48.17,2.59,46.79,2.59Z"/>\n          <path class="sm-cls-3" d="M41.22,9.72h1.39V2.82a1.94,1.94,0,0,0-.69-.09,2.26,2.26,0,0,0-.7.09V8.57H39.33s-1-.05-1-.93V2.82a2,2,0,0,0-.7-.09,2.15,2.15,0,0,0-.69.09V7.71a1.92,1.92,0,0,0,2.15,2Z"/>\n          <path class="sm-cls-3" d="M33.16,4.34c-1.29-.4-2.48-.64-2.48-1.67s.7-1.51,2.17-1.51H35a2.28,2.28,0,0,0,.06-.57A2.09,2.09,0,0,0,35,0H32.66c-2.26,0-3.38,1.09-3.38,2.72,0,2,1.84,2.34,3.28,2.8,1,.3,1.75.63,1.75,1.57s-.68,1.52-2.11,1.52H29.46a2.75,2.75,0,0,0,0,1.22h2.81c2.27,0,3.48-1,3.48-2.78S34.45,4.76,33.16,4.34Z"/>\n          <path class="sm-cls-3" d="M66.88,5.14a5.42,5.42,0,0,0,0-.68c-.16-1.25-1.43-1.87-2.74-1.87-1.84,0-3.08,1-3.08,3.46s1,3.67,3.14,3.67h2.34a2.28,2.28,0,0,0,.07-.58,2.42,2.42,0,0,0-.07-.56H64.24c-1,0-1.65-.57-1.76-2.08h4.4Zm-1.38.42h-3c.11-1.47.75-1.91,1.65-1.91,1.1,0,1.37.6,1.37,1.29Z"/>\n          <path class="sm-cls-3" d="M73.43,0a2.22,2.22,0,0,0-.71.09V2.72a8.69,8.69,0,0,0-1.52-.13c-1.58,0-3.08.79-3.08,3.5s1,3.63,2.6,3.63h3.39V.11A2,2,0,0,0,73.43,0Zm-.71,8.56H71.21c-1.11,0-1.66-.54-1.66-2.52s.79-2.41,1.9-2.41S72.72,4,72.72,4Z"/><path class="sm-cls-3" d="M4.25,0a2.84,2.84,0,0,1,.82.1L8.51,9.75a2.21,2.21,0,0,1-.75.1,1.82,1.82,0,0,1-.69-.1l-.85-2.4h-4l-.86,2.4a1.83,1.83,0,0,1-.67.1A1.68,1.68,0,0,1,0,9.75L3.43.1A3.3,3.3,0,0,1,4.25,0ZM4.19,1.52s-.13.55-.36,1.23L2.57,6.21H5.83L4.58,2.75a12.06,12.06,0,0,1-.35-1.23Z"/>\n          <path class="sm-cls-3" d="M14.25,0a2.11,2.11,0,0,0-.7.09V2.72A8.78,8.78,0,0,0,12,2.59c-1.58,0-3.09.79-3.09,3.5s1,3.63,2.61,3.63h3.38V.11A2,2,0,0,0,14.25,0Zm-.7,8.56H12c-1.11,0-1.67-.54-1.67-2.52s.8-2.41,1.91-2.41S13.55,4,13.55,4Z"/>\n        </g>\n      </g>\n    </svg>';const Ps={hooks:{mounted:function(t){var e=t.config.options,n=e.fold,i=e.margin;t.$label=J({id:t.api,name:"it-label",style:{visibility:"hidden",position:"relative",height:n?0:"".concat(Ss,"px"),margin:"auto ".concat(i/2,"px")},content:Ds}),t.plugin.$mainContainer.insertAdjacentElement("afterend",t.$label),ot(t.$label.firstElementChild,{width:"".concat(Rs,"px"),height:"".concat(Ss,"px"),position:"absolute",right:0}),t.mainContainerResizeSubscription=Pa.createObservable(t.plugin.$mainContainer).subscribe(Dn((function(t){return null==t?void 0:t.width}),(function(e){return ot(t.$label,{width:e.width})})))},afterAdStarted:function(t){var e=t.plugin.$mainContainer.style;ot(t.$label,{visibility:"visible",width:e.width,height:"".concat(Ss,"px"),"margin-top":"-".concat(e.marginBottom)})},afterRemoveMainContainer:function(t){t.mainContainerResizeSubscription.unsubscribe(),tt(t.$label)}}};const Ms={hooks:{beforeCreate:function(t){for(var n=null,i=0;i<t.options.classList.length&&!(n=document.querySelectorAll(t.options.classList[i]).length);i+=1);n&&e(t.options,{classPosition:n-1})}}};const Os={hooks:{beforeCreate:function(t,e){var n=e.deviceDetector,i=t.options;i.margin="desktop"===n.device?i.margin:0}}};const xs={hooks:{beforeMount:function(t){vn.isMobile()&&t.setUseScreenWidth(!1)}}};var Ls={extra:!0};const Vs={hooks:{beforeInit:function(t,e){var n=e.globalObject.fetchInstancesOfPlugin(t.config.platformPlugin);if((null==n?void 0:n.length)>1)throw Ls}}};const Ns={hooks:{beforeInit:function(t){e(t,{wind:t.wind.parent})}}};var Fs="30px";const Us={hooks:{beforeCreate:function(t){t.options.mainContainer.marginTop=0},mounted:function(t){t.$label=J({id:t.api,name:"it-label",prefix:"sunmedia",style:{visibility:"hidden",position:"relative",width:"100%",height:t.config.options.fold?0:Fs,"text-align":"center",margin:"0 auto","line-height":"normal"}}),t.$label.innerHTML="Publicidad",t.plugin.$mainContainer.parentNode.insertBefore(t.$label,t.plugin.$mainContainer)},afterAdStarted:function(t){ot(t.$label,{visibility:"visible",height:Fs})},afterRemoveMainContainer:function(t){tt(t.$label)}}};var Bs={beforeCreate:function(t,e){var n=e.globalObject,i=t.options,r=n.fetchInstancesOfIntegration(t.it);i.classPosition=r.length},beforeInit:function(t){var e=t.config.options;e.reference.backgroundColor="transparent",e.ratio="53:24",e.mainContainer.marginTop=0,e.mainContainer.marginBottom=0,e.windowHeightPadding=4,e.css="",t.disableAva()},beforeMount:function(t){var e,n,i=t.plugin.$mainPositionParent;t.config.options.ratio=(e=(st(i)||{}).width||300,n=(lt()||100)-4,Wn("ratio")(e,n))}};const Ws={hooks:Bs};var zs=["ES"],Hs={hooks:{beforeCreate:function(t){var e=(t.geoTarget||{}).country;if(zs.includes(e))throw new Error("Integration blocked for the country ".concat(e))}}},_s="bottom_right",Gs=["MADRID","BARCELONA","MIAMI"];function js(t){return $t(t)&&L(Gs.includes(t))}function Zs(){return L(Math.floor(3*Math.random()))}var Ys={hooks:{beforeCreate:function(t){var e,n=t.it,i=t.ava,r=t.options,a=t.geoTarget;js(null==a||null===(e=a.city)||void 0===e?void 0:e.findname)&&(i.enabled=!0,i.forceStart=!0,i.position=_s,r.up=!0,r.css+=es(n,-1))}}},Ks={hooks:{beforeCreate:function(t){var e,n=t.it,i=t.ava,r=t.options,a=t.geoTarget;js(null==a||null===(e=a.city)||void 0===e?void 0:e.findname)&&(i.enabled=!0,i.forceStart=!0,i.position=_s,r.up=!0,r.css+=es(n,-5e4))}}},Qs={hooks:{beforeCreate:function(t){var e,n=t.it,i=t.ava,r=t.options,a=t.geoTarget;js(null==a||null===(e=a.city)||void 0===e?void 0:e.findname)&&Zs()&&(i.enabled=!0,i.forceStart=!0,i.position=_s,r.up=!0,r.css+=es(n,-5e4))}}},qs="sm-es",Xs={CERRAR:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQYAAABlCAYAAACvIk18AAAABHNCSVQICAgIfAhkiAAAAF96VFh0UmF3IHByb2ZpbGUgdHlwZSBBUFAxAAAImeNKT81LLcpMVigoyk/LzEnlUgADYxMuE0sTS6NEAwMDCwMIMDQwMDYEkkZAtjlUKNEABZgamFmaGZsZmgMxiM8FAEi2FMk61EMyAAANzUlEQVR4nO3dTUwbZxoH8MeOwfgD4yRGWEFg7aEJElFVxeqh7iXCORApJzikB1cKh3BDVUsqIU9AFcQoUqFVlRscGilUXaSG00rhEFe9lB5W9qGqBVWKVsRN1qiQYENjD5kMezD2jmcM+GPmnYH8fxJS+Iif8Qvzn5n3Y8ZEpU4R0WkichBRIxGZCABOqj0i2iWiHSLaIqI3hW9Id3wnEXmJyMx00wDACEQiSlE+JOjU/hedRHSOcIYA8LYyEVEzEfFEtGumfDh4dd0kADAKLxGdOkVEZyjfpwAAYCLK9yc4dd4QADAWh5nyow8AAAWNZkKHIwCUMmFoEgAUEAwAoIBgAAAFBAMAKCAYAEABwQAACggGAFBAMACAAoIBABQQDACggGAAAAUEAwAoIBgAQAHBAAAKCAYAUEAwAIACggEAFBAMAKCAYAAABQQDACggGABAAcEAAAoIBgBQsOi9ASdBLBYLSD9fWFj4LRKJZPTaHoB6mYjovN4bcZxwHOcaHBy8eubMmYDdbg+YzWbXQT+bzWaXMpnM0uPHjxdDoVCy0hobGxu37HZ7tzpbTPTq1auEx+OZUrtOJpNZSiQSS8FgMFHN/9Or7lFWVlZ6Ozs7r0vreL3e2Xpf16jv9zAIhgpxHOcaGhq63traOnhYGBwkm80uLS8vz/r9/qWjfvbVq1ff2my2wFE/V01tu90+oFWdbDa79Msvv0xV+oerV91qt0sQhGRDQ8MVtV+3Vmq/38Ogj6ECa2tr18fHx6NtbW23agkFIiKbzRa4dOnSt9vb299wHFfTaxiVzWYLXL58+f7Kykrvca07NzfXId95LRZLB+v3dBiW7axJH0Mul/uXyWSyhMPhG9PT0yktakgNDw97Jycn7+/t7QlNTU3X1Hztra2t8ZaWluvyr4uimNne3n6Uy+WSz549K0lwh8Ph8ng8F51OZ8BqtZacQjqdzt7x8fFAT0/PjUqSXxCE5Obm5nw974Hn+SP7O6qp43A4LjY1NXVbLJaOwtfMZrPrnXfemYhGo8lqjmh61ZW7cuVK2Z2tvb39KhEt1vq6ckZ5v0fR5FKC5/nFxsbGf+zu7j4Nh8MfaxkO+6HwoLGxsXN3d/c/VqtVtTQtFwqCICSfP38+6/P5Kvrlzs3NdVy7du1muXB5+vTpWLnXkZ56HnQZoIZ668RisUB3d/ctafhV8jp61T3M69evH0t3QKnbt2+/X09nshHf71E0uZQIh8M3dnd3nzY2NnZOTk4+GB4e9mpRRxYKT8Ph8A21XrtcKKyvr081NDRcqTQUiIhCoVDS7XaPfffdd1ey2WxJ/0JLS4tqHYx68Pv9SxMTEzd4ni8euWw2W0A+SmP0uisrK73SUNjc3CzpcBwaGlKEOkt6tLMmwTA9PZ0Kh8MfaxkOZUJBtTOTVCpVcoQXRTETj8cH6umhDoVCSbvdPpBOp+eJiNLp9Lzb7R5TY3v1FIlEMj/88MMn0q+dP39e8x1Jzbper7e4g4mimPn6669npDvh2bNndQ0GIvbtrFnno5bhoGUoRKPR7ra2tluFz0VRzPz00083KhlNqITb7R6Lx+MDJyEUCkKhULIQeET5fpTjUpfjOJf0ILC9vf0oEolktra2HhW+ZrFYOqLRqO5ndyzbWdNRCS3CQctQICL64IMPbkk///PPP1UfHlIrZIwklUqVvCetLyfUqiu/TIjFYvNERPfu3Su5XPT7/bqfNRCxa2fNhyvVDAetQ2Ftbe26dMhqZ2dnsZr+hLfZgwcPSv5gHQ4HkyHZeuu63e6rhX8LglDs6Y9EIhnp0bm5ufmqEYaZWbUzk3kMaoSD1qFARNTa2lo8NRNFMXP37t1RNV//JJP32rvd7rI9/EaqG41Gu6U9/fJhROnR2Ww2uwYHB6+Szli1M7MJTvWEA4tQkE9wefny5TzWO5xs8ssD+eVDV1fXoiAIxans0gPHScd05mMt4cAiFIiUE1wWFxdxCXHCNTc3F88AdnZ2FssdCKRnETabLTA3N8fkTEhvzKdEVxMOrEKBKD/LrPBvQRCS1Sx6AmUnmHw2qNHqrq2tXZdOb3/27Nmjcj/3+PHjklmPvb29unZCsmpnXdZKVBIOLEOBiMhutxcbPJ1OqzYF9m3h8/kUS8+NXFd6WSAIQrKrq6vs7zwUCiWlE9NaWlp0vZxg1c66LaI6LBxYhwJRvnOp8G9BENJa1jppOI5znT59ungk5Xk+waJ/pta68v6kow4Ef/31V/H7ei6sYtnOut6oZX9n/7gQApOTkw/8fv9n/f39X7EMBfnkFVanwZUwm80ttY5VLy8vM7kkGhkZmZAG6/r6OpP+mVrrVtuf5PP55t+8eVNcWav2wqpKsWxn3e/gJA+Hjz766J8mk8nCKhSIiNxud4vWNWpltVq7L1269G0t/7e9vX2KiOq+0chBOI5zjYyMTEhn4AmCkJyZmSl7vW6UutIpztlsdqmS8Nze3n5UmCHpdDp7OY5zsRq10qOddQ8Gonw4+P3+zwqhsLe3Jzx8+PAzFqEAeQ0NDR2pVOpmpT/vcDgulpuSu7q6OlXNDsO6rnzBlPQy4TCxWGy+p6enGChDQ0PXI5FI1aGrVztXyxDBMDw87O3v7/+qEAomk8nS39//1fDwMJMzhq2trbe+T8FisXRI14jUYn19feqgTjyj1JUvmKr0qBsMBhO5XC5RmBC1f9ZRdTDo1c7V0j0Y5B2NDx8+LPYxTE5OPiAizcMhGAwm9vb2ip97PB7DjFXzPJ9IJBKK+zVWYnl5mcmQqyiKmSdPnoxq/cdab92DFkxVWm9ra+tRW1tbN9H/F1axvA8jy3bWNRgOGn0YHh4u6ZAkBuEgimKm0LFjtVp1nxNfIIpi2oiLrgRBSOZyucSLFy+WZmZmqtrB9KorXzC1urpa1Q527969+Tt37hSP9vszJzVdJatXO+s2XHnYkCSL+znI8TxfHA92uVxMVgYaSTabXTKZTBfkH7dv335fOi2YiCgejw80NDRcaW5u/sTn89U1dZxlXfmCqWoDV42FVXq1c7V0CYZK5imwDodMJlP8I7HZbAEjrKQzgkgkkvn1119Ljorvvfee5je0VbuufMEUUf6Wa9V+OByO4kFDzYVVerXzQZgHQzWTl1iGQyKRKDl6GGElnVH4/f6l9fX1Yj+H2Wx2jYyMTBynuvIFUxaLpcNmswWq/ZDfF1LNhVV6tXM5TIOhlhmNrMIhGAwmpKdy586dq3hI6W3g9Xpnpbc7czqdvdUMu+ldV7pgSk1qL6zSq53lmHU+1jPNudwMSdKgQ/L58+eznZ2d40T5I0oqlbqpxpOIToqff/559PLly/cLnbStra2Dc3NzVT1lS4+68gVT6XR6PpfL1bzNFoul5ezZs8WddX9hVU0jR+Xo1c5STJ5EpdbaBxZrKKS3ES/c75HlkBSRsW8fn0qlbkrH4XmeTzQ1NfUZua60nlpPl8rlcguFPoujXlOvdq6H5pcSau7MLC4rVldXS67xPvzwwwm1O4COc8em1+ud3dnZKQ7zWa3WblaXFLXUrXbBVKWk6xS0WFilVzsXaBoMWhzhtQ6Hrq6uRemQlNVq7R4dHb2v1s68srLSOz4+Hl1bWzPEzUVrcffu3VFRFItDZ21tbbdY3Py1lrpa3YBnZmbmkXRb9hdWqUqvdibSMBi0PO3XOhy+/PLLKWkHkNVq7f7iiy8W6r2FeCqVunnhwoVvzGazq7Ozc/y4hkMkEsk8efKk5H6Y77777jiLIcxq60oXTPE8n1DrOj0SiWS2t7eL06kLC6vUeG1pDT3amUijYGDRF6BlOEQikYz8yT8Wi6Wjp6dnYWNj41a1v5hYLBbI5XIL8jnyx/lJVF1dXYvSJzZZLJaOzz//vK41AGrXlS+YUnuZsnzmpBZPrNKrnfHsykNwHOcaHR29L58YQ5S/R+CLFy+W/vjjj9/knZMcx7n6+vou+ny+QEtLS2+5ZyJubm7Oejyesj3Z8s6yeh9qS5S/RZn8aFlvJ2e59vn9998/OWouP6u60scMiqKYGRsbC6o9e1DaWX1QJ6Re7VwPTYLhJD3tmuM416effjooHZ6qRyULYaR/SGqJx+MD8inAaox+RKPR7p6enoXC56IoZr7//vu+w07ZWdTlOM51586dfxe+r9UjAeWjBz/++GOf/EChVzvXQ5NLiaampmtWq7WX1f0UpqenU1artVftUCDKX1Z4PJ6peDw+IH8obTVEUcysr69PjY2NBVmvQtRSMBhMyGfr9fX1jetdt94FU5WS3yxWqydWsW5n3RZRHTd+v3/JbrcPxOPxgXQ6PS/tLT4Mz/OJQiB4vd7Zk/isCq/XOysNTZvNFmA1hHlQ3XoXTFUqFAolpcOKWj6ximU7M5ngdFJFo9Hu9vb2DvnTgHiez2xsbGj2xwigNQQDACjgUgIAFBAMAKCAYAAABQQDACggGABAAcEAAAoIBgBQQDAAgAKCAQAUEAwAoIBgAAAFBAMAKCAYAEABwQAACggGAFBAMACAAoIBABQQDACggGAAAAUEAwAoIBgAQAHBAAAKCAYAUEAwAICCmYj29N4IADAU0UxEu3pvBQAYymszEe3ovRUAYCh/m4loi4hEvbcEAAxBJKKXpyjfx7BLRM36bg8AGMB/iYg/tf/J7v6Hg/JPwAaAt4tI+VDYIVKGwCkiOk35gGgs830AODlEInpNRH8T0UsielP4xv8AB+Ei/lKYXuMAAAAASUVORK5CYII=",PUBLICIDAD:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQYAAABlCAYAAACvIk18AAAABHNCSVQICAgIfAhkiAAAAF96VFh0UmF3IHByb2ZpbGUgdHlwZSBBUFAxAAAImeNKT81LLcpMVigoyk/LzEnlUgADYxMuE0sTS6NEAwMDCwMIMDQwMDYEkkZAtjlUKNEABZgamFmaGZsZmgMxiM8FAEi2FMk61EMyAAAMsElEQVR4nO3dT2gaaR8H8F+mcVONUbexKG2Ml+5ml5RlSUoPwsJSe0ihl5WFUJLC5pDcSlnIwsJQWex6amApvaWHLqwlrxdhYWF7qCWwNJcXZQ8NtcteRpF3JGZXTeKfxEzegzVMZvJndMY40e8HAtUan5+j880zz8zz2EMHnSOiD4mon4g+IKIeAoBOtUdE20S0SUQ5Itqt/4d4xzcTkZOImFMtDQD0QCAinmohQefe32kmokuEHgJAt+ohogEiqhDRNkO1cHC2tSQA0AsnEZ07R0QXqDamAADQQ1QbTzC3uRAA0Jd+hmpnHwAA6j5gCAOOAHBQD05NAoAMggEAZBAMACCDYAAAGQQDAMggGABABsEAADIIBgCQQTAAgAyCAQBkEAwAIINgAAAZBAMAyCAYAEAGwQAAMggGAJBBMACADIIBAGQQDAAgg2AAABkEAwDIIBgAQKa33QWcNRzHTfb19VmIiCqVSsHtdoc7sc2zRryN0un06vj4+Eq7a2qF03qdCIYGXbx4ccJoNHqIiEql0goRtXwnbUebZ414GxHRAhF1ZDCc1utsSTBks9l5k8k02uzv7+7uFra2tt68fPnyxfT0dErL2jpZIpGYGB4eniQiSiaT4U8++eRFN9YA6rUkGEwm06go1ZpiNpsnpqam5m/fvh1+9OjRQjAYLGhVXydKJBITIyMjj+u3R0ZGPIlE4v5p7ph6qAG0ofvBR6vVOhkIBKLRaLTpHkg3uHz58i3pfU6nU1U4n8UaQBstH2OoVqup9fV1xcfEFovFYzAYXL29va76fQzDWL788sufWZb1oudwuEqlkjKbD35xeblcPtXDMD3UANpoeTDs7OyknE7n0wZ+5SlRbfR1aGhonmEYC1EtHL7//vuHwWDwfksKPeN++umnRZZlR8WDlE+ePDnVQUo91ADa0O2hhNvtDvv9fm+1Wt3/i2M2mydwSHG4YDBYMJlMM8+fP7/5/PnzmyaTaea0e1d6qAG0oevTlcFgsODz+fxjY2PP6veNj49PEpG/jWXpmh7O4uihBlBHtz2GuvHx8ZX35+6JiGhgYEA2wAUA2tJ9MBARra2t7Z/uYhjGgsMJgNY6E8Hw999/vxHfttls1nbVAtANzkQweL3eVfHt/v5+S7tqAegGuh58PIrNZnOJb8disf2LaN6+fZtqZvArGo2O1nsiuVwuLw0jpViWtczNzd3q7+93SS8LLxaLq1tbW6nFxcXfWzFar+Y1sCxruXv3rsdms7ksFsuBi5K2t7dT5XI5peQSdbXbMRQKub744gvPUdsvm82++eWXX1a03H7Ntil+rY1+7trxOhvRQ0Qfa/2kxWLxmfhctslkmlHzfKFQyDU1NfWyfjsej8+IZ5Xt7e29q/87k8ksNHjdREM1H/W4UCjkun379qzVap1U0l4+nw//9ttvT5V8mNTWdpx63QMDA7fq14wcp1Qqrbx9+/bpUbP6mn3vo9Ho6PXr1+fMZvPESY8VBKGwtra2+OTJk3B9xxG3q/Qz0C1tNuNMHEpcu3ZN14ONHMdN3rlzJ6I0FIhql3rfuXMnwnGc4t/RGs/zs/W6lYQCEZHRaPSMjY0929jYeMyyrCaHdDzPz964cSOiZGchqg1AOxyO+UAgEBX3FtGmds7EoYT0ens9zbXnOG5yeHg4cNj/iU+zEtV2KvFthmEsw8PDgWw267Lb7QutrFMql8sFjgoyad3SS9SJahebfffdd/lgMKjqmpJG6jhs+42NjT2LxWIN9Ui7pU01dB8MoVDIJd6gm5ubupmpZzAYXNJQKJVKK0dNN66PP1y6dGlWvKMNDg7O8jyfb1W3UOqwD+lxdRPV3oeJiYnJwcHBWSKiSqWy+ujRI1Vh1kwdHMdNSrff559//nhnZ0fR8X23tKmW7g8lvv7668fi2//8849uegviN00QhMK7d+/um0ymmaPe7GAwWHC73WGDwXBzfX39QAg4HI750+guJhKJCemHNJPJLBxXN1Htaka73b7w6tUrXz6fDz98+PAbNQNjPM/LxmOSyaT/pDrq2y+TyeyHEsMwlr6+vhMPN7ulTS3oNhhCoZCrXC5HxBuiUqms6nFZM0EQCsvLy980su6A3W5fSCaTB7rhn3322aGHJFphWdby0UcfPRTfl0wm/Y30VLxe76rNZvOrCQWWZS0XL16ck9bRyHvrdDqfSrcf2tROyw8lDAaDi+f52UZ+x2KxeA5b6OX169cPtKtMO3/++ef9Zk5vut3u8MbGhqc+GNXb2+tKJBITrVrY5N69ewcGGTOZzEI7glarOtxud5jneYvD4ZhHm9pqeTD09va6tHhByWTS3+y1Ba2Uz+fDagZDf/3114Wpqan9Uer3i520JBhsNtv+PJNqtdrodHjNDA4O7net1dbhdDqflsvlWyd1sbulTa3o9lCirlqtpuLx+IweDyGIiGKxmKq6pqenU+IBVZPJ1JJxhlAo5BJ/qBpZPEfrOsRjM/l8XnUIZjKZY19Lt7SpJV0GQ6VSWc3n8+F3797dNxgMN/V0elJMEISCFr2Yra2t/bkgDMNYQqGQ67jHN+PTTz898JzpdLotvS9pHRzHqX5v//jjj2Ofo1va1FLLg6FUKq309PSMNPJz/vx5n81m8+t9EdFKpfLm5EedTLqTSj9UWrh8+fKBLmi7wlZaRyQSUb0NT7p6tFva1JIuewzQPbSaC1CpVBT3gLqlTTUQDNARDAaD5r2sbm4TwaADpzGNvFKpHPiLpdU8B7V1aLXoznFzPbqlTS0hGFRQ+6U6dXa7/ar4diuO/7PZ7IHj07t377bl+x6kdVy5cuXqUY9V6qSdrlva1BKC4b1mu2iJRELRTLnjWK3W/edo1TGkNGza9UUw0jouXLiguo7R0dFjn6Nb2tRSRwSDeIl56SIjSkSj0VHp7EGl6t/T2CyO4ybFbW9ubrbsbIH4egmr1TrZitOijdZhNpsn1NTBsqxFfCFRt7eplY4IhnK5vP9X1mg0eho9fr5+/frcyY86nNFo9DS7pgLLspahoaEDV4W+ePGiZRex/PXXXwee2+fztXRuxlGkE+HU1PHtt9/OKQn1bmlTKx0RDNI34N69e4p3VI7jJpUunHGUoaGh+UaP/1iWtTx48OBn8WBSPp8Pt/JctXQpfqPR6Mnlcg1/WNUOXLrd7rD4kKnZOjiO258Gjja11RHBsLi4+LsgCPujwA6HY17JsT/P87NHLbLSCIZhLDdu3IgonSwWi8U8P/zww4GZo4IgFNSub6BEJBLxi7eV1WqdLJfLEaXdXJ7nZ3/88cf/ql15Sjohzmq1ThaLxWdK6mBZ1pLL5QLi9078mrq9TS10RDAEg8HC2traovi+kZGRxzzPz0rfgGg0Osrz/OzOzs5L8eQu8TiFUpVKZVX8F8HhcMzv7Oy8zGazsrUVWJa1JBKJiY2NjcdjY2PPpGs5LC8vq1rfQKnp6enU8vLyN+IPWF9f3+jU1NTLXC4XSCQSE9IeQSgUckm32fDwcEBNOHi93lXpdGKj0eg5ro5YLObJZrPzgUAgKl28R8lVqN3SplY+1vqnWCy+3nuvWCy+bkUbJ7XbCI7jHiitWfq4aDT61e7ubr6Zdvf29vZ2d3fz0Wj0Ky22ZyPbXW3de3t7e7lc7j9q33uO4x6oqaFcLr9hWfaauF2e5x+hTXU/HdFjqAsGg/el6+cdRxCEQqMLZ0h5vd5Vv9/vbaTdulKptLK0tORrx3Ryr9e7urS05GumbkEQCplMZsFms6leQMTtdodfvXrla+Y07fr6+tNmVpLqljbV6LRgKJhMpplkMuk/7tBAEIRCPp8PLy0t+bSYzl1vNx6PzyhZk3Jzc/NFPB6fMZlMM+38Atjp6elUI3VXq9VUJpNZ8Pv9Xi3XcvB6vavnz5/3JZNJv5IdJ5/Ph+Px+Izdbl9odmfpljab1ZLvldCLaDQ6euXKlat9fX37x3DpdHq11TMLWZa1+Hy+q9IZdul0ejUSibzR81fDx2Ixj7TuXC6XSqfTqdPq2Ry3/Vr13nVLm0p1dDAAQHM66lACALSBYAAAGQQDAMggGABABsEAADIIBgCQQTAAgAyCAQBkEAwAIINgAAAZBAMAyCAYAEAGwQAAMggGAJBBMACADIIBAGQQDAAgg2AAABkEAwDIIBgAQAbBAAAyCAYAkEEwAIAMggEAZBgi2mt3EQCgKwJDRNvtrgIAdGWHIaLNdlcBALqyxRBRjoiEdlcCALogENG/56g2xrBNRAPtrQcAdOB/RFQ59/7G9vuffqp9AzYAdBeBaqGwSSQPgXNE9CHVAuKDQ/4fADqHQEQ7RLRFRP8S0W79P/4PA4fOcaRQ4iAAAAAASUVORK5CYII="},Js="".concat(E,"-skip-cross"),$s="".concat(E,"-controls.").concat(E,"-skip:not(.").concat(Js,")");const tc={adaptPlayerToSlot:Cs,adsBySunmedia:Ps,delayForceStart:ws,infiniteScroll:Ms,marginOnlyDesktop:Os,mobileScreenWidth:xs,onePluginInstance:Vs,parentWindow:Ns,publicidad:Us,sticky:Ws,allowDuplicates:{hooks:{beforeCreate:function(t){(t||{}).options.allowDuplicates=!0}}},blockSpain:Hs,dixen1AndAva:Ys,dixen50kAndAva:Ks,dixen50kRAndAva:Qs,esControls:{hooks:{beforeCreate:function(t){t.options.css+="\n            .".concat(qs," .").concat(E,"-ui-container .").concat($s," {\n              background-image: url('").concat(Xs.CERRAR,"');\n            }\n            .").concat(qs," .").concat(E,"-ui-container .").concat(E,"-controls.").concat(E,"-label {\n              background-image: url('").concat(Xs.PUBLICIDAD,"');\n              padding-right: 0;\n              width: 16%;\n              min-width: 56px;\n              min-height: 26px;\n              max-width: 85px;\n              max-height: 40px;\n            }")},beforeAdStarted:function(t){var e,n=(null===(e=t.adControllerInstance.currentAd.adFactory)||void 0===e?void 0:e.type)===A.VIDEO;(rt(t.$adContainer,"add",qs),n)&&ot(document.querySelector(".".concat(qs," .").concat(E,"-ui-container .").concat($s)),{left:"16.5%"})}}},forceAvaSize:{hooks:{beforeCreate:function(t){t.ava.forceSize=!0}}},useSaferWayToFindPosition:{hooks:{beforeCreate:function(t){t.options.useSaferWayToFindPosition=!0}}}};function ec(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[],n=0;n<t.length&&!e.length;n+=1)try{e=t[n]()||[]}catch(t){}return e}function nc(t,e){var n=t.document;return[function(){var t=n.getElementById(e);return t?[t]:[]},function(){return n.getElementsByClassName(e)},function(){return n.querySelectorAll(e)},function(){return[].concat(o(n.querySelectorAll("div[itemprop='".concat(e,"']"))),o(n.querySelectorAll("article[itemprop='".concat(e,"']"))))}]}function ic(t,e,n){var i,r=function(t,e){for(var n=[],i=0;i<e.length&&!n.length;i+=1)n=ec(nc(t,e[i].trim()))||[];return n}(t,e||[]);if(!T(r)){var a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t;return t<0?(n=e.length-1+t)<0&&(n=0):t>=e.length&&(n=e.length>0?e.length-1:0),n}(n,r);if(T(i=r[a]))i=H(r,1)[0]}return i}function rc(){return ac.apply(this,arguments)}function ac(){return ac=kt(St().mark((function t(){var e,n=arguments;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!T(e=ic.apply(void 0,n))){t.next=3;break}throw new Error("Container not found");case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)}))),ac.apply(this,arguments)}function oc(t){return sc.apply(this,arguments)}function sc(){return sc=kt(St().mark((function t(e){var n,i,r,a,o,s,c,u,l,d,h,f,v,p,m;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.wind,i=e.integrationScript,r=void 0===i?{}:i,a=e.placementOptions,o=void 0===a?{}:a,s=e.options,c=void 0===s?{}:s,u=o.classList,l=o.classPosition,d=o.classMandatory,h=c.maxIntents,f=void 0===h?20:h,v=c.findTimeout,p=void 0===v?500:v,!(u.length>0)){t.next=14;break}return t.prev=4,t.next=7,Qi(rc,{args:[n,u,l],attempts:f,delay:p});case 7:return t.abrupt("return",t.sent);case 10:if(t.prev=10,t.t0=t.catch(4),!d){t.next=14;break}throw new Error("Container not found with class mandatory");case 14:if(!T(m=r.containerElem)){t.next=17;break}throw new Error("Container not found");case 17:return t.abrupt("return",m);case 18:case"end":return t.stop()}}),t,null,[[4,10]])}))),sc.apply(this,arguments)}function cc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=sn(t);if(e){var r=sn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return on(this,n)}}var uc,lc=function(t){an(n,t);var e=cc(n);function n(){return Tt(this,n),e.apply(this,arguments)}return Ct(n,[{key:"hasNativeSupport",value:function(){return!0}},{key:"createObserver",value:function(t){var e=this.getTarget(),n=new IntersectionObserver((function(n){n.forEach((function(n){var i=n.isIntersecting,r=ht(e).isBelow;(i||r)&&t()}))}),{threshold:0});return n.observe(e),n}}],[{key:"createObservable",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return Zn(n,e)}}]),n}(Yn),dc=new Error("No user consent"),hc=Wt,fc=zt,vc=(s(uc={},fc,g),s(uc,hc,b),uc);function pc(){var t=we.getState(k)||{};return $t(t[fc])&&t.areVendorsAuthorized?Promise.resolve(t):Promise.reject(dc)}function mc(){return Ac.apply(this,arguments)}function Ac(){return Ac=kt(St().mark((function t(){var e,n,i,r,a,o,c,u,l,d,h,f,v,p,m,A,g,y,b=arguments;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=b.length>0&&void 0!==b[0]?b[0]:{},o=a.isInEuCountry,c=a.gdprMacroValues,u=void 0===c?{}:c,l=a.settings,h=(d=void 0===l?{}:l).attempts,f=d.delay,v=we.getState(k)||{},p=null!==(e=null!==(n=u[hc])&&void 0!==n?n:v[hc])&&void 0!==e?e:Number(o),!L(T(u[fc]))){t.next=6;break}return t.abrupt("return",(s(m={},fc,u[fc]),s(m,hc,p),m));case 6:if(!(A=v.noCmpFound)||!L(p)){t.next=9;break}return t.abrupt("return",vc);case 9:if(!A){t.next=11;break}throw dc;case 11:return g={},t.prev=12,Lt.info("Fetching user consent."),t.next=16,Qi(pc,{attempts:p?-1:h,delay:f});case 16:if(t.t0=t.sent,t.t0){t.next=19;break}t.t0={};case 19:g=t.t0,t.next=27;break;case 22:if(t.prev=22,t.t1=t.catch(12),!p){t.next=26;break}throw t.t1;case 26:return t.abrupt("return",vc);case 27:return s(r={},fc,g[fc]),s(r,hc,null!==(i=u[hc])&&void 0!==i?i:g[hc]),y=r,t.abrupt("return",y);case 29:case"end":return t.stop()}}),t,null,[[12,22]])}))),Ac.apply(this,arguments)}var gc={build:De,mount:De,adContainerMounted:De,adContainerUnmounted:De,createObservables:De,getContainerWidth:function(){return 0},getAdContainerParent:De,updateAdPosition:De,adPreload:De,startAd:De,programmaticDisplayLoaded:De,adStarted:De,adStoppedWithReminder:De,updateConfigOptions:De,adExpandedChange:De,getAvailablePositions:De,displayRestart:function(){return Promise.reject()},reset:De,removeElements:De};var yc={init:function(){this.effectiveListener=this.effectiveListener.bind(this)},props:{$effectiveTarget:null,effectiveSubscription:null,fireRequestTried:!1,fireUnfilledTried:!1},methods:{setEffectiveTarget:function(t){this.$effectiveTarget=t},isAdCountEqualTo:function(t){return this.outstreamInstance.playedAdCount===t},isLookingForFirstAd:function(){return this.isAdCountEqualTo(0)},isPlayingFirstAd:function(){return this.isAdCountEqualTo(1)},isOnlyForSunMedia:function(t){return[me.Type.DWH.OPPORTUNITY,me.Type.DWH.REQUEST,me.Type.DWH.EFFECTIVE,me.Type.DWH.UNFILLED].includes(t)},hasEffectiveTrackerBeenFired:function(){return this.outstreamInstance.appTrackingEvents.hasBeenFired(me.Type.DWH.EFFECTIVE,1)},setEffectiveTrackerAsFired:function(){this.outstreamInstance.appTrackingEvents.firedTrackerByName["".concat(me.Type.DWH.EFFECTIVE,"-1")]=1},fireTracker:function(t,e,n){var i=this;return kt(St().mark((function r(){var a,o,s,c,u,l;return St().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a=i.outstreamInstance,o=a.adControllerInstance,s=a.appTrackingEvents,c=a.macroValues,u={macroValues:c,errorMsg:n},M(e)?u.pb=e:i.isOnlyForSunMedia(t)?u.pb=1:null!=o&&o.currentAd&&(l=o.currentAd,u.pb=l.initialAdTag.isSunmedia?1:0,u.pbt=l.initialAdTag.pbt,u.pbid=l.initialAdTag.pbid,u.adDataValues=l.adData),r.next=6,s.fire(t,u);case 6:r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),Lt.error("Firing the tracker ".concat(t),r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()},createEffectiveObservable:function(){L(K(this.$effectiveTarget))?Lt.error("Trying to create EFFECTIVE observe without setting the $effectiveTarget element first"):this.effectiveSubscription=lc.createObservable(this.$effectiveTarget).subscribeOnce(this.effectiveListener)},effectiveListener:function(){var t=this.outstreamInstance.state;this.fireTracker(me.Type.DWH.EFFECTIVE),t===Ta&&(this.tryToFireUnfilled(),this.outstreamInstance.removeElements())},tryToFireUnfilled:function(){L(this.fireUnfilledTried)&&(this.fireUnfilledTried=!0,this.tryToFireUnfilledForClient(),this.tryToFireUnfilledForSunMedia())},tryToFireUnfilledForClient:function(){var t=this.outstreamInstance,e=t.clientAdCount,n=t.clientRequestCount;e>0||0===n||this.fireTracker(me.Type.DWH.UNFILLED,0)},tryToFireUnfilledForSunMedia:function(){var t=this.outstreamInstance,e=t.sunmediaAdCount,n=t.sunmediaRequestCount;e>0||0===n||this.fireTracker(me.Type.DWH.UNFILLED)}},hooks:{beforeInit:function(){var t=this.outstreamInstance,e=t.appTrackingEvents,n=t.config;e.setMode(n.silentTrackers)},beforeBuild:function(){this.fireTracker(me.Type.DWH.OPPORTUNITY)},mounted:function(){this.outstreamInstance.config.ava.forceStart?this.fireTracker(me.Type.DWH.EFFECTIVE):this.createEffectiveObservable()},beforeSMRequest:function(){this.fireRequestTried||(this.fireRequestTried=!0,this.fireTracker(me.Type.DWH.REQUEST))},beforeSMRequestError:function(t,e,n){var i=n.isSunmedia;if(this.isLookingForFirstAd()){var r=i?1:0;this.fireTracker(me.Type.DWH.REQUEST_ERROR,r)}},beforeAdImpression:function(){this.fireTracker(me.Type.DWH.IMPRESSION)},beforeAdVideoStart:function(){this.isPlayingFirstAd()&&this.fireTracker(me.Type.DWH.START)},beforeAdVideoFirstQuartile:function(){this.isPlayingFirstAd()&&this.fireTracker(me.Type.DWH.FIRST_QUARTILE)},beforeAdVideoMidpoint:function(){this.isPlayingFirstAd()&&this.fireTracker(me.Type.DWH.MIDPOINT)},beforeAdVideoThirdQuartile:function(){this.isPlayingFirstAd()&&this.fireTracker(me.Type.DWH.THIRD_QUARTILE)},beforeAdVideoComplete:function(){this.isPlayingFirstAd()&&this.fireTracker(me.Type.DWH.COMPLETE)},beforeAdClickThru:function(){this.fireTracker(me.Type.DWH.CLICK)},beforeAdSkipped:function(){this.fireTracker(me.Type.DWH.SKIP)},beforeClose:function(t,e,n){if(null==n?void 0:n.err){var i=yt.encode(n.err);this.fireTracker(me.Type.DWH.ERROR,1,i)}else this.hasEffectiveTrackerBeenFired()&&this.tryToFireUnfilled()},beforeAlternativeMounted:function(){this.outstreamInstance.appTrackingEvents.logTracker(me.Type.DWH.ALTERNATIVE)},beforeReminderStarted:function(){this.outstreamInstance.appTrackingEvents.logTracker(me.Type.DWH.REMINDER)},beforeReminderClick:function(){this.fireTracker(me.Type.DWH.CLICK)}}};var bc={MAIN_CONTAINER:"\n    .".concat(E,"-it-main-container {\n      margin: auto;\n      position: relative;\n    }\n  "),REFERENCE:"\n    .".concat(E,"-reference {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      margin: auto;\n    }\n  "),LOADING:"\n    .".concat(E,"-loading {\n      display: none;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      width: 64px;\n      height: 64px;\n      margin-top: -32px;\n      margin-left: -32px;\n      z-index: 20;\n    }\n    .").concat(E,"-loading div {\n      box-sizing: border-box;\n      display: block;\n      position: absolute;\n      width: 51px;\n      height: 51px;\n      margin: 6px;\n      border: 6px solid;\n      border-radius: 50%;\n      animation: SMLoading 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n      border-color: #ff8f00 transparent transparent transparent;\n    }\n    .").concat(E,"-loading div:nth-child(1) {\n      animation-delay: -0.45s;\n    }\n    .").concat(E,"-loading div:nth-child(2) {\n      animation-delay: -0.3s;\n    }\n    .").concat(E,"-loading div:nth-child(3) {\n      animation-delay: -0.15s;\n    }\n    @keyframes SMLoading {\n      0% {transform: rotate(0deg);}\n      100% {transform: rotate(360deg);}\n    }\n  ")};function Ec(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!(e.length<=1)){var i=e[0],r=e[1],a=e.slice(2);$(i,r),Ec.apply(void 0,[r].concat(o(a)))}}var kc={init:function(){var t=this.outstreamInstance.config;this.needToUnfold=t.options.fold},props:{hasMainPosition:!0,needToUnfold:null,$mainPositionParent:null,$mainContainer:null,$reference:null,$loading:null},methods:{setMainPositionParent:function(){var t=this;return kt(St().mark((function e(){var n,i,r,a,o,s;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.outstreamInstance,i=n.config,r=n.integrationScript,a=n.wind,o=i.seekerSettings,s=i.options,e.next=4,oc({wind:a,integrationScript:r,placementOptions:s,options:o});case 4:t.$mainPositionParent=e.sent;case 5:case"end":return e.stop()}}),e)})))()},mountMainPosition:function(){var t,e,n=this.outstreamInstance.config;it(Ra,"\n        ".concat(bc.MAIN_CONTAINER,"\n        ").concat(bc.REFERENCE,"\n        ").concat(bc.LOADING,"\n      "),{concat:!0}),this.$mainContainer=function(t,e){var n=t.api,i=t.config,r=t.device,a=t.instanceIndex;return J({name:"it-main-container",id:n,attributes:{data:{it:i.it,device:r,index:a}},style:e})}(this.outstreamInstance,u({width:this.calculateMainContainerWidth(),height:n.options.mainContainer.foldHeight},L(n.options.fold)&&this.getUnfoldStyles())),this.$reference=(t=this.outstreamInstance,e={"background-color":n.options.reference.backgroundColor},J({name:"reference",id:t.api,style:e})),this.$loading=J({name:"loading",id:this.outstreamInstance.api,children:[{},{},{},{}]}),Ec(this.$mainContainer,this.$reference,this.$loading);var i=n.options,r=i.domPosition,a=void 0===r?0:r,o=i.excludeNodeTagNames,s=function(t,e){return Y(t)?q(t).filter((function(t){return!e.includes(t.tagName.toLowerCase())})):[]}(this.$mainPositionParent,o);this.$mainPositionParent.insertBefore(this.$mainContainer,s[a])},getUnfoldStyles:function(){var t=this.outstreamInstance.config.options,e=t.mainContainer,n=e.marginTop,i=e.marginBottom,r=t.forceSize,a=this.getMainContainerDefaultHeight(),o=this.calculateAdDimensions(!1).height;return{height:r||this.hasToForceDefaultHeight()||o<=a?a:o,"margin-top":n,"margin-bottom":i,overflow:"hidden"}},unfoldMainContainer:function(t){if(!L(this.needToUnfold)){var e=this.getUnfoldStyles();ot(this.$mainContainer,u(u({},e),t&&{height:"auto"})),this.needToUnfold=!1}},getMainContainerDefaultHeight:function(){var t,e=this.outstreamInstance,n=e.config,i=e.windowHeight,r=n.options.ratio,a=(null===(t=this.getMainContainerDimensions())||void 0===t?void 0:t.width)||this.calculateMainContainerWidth(),o=Wn("height")(a,r);return Math.min(i,o)},hasToForceDefaultHeight:function(){var t=this.outstreamInstance,e=t.config,n=t.adControllerInstance,i=e.ava.enabled,r=(n||{}).currentAd;return L(r)||r.isNoVideoReminder||i&&r.isProgrammaticDisplay},calculateMainContainerWidth:function(){var t,e=this.outstreamInstance.config.options.margin;return((null===(t=st(this.$mainPositionParent))||void 0===t?void 0:t.width)||this.getContainerWidth())-e},getMainContainerDimensions:function(){if(L(this.$mainContainer))return{};var t=parseFloat(this.$mainContainer.style.width),e=parseFloat(this.$mainContainer.style.height);return{width:t,height:e,ratio:Wn("ratio")(t,e)}},requestResizeMainContainer:function(t){var e,n=this.outstreamInstance.config;if(this.needToUnfold)return this.unfoldMainContainer(),!0;if(n.options.forceSize)return!0;var i,r=this.getMainContainerDimensions().height;if(O(t))i=t;else{var a=this.calculateAdDimensions(!1).height,o=this.getMainContainerDefaultHeight();i=this.hasToForceDefaultHeight()||a<=o?o:a}return i===r||!L(n.options.mainContainer.expandAlways||(null===(e=ht(this.$mainContainer))||void 0===e?void 0:e.isAbove))&&(ot(this.$mainContainer,{height:i}),!0)},updateMainContainerDimensions:function(){var t=this.getMainContainerDimensions(),e=this.calculateMainContainerWidth();t.width!==e&&ot(this.$mainContainer,{width:e,height:Wn("height")(e,t.ratio)})},getReferencePosition:function(){var t=this.outstreamInstance.config;return t.options.useSaferWayToFindPosition?function(t,e){if(!K(t))return{};var n=x((function(){return document.querySelector(e)})),i=function t(e){if(!e||e===n)return{top:0,left:0};var i=e.offsetParent;null===i&&(i=e.parentNode);var r=t(i),a=e.offsetTop||0,o=e.offsetLeft||0;return{top:a+r.top,left:o+r.left}}(t),r=i.top,a=i.left,o=t.getBoundingClientRect();return{top:r,left:a,width:o.width,height:o.height}}(this.$reference,t.options.containingBlock):Q(this.$reference)},obtainAdMainPosition:function(){var t=this.calculateAdDimensions(!0),e=t.width,n=t.height,i=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return{top:Gn(t.top+(t.height-e.height)/2,n),left:Gn(t.left+(t.width-e.width)/2,n)}}(this.getReferencePosition(),{width:e,height:n});return{top:i.top,left:i.left,width:e,height:n,visibility:"visible"}},calculateAdDimensions:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.outstreamInstance,n=e.config,i=e.windowHeight,r=e.adControllerInstance,a=r||{},o=a.currentAd;if(L(null==o?void 0:o.dimensions))return{width:0,height:0};var s=this.getMainContainerDimensions(),c=s.width,u=s.height,l=Math.min(i-n.options.windowHeightPadding,t?u:1/0);return no(null==o?void 0:o.dimensions,{maxWidth:c,maxHeight:l})},showMainPositionBackground:function(){var t=this.outstreamInstance.config.options.reference.backgroundColor;ot(this.$reference,{"background-color":t})},hideMainPositionBackground:function(){ot(this.$reference,{"background-color":"transparent"})},showLoading:function(){ot(this.$loading,{display:"block"})},hideLoading:function(){ot(this.$loading,{display:"none"})},removeMainContainer:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(n){var i;if(L(t.$mainContainer))n(!0);else{var r=e||(null===(i=ht(t.$mainContainer))||void 0===i?void 0:i.isAbove);r&&(tt(t.$mainContainer),t.$mainContainer=null,t.outstreamInstance.hooksManager.afterRemoveMainContainer()),Lt.info(r?"Main container removed":"Remove main container is not possible without generating CLS"),n(r)}})).catch((function(t){return Lt.error("Removing mainContainer",t)}))}},hooks:{beforeEndAd:function(){var t=this.outstreamInstance,e=t.adControllerInstance,n=t.playedAdCount,i=L(Kt(null==e?void 0:e.currentAd));this.outstreamInstance.itShouldLoop(i)&&n>0&&this.showLoading()},afterAlternativeMounted:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.isMain;i&&this.needToUnfold&&ot(this.$mainContainer,{height:"auto"})},afterAlternativeContentLoaded:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.isMain,r=this.outstreamInstance.config;i&&this.unfoldMainContainer(L(r.options.forceSize))}}},Tc={AVA:"\n    .".concat(E,"-ad-container.ava {\n      position: fixed;\n      z-index: 99999;\n    }\n  ")},Ic={props:{hasAvaPosition:!0},methods:{mountAvaPosition:function(){it(Ra,Tc.AVA,{concat:!0})},obtainAdAvaPosition:function(){var t,e,n=this.outstreamInstance,i=n.config,r=n.device,a=n.adControllerInstance,o=i.options.ratio,c=u({},null==a||null===(t=a.currentAd)||void 0===t?void 0:t.dimensions),l=i.ava,d=l.bottom,h=l.position,f=l.margin,v=l.forceSize,p=l.maxWidth,m=H(h.split("_"),2),A=m[0],g=m[1],y=void 0===g?"left":g;return s(e={width:(c=ao(c,{maxWidth:p,forceSize:v,defaultRatio:o,device:r})).width,height:c.height},A,d),s(e,y,f),s(e,"visibility","visible"),e},obtainDefaultAvaPosition:function(){var t,e=this.outstreamInstance.config,n=e.options.ratio,i=e.ava,r=i.bottom,a=i.position,o=i.margin,c=i.maxWidth,u=H(a.split("_"),2),l=u[0],d=u[1],h=void 0===d?"left":d;return s(t={width:c,height:Wn("height")(c,n)},l,r),s(t,h,o),t}}},Cc={EXPANDED:"\n    .".concat(E,"-ad-container.expanded {\n      position: fixed;\n      top: 0;\n      left: 0;\n      z-index: ").concat("2147483647",";\n    }\n  ")},wc={props:{hasExpandedPosition:!0},methods:{mountExpandedPosition:function(){it(Ra,Cc.EXPANDED,{concat:!0})},obtainAdExpandedPosition:function(){return{width:ut(),height:lt(),visibility:"visible"}}}};function Sc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=sn(t);if(e){var r=sn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return on(this,n)}}var Rc=function(t){an(n,t);var e=Sc(n);function n(t,i){var r;return Tt(this,n),(r=e.call(this,t)).useScreenWidth=i,r.ticks=0,r}return Ct(n,[{key:"createInterval",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:167,r=this.getTarget();return nr(sn(n.prototype),"createInterval",this).call(this,(function(){dt(r,e.useScreenWidth)?(e.ticks+=1,e.ticks>=4&&(e.ticks=0,t())):e.ticks=0}),i)}}],[{key:"createObservable",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return Zn(n,e)}}]),n}(Yn),Dc={init:function(){this.isOutOfPageListener=this.isOutOfPageListener.bind(this)},props:{$outOfPageTarget:null,outOfPageSubscription:null},methods:{setOutOfPageTarget:function(t){this.$outOfPageTarget=t},closeOnOutOfPage:function(){if(L(K(this.$outOfPageTarget)))Lt.error("Trying to check OUT_OF_PAGE without setting the $outOfPageTarget element first");else{var t=this.outstreamInstance.useScreenWidth;if(dt(this.$outOfPageTarget,t))throw Error("Closing on: OUT_OF_PAGE");L(Kt(this.outOfPageSubscription))||(this.outOfPageSubscription=Rc.createObservable(this.$outOfPageTarget,t).subscribeOnce(this.isOutOfPageListener))}},unsubscribeOutOfPage:function(){var t;null===(t=this.outOfPageSubscription)||void 0===t||t.unsubscribe(),this.outOfPageSubscription=null},isOutOfPageListener:function(){var t=this.outstreamInstance,e=t.adControllerInstance,n=t.config,i=t.state,r=new Error("Closing on: OUT_OF_PAGE");Lt.error("Interrupting outstream plugin",r),this.outstreamInstance.adEnded=!0,delete n.alternative,i>ga&&i<ka&&e.skipAd(),n.options.forceSize=!1,this.effectiveSubscription&&L(this.hasEffectiveTrackerBeenFired())&&this.setEffectiveTrackerAsFired();this.outstreamInstance.close({adHasBeenPlayed:null!=e&&e.currentAd?1:0,userInteraction:!0,err:r})}},hooks:{beforeClose:function(){this.unsubscribeOutOfPage()}}};var Pc={ATTRIBUTES:"attributes",CHARACTER_DATA:"characterData",CHILD_LIST:"childList"};function Mc(t){return L(function(t){return[Pc.ATTRIBUTES,Pc.CHILD_LIST].includes(t)}(t))}function Oc(t){return e=t,n="".concat(E,"-"),Array.from((null==e?void 0:e.classList)||[]).some((function(t){return t.startsWith(n)}));var e,n}function xc(t){var e=t.type,n=t.addedNodes,i=void 0===n?[]:n,r=t.removedNodes,a=void 0===r?[]:r;return e===Pc.CHILD_LIST&&0===a.length&&L(function(t){return Array.from(t).some((function(t){if(L(t.style))return!0;if("none"===t.style.display)return!1;var e=t.width,n=t.height,i=parseFloat(e),r=parseFloat(n);return!!L(O(i)||O(r))||i>1||r>1}))}(i))}function Lc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=sn(t);if(e){var r=sn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return on(this,n)}}var Vc=function(t){an(n,t);var e=Lc(n);function n(){return Tt(this,n),e.apply(this,arguments)}return Ct(n,[{key:"hasNativeSupport",value:function(){return!0}},{key:"createObserver",value:function(t){var e=this.getTarget(),n=new MutationObserver((function(e){e.some((function(e){var n=e.type,i=e.target;return!(Mc(n)||Oc(i)||xc(e))&&(t(),!0)}))}));return n.observe(e,{attributes:!0,childList:!0,subtree:!0,attributeOldValue:!0,attributeFilter:["id","class","style","height","width"]}),n}}],[{key:"createObservable",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return Zn(n,e)}}]),n}(Yn);var Nc={init:function(){this.domChangeListener=function(t){var e,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Mt(t,"func"),function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];r&&e||(r||clearTimeout(e),e=setTimeout((function(){e=null,t.apply(n,o)}),i))}}(this.domChangeListener.bind(this),200,!0)},props:{relocateAdTarget:null,beforeRelocateAdHook:null,domChangeSubscription:null},methods:{setRelocateAdTarget:function(t){this.$relocateAdTarget=t},relocateAdOnDomChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,e=this.outstreamInstance.wind;this.beforeRelocateAdHook=t,this.domChangeSubscription=Vc.createObservable(e.document.body).subscribe(this.domChangeListener),e.addEventListener("resize",this.domChangeListener,!1)},domChangeListener:function(){var t,e,n=this.outstreamInstance,i=n.adControllerInstance,r=n.wind,a=[Ta];(null==i?void 0:i.isFullscreen())||a.includes(this.state)||(L((t=this.$relocateAdTarget,e=r,!L(t)&&e.document.body.contains(t)))?this.outstreamInstance.close({adHasBeenPlayed:!1,err:new Error("target to relocate the adContainer gone")}):(this.beforeRelocateAdHook(),this.relocateAdContainer()))},relocateAdContainer:function(){var t=this.outstreamInstance.adPosition;t!==wa&&this.updateAdPosition(t,!0)},unsubscribeRelocateAd:function(){var t,e=this.outstreamInstance.wind;null===(t=this.domChangeSubscription)||void 0===t||t.unsubscribe(),e.removeEventListener("resize",this.domChangeListener,!1)}},hooks:{afterClose:function(){this.outstreamInstance.noMoreContentAvailable()&&this.unsubscribeRelocateAd()},afterAlternativeEnded:function(){this.unsubscribeRelocateAd()}}},Fc={RESTART:"\n    .".concat(E,"-restart-layer {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      display: block;\n      background: #000 no-repeat 50% 50%;\n      background-color: rgb(245, 245, 245);\n    }\n    .").concat(E,"-restart-layer div {\n      position: absolute;\n      background-size: contain;\n      background-repeat: no-repeat;\n      cursor: pointer;\n    }\n    .").concat(E,"-restart-layer .").concat(E,"-restart {\n      top: 50%;\n      left: 50%;\n      width: 23%;\n      height: 15%;\n      min-width: 100px;\n      min-height: 49px;\n      transform: translateY(-50%) translateX(-50%);\n      background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASgAAACDCAMAAAAJdXayAAAAwFBMVEUAAAD9/f38/PwAAAAHBwf7+/v4+PiIiIgZGRkiIiISEhL6+vr5+fnp6elLS0sqKirn5+fW1taAgID39/f19fXv7+/Dw8M9PT3y8vLu7u7f39+np6deXl7c3Ny/v7+tra3k5OTQ0NCUlJT29vbr6+sAAAAAAAAAAAAAAAAAAADw8PDi4uLMzMzIyMi6urp4eHgzMzMODg7FxcWbm5uOjo5vb2/Y2Nizs7NRUVFERESioqKfn59VVVVkZGT+/v7///8ErcY9AAAAPnRSTlOA/v0AhPz5roiKh/v66paN6Nuq+PXwzpL07+K+neDMwefXtPfseHBAIAjx5dTSyaePhtC3sKPdxZiUu7man5f3stsAAARKSURBVHja7dxZW9pQEAbgmUACgYQdZJdN2VTEglptv/n//6pA+6itymJOb07mveaG75lMhrNAiURiOr4k9anL8XQT0iaoyQWpvS4m26AmpA6aJGiq9XSEiymNSR1hTNrHj6ExKaWUUkoppZRSSimllEmZ9rdasTnv9ebF7uAxQ+q99LpbKDPe4nLYXWtab2VSnTLjIzzsL5akdh5rLymxO6wWer1CWB26/JJV9zspeuy72GIvrC18epUv1cKAAQiyVzmKudyVBwG43F+k6T0/1QmwVb6LdVX5rRlDwGFquad/NRgAz87TFFfrngPA6ZVor2SqsPtcs03xNPAAOIVNNR2SWYUMQSVFMZS/c0VQOfeP+/RDBYKg5lPc+PfutpxydKx2gUXcqyTFS24EIFtLn1KCNReC5hnFSW7Op7ec5LMHcYq3FB/+iAXlEp3qKYBwMz5jwm0HgrBNp1tUIdyPTVLXjqDcpq9IBRD3huJhkBVUSl8fviT4RnHQ9oBsir7qaROz90j28+cQ7ibpq5Y1FnRi0KZajmAU5XtmRoBr/8OXqwKVHEXxowJUrZ87r1icB4rmhsHXZLfHACjkKZr8CChbXlJFwElRVCtHcEU2y2UFvSVFtQyBrNUl1YVwiaJbMWDzfJ6pAyGZ0ABmFu+NlhhsZgJ6YvCCrFUEhj6ZcOvB4naeKQNFMqMD1K1dFv7JQInMWAGOtdvHN0A2TWbkHaBFlioAIZlSBZpkKQ/okil9oE52SjOwIFMGgGtpN/8BsE+mnIHZ0l8xAyBLxiQd5hJZ6QYYkjke8zlZyXD7rbOtq3f3wIjMaTDfk5WKZiefkNmuQcoR/CYb+MOjyArMc7IJyweyWlHvpPiDnBZGfsMUySbJO8g/UKPoKoBlb71lKP/o+RRdANg2R7U9+Qu3jUzmwJoscw55w0wh5AC27pRipiOvcE8mfAOy9q0e5OvyopojE4p2rkeVWP7gFBkxAzpkoZcZoZYkE25d+156O35DdhpkxhPg/iAb/fRkY7gmM3pA1b5evvMMU5PBRj4L1MhOyaJIJ0NmtAC29vre2ajhmwq9AplZ+uQZtYKl7zzD0gUgG787jqd7dsB3pA7JN4B6rK/3n3DOvEvqkHUQh5sL0eULEMf+uzCRJfssaFp8ItiUlgtUrT2UaDInkcDSUyymvNwpfiC1X3JVh/BVDK5/RtQKII5d28P/Q/rBgzh96/aoTPNrLoSLeVJ7tWcscO90gNrvrFuGYPigfXyvzHODAZRj+Y9kJ0jtYnI7urKyz21rBhHwaKCP3efyg2aALa+r6yqfSH4f9KsOdoJrHQreyd00C2Gj7jn4gxstfeg+UKowXnH9uq37dweCciqdVk5T+sxZqzif31+fl840I6WUUkoppZRSSimllIruktRRMY1JHWFM0wtSB11MKTEhddAkQYnERGvqgItJYhtUYjrWjr7H5Xi6CekXgBywZ8giZv8AAAAASUVORK5CYII=');\n    }\n    .").concat(E,"-restart-layer .").concat(E,"-close {\n      top: 10px;\n      right: 10px;\n      width: 26px;\n      height: 26px;\n      background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAzCAMAAAANf8AYAAAAkFBMVEUAAAAAAAD+/v4rKyv8/Pz39/f8/Pz39/eLi4vR0dH+/v7V1dWKioqFhYV/f3/////Nzc0AAAD+/v78/Pz9/f3u7u7s7Ozr6+vp6ekSEhL+/v7w8PB0dHT39/fS0tKnp6f19fXu7u7z8/Pv7+/MzMzJyckAAADy8vLi4uL4+Pjv7+8AAADZ2dnDw8OdnZ1fX18QcjD1AAAAMHRSTlMmEvgt7tbr2EZ7/IJFREH9eAH77fS1saynKfnAPtp/Vs+2yLl1cx/DmN66CoZtUDim/7c5AAABu0lEQVRIx+2V126DMBiFARtjhg0OEGYYCWlWx/u/XX9HbRSIw1CvWtVXCPTpyGcITejaovMihAbIUkhbfvR/5qcMorTsf+x/UzE03qb0CWMftq6S2UYkVkIo2EREyZQpWeGYKRDbzA3zTekBjbFDEv7ABKZhWK7aN4BAqSiHKhvDMG30zGuWYD9MvN67SqrYI/nwInRIy+9UOsvILReNZVomxAnbm1LmSpX9RA+8FpSS7zvtLbiLm011h7dkFRZcPiIXEKtD033zktDHCZPpS5VqVkfLAnKKKURp5Bsbzes1ByNwfJQqwewtMGhEFOUyyvn7oW3k+/4pQEs29wqM0/AFO0WVmfuOH57ZfKaC65+a0MFrbyaDgmst6RmvyJrOYrJr+kGmsTVMY+fNYfam3EsmG7GGcFM+ySB3AypfudAdKB34FBOY9+l7KfZx6o0yyLagY3cT4wcwYkdHmMyWKr2J8ZQMLdd7SCAdG0zM20nLmZqR14daPnSMSssLpmY6GeVwYjfLmZI54siqkGoaRRg1tZpptp265SxtCjXzXtegoobq+uO3/Rv/CPOymLloYimkC00IfdG5CPEJRJcY90Ps4pAAAAAASUVORK5CYII=');\n    }\n    ")},Uc={methods:{mountRestartLayer:function(t){return new Promise((function(e,n){try{var i;it(Ra,Fc.RESTART,{concat:!0});var r=J({name:"close",events:{click:function(t){tt(i),e({action:va.CLOSE,event:t})}}}),a=J({name:"restart",events:{click:function(t){tt(i),e({action:va.RESTART,event:t})}}});i=J({name:"restart-layer",children:[a,r]}),$(t,i)}catch(t){n(t)}}))}}},Bc=function(t){return B(L,$t)(t)},Wc={props:{optionsCallbackFired:{}},methods:{fireOptionsCallbackOnce:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Bc(t)&&!this.optionsCallbackFired[t]){this.optionsCallbackFired[t]=!0;var n=this.outstreamInstance.config.options;Oe(n,u(u({},e),{},{status:t}))}}},hooks:{afterAdImpression:function(){this.fireOptionsCallbackOnce("SunMediaStart")},beforeClose:function(t,e){var n,i=t.adControllerInstance,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.adHasBeenPlayed,o=this.getAvailablePositions({hasAva:!1})||{},s=o.mainPosition;this.fireOptionsCallbackOnce("SunMediaEnd",{container:null==s||null===(n=s.$container)||void 0===n?void 0:n.parentElement,playerUI:null==i?void 0:i.playerUI,ads:a?1:0})}}},zc=zt,Hc=Wt;const _c=function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=qa({init:function(e){var n,i=this;this.outstreamInstance=e,this.name=null==e||null===(n=e.config)||void 0===n?void 0:n.platformPlugin,(this.hooks||[]).forEach((function(t){S(t,(function(t,n){e.hooksManager.add(n,t.bind(i))}))})),delete this.hooks,this.pluginDefinition=t},methods:u({},gc)});return e.compose.apply(e,[t].concat(o(t.mixins||[])))}({mixins:[yc,kc,Ic,wc,Dc,Nc,Uc,Wc],init:function(){var t=this.outstreamInstance,e=t.config,n=t.instanceIndex;this.outstreamInstance.config=function(t,e){var n=t.integrationInstances,i=t.inblock,r=u({ava:{},alternative:{}},((n||[]).find((function(t){return t.index===e}))||{}).config);return L(i.enabled)&&(Dn(ms,(function(){r.ava.enabled=!1}))(),Dn(As,(function(){r.alternative.display=xa}))()),bt(t,r)}(e,n),this.startAdListener=this.startAdListener.bind(this),this.adPositionListener=this.adPositionListener.bind(this),this.resizeMainContainerListener=this.resizeMainContainerListener.bind(this),this.deleteMainContainerListener=this.deleteMainContainerListener.bind(this)},props:{viewportPosition$:null,startAdSubscription:null,adPositionSubscription:null,programmaticAvaSubscription:null,deleteMainContainerSusbcription:null,resizeMainContainerSusbcription:null,mainContainerResizeAllowed:!1},methods:{build:function(){var t=this;return kt(St().mark((function e(){var n,i,r,a;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.outstreamInstance,r=i.config,a=i.macroValues,e.t0=t.outstreamInstance,e.t1=u,e.t2={},e.next=6,mc({isInEuCountry:r.geoTarget.eu_country,gdprMacroValues:(n={},s(n,zc,a[zc]),s(n,Hc,a[Hc]),n),settings:r.userConsentSettings});case 6:return e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),e.t0.updateMacroValues.call(e.t0,e.t4),e.next=11,t.setMainPositionParent();case 11:case"end":return e.stop()}}),e)})))()},mount:function(){this.mountMainPosition(),this.mountAvaPosition(),this.mountExpandedPosition(),this.setEffectiveTarget(this.$mainContainer),this.setOutOfPageTarget(this.$mainContainer),this.setRelocateAdTarget(this.$mainContainer)},getAdContainerParent:function(){var t=this.outstreamInstance,e=t.config.options,n=t.wind;return(e.adContainerParent?ic(n,[e.adContainerParent],0):void 0)||n.document.body},createObservables:function(){this.relocateAdOnDomChange(this.onBeforeRelocateAd),this.closeOnOutOfPage(),this.viewportPosition$=Za.createObservable(this.$mainContainer)},onBeforeRelocateAd:function(){this.outstreamInstance.windowHeight=lt(),this.updateMainContainerDimensions()},startAdListener:function(t){var e;t.isIntersecting&&(null===(e=this.startAdSubscription)||void 0===e||e.unsubscribe(),this.updateAdPosition(Ca),this.outstreamInstance.startAd())},adPositionListener:function(t){var e=t.isIntersecting,n=t.intersectionRatio;if(this.outstreamInstance.adPosition!==Sa){var i=e&&1===n?Ca:wa;this.updateAdPosition(i)}},resizeMainContainerListener:function(){var t;(this.mainContainerResizeAllowed=this.requestResizeMainContainer(),this.mainContainerResizeAllowed)&&(null===(t=this.resizeMainContainerSusbcription)||void 0===t||t.unsubscribe(),this.outstreamInstance.adPosition===Ca&&(this.outstreamInstance.adPosition=null,this.updateAdPosition(Ca)))},deleteMainContainerListener:function(t){var e,n,i=L(t.isVisible)&&(null===(e=ht(this.$mainContainer))||void 0===e?void 0:e.isAbove);(i||L(this.$mainContainer))&&(null===(n=this.deleteMainContainerSusbcription)||void 0===n||n.unsubscribe());i&&this.removeMainContainer()},updateAdPosition:function(t){var e,n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.outstreamInstance,a=r.state,o=r.adControllerInstance,s=r.config,c=r.adPosition,u=r.$adContainer;if(!L(u)){var l=(null==o||null===(e=o.currentAd)||void 0===e?void 0:e.dimensions)&&a>ma&&a<Ta;if(!L(l)||t===Ia)switch(t){case Ia:if(c===Ia&&L(i))break;var d=this.getReferencePosition();rt(u,"remove","ava"),ot(u,d,!0),this.outstreamInstance.adPosition=Ia;break;case Ca:if(c===Ca&&L(i))break;var h=this.obtainAdMainPosition();this.outstreamInstance.batchMoveAdChanges(h,(function(){n.hideMainPositionBackground(),rt(u,"remove",["ava","expanded"]),ot(u,h,!0),o.resizeAd(h.width,h.height)})),this.outstreamInstance.adPosition=Ca;break;case wa:if(L(s.ava.enabled)||c===wa&&L(i))break;var f=this.obtainAdAvaPosition();this.outstreamInstance.batchMoveAdChanges(f,(function(){n.showMainPositionBackground(),rt(u,"remove","expanded"),rt(u,"add","ava"),ot(u,f,!0);var t=o.currentAd.isAdFactory?"ava":void 0;o.resizeAd(f.width,f.height,t)})),this.outstreamInstance.adPosition=wa;break;case Sa:if(c===Sa&&L(i))break;var v=this.obtainAdExpandedPosition();this.outstreamInstance.batchMoveAdChanges(v,(function(){rt(u,"remove","ava"),rt(u,"add","expanded"),ot(u,v,!0),o.resizeAd(v.width,v.height)})),this.outstreamInstance.adPosition=Sa}}},displayRestart:function(){var t=this,e=this.$mainContainer;return this.hideLoading(),this.mountRestartLayer(e).then((function(e){return e.action===va.RESTART&&t.showLoading(),e})).catch((function(t){throw t}))},unsubscribeAll:function(){var t,e,n,i;null===(t=this.startAdSubscription)||void 0===t||t.unsubscribe(),null===(e=this.adPositionSubscription)||void 0===e||e.unsubscribe(),null===(n=this.programmaticAvaSubscription)||void 0===n||n.unsubscribe(),null===(i=this.resizeMainContainerSusbcription)||void 0===i||i.unsubscribe()},adPreload:function(){var t=this.outstreamInstance.adControllerInstance.currentAd;L(null==t?void 0:t.isProgrammaticDisplay)&&(this.mainContainerResizeAllowed=this.requestResizeMainContainer())},programmaticDisplayLoaded:function(){var t=this,e=this.outstreamInstance.config;this.mainContainerResizeAllowed=this.requestResizeMainContainer(),e.ava.enabled&&(e.ava.forceStart||this.hasEffectiveTrackerBeenFired())?this.updateAdPosition(wa):(this.updateAdPosition(Ca),e.ava.enabled&&(this.programmaticAvaSubscription=lc.createObservable(this.$mainContainer).subscribeOnce((function(){return t.updateAdPosition(wa)}))))},getAvailablePositions:function(t){var e=t.hasAva,n=this.outstreamInstance.config.options;return u({mainPosition:{$container:this.$mainContainer,containerAdpatsToContent:this.needToUnfold&&L(n.forceSize)}},e&&{avaPosition:{$container:this.getAdContainerParent()}})},startAd:function(){var t=this.outstreamInstance.config,e=ht(this.$mainContainer),n=e.isIntersecting,i=t.ava.enabled&&(t.ava.forceStart||e.isBelow||this.hasEffectiveTrackerBeenFired()),r=null;if(n?r=Ca:i&&(r=wa),r)return this.updateAdPosition(r),void this.outstreamInstance.startAd();this.startAdSubscription=this.viewportPosition$.subscribe(this.startAdListener)},adStarted:function(){var t=this.outstreamInstance,e=t.adControllerInstance,n=t.config.ava,i=e.currentAd,r=i.isProgrammaticDisplay,a=i.isNoVideoReminder;this.hideLoading(),L(this.mainContainerResizeAllowed)&&(this.resizeMainContainerSusbcription=this.viewportPosition$.subscribe(this.resizeMainContainerListener)),n.enabled&&L(r||a)&&(this.adPositionSubscription=this.viewportPosition$.subscribe(this.adPositionListener))},updateConfigOptions:function(t){var e=t.ava,n=t.restart,i=t.referenceBackground,r=this.outstreamInstance,a=r.config.options,o=r.state;!1===e&&(this.outstreamInstance.disableAva(),o>=ya&&this.updateAdPosition(Ca)),!1===n&&(this.outstreamInstance.displayRestart=!1),i&&(a.reference.backgroundColor=i)},adExpandedChange:function(){var t=this.outstreamInstance,e=t.adControllerInstance,n=t.config,i=(e||{}).currentAd,r=null;if(null!=i&&i.expanded)r=Sa;else{var a=ht(this.$mainContainer).isInViewport;r=n.ava.enabled&&L(a)?wa:Ca}this.updateAdPosition(r,!0)},reset:function(){this.mainContainerResizeAllowed=!1},removeElements:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.outstreamInstance.config;tt(this.$reference),n.options.forceSize||L(this.outstreamInstance.noMoreContentAvailable())||this.removeMainContainer(e).then((function(e){var n;e?null===(n=t.deleteMainContainerSusbcription)||void 0===n||n.unsubscribe():t.deleteMainContainerSusbcription=t.deleteMainContainerSusbcription||t.viewportPosition$.subscribe(t.deleteMainContainerListener)})).catch((function(t){return Lt.error(t)}))},adStoppedWithReminder:function(){this.unsubscribeAll(),this.hideMainPositionBackground()}},hooks:{beforeEndAd:function(){this.unsubscribeAll()},beforeClose:function(){this.unsubscribeAll()},beforeAdError:function(){this.unsubscribeAll()}}})};var Gc={create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.defaultConfig,defaultConfig=void 0===e?{}:e,n=t.currentScript;
defaultConfig = {"it":"5190d9d1-fbbd-44b1-b31c-0b964d9e7bf6","tags":{"client":{"mobile":["https:\/\/tpc.googlesyndication.com\/ima3vpaid?vad_format=linear&correlator=${random}&adtagurl=https%3A%2F%2Fpubads.g.doubleclick.net%2Fgampad%2Fads%3Fiu%3D%2F241667871%2Fsummediadeals%2FSM-VXT%26description_url%3D${request.referrerurl}%26tfcd%3D0%26npa%3D0%26sz%3D640x480%26gdfp_req%3D1%26output%3Dvast%26unviewed_position_start%3D1%26env%3Dvp%26vpos%3Dpreroll%26vpmute%3D0%26vpa%3D0%26type%3Djs%26vad_type%3Dlinear%26gdpr_consent%3D${gdpr_consent}%26gdpr%3D${gdpr}%26addtl_consent%3DPLACEHOLDER_ADDITIONAL_CONSENT","https:\/\/vast.sunmedia.tv\/creatives\/69f27b2e-b696-4d16-8a83-3f75d6cde41a?t=${VALUE}",""],"desktop":["https:\/\/tpc.googlesyndication.com\/ima3vpaid?vad_format=linear&correlator=${random}&adtagurl=https%3A%2F%2Fpubads.g.doubleclick.net%2Fgampad%2Fads%3Fiu%3D%2F241667871%2Fsummediadeals%2FSM-VXT%26description_url%3D${request.referrerurl}%26tfcd%3D0%26npa%3D0%26sz%3D640x480%26gdfp_req%3D1%26output%3Dvast%26unviewed_position_start%3D1%26env%3Dvp%26vpos%3Dpreroll%26vpmute%3D0%26vpa%3D0%26type%3Djs%26vad_type%3Dlinear%26gdpr_consent%3D${gdpr_consent}%26gdpr%3D${gdpr}%26addtl_consent%3DPLACEHOLDER_ADDITIONAL_CONSENT","https:\/\/vast.sunmedia.tv\/creatives\/69f27b2e-b696-4d16-8a83-3f75d6cde41a?t=${VALUE}",""]},"sm":{"mobile":[{"url":"https:\/\/tpc.googlesyndication.com\/ima3vpaid?vad_format=linear&correlator=${random}&adtagurl=https%3A%2F%2Fpubads.g.doubleclick.net%2Fgampad%2Fads%3Fiu%3D%2F143394101%2C1018282%2Fca-video-pub-8221793852898543-tag%2FVidaextra_MCMVideo%26description_url%3D${request.referrerurl}%26tfcd%3D0%26npa%3D0%26sz%3D400x300%257C640x480%26gdfp_req%3D1%26output%3Dvast%26unviewed_position_start%3D1%26env%3Dvp%26vpos%3Dpreroll%26vpmute%3D0%26vpa%3Dclick%26type%3Djs%26vad_type%3Dlinear%26gdpr_consent%3D${gdpr_consent}%26gdpr%3D${gdpr}%26addtl_consent%3DPLACEHOLDER_ADDITIONAL_CONSENT","trafficType":"DIRECT"},{"url":"https:\/\/es-sunicontent.videoplaza.tv\/proxy\/distributor\/v2?s=WeblogsIT\/VidaExtraMobile&tt=p&rt=vast_2.0&rnd=${random}&pf=html5&xpb=1&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}&ru=${request.referrerurl}&vht=${request.height}&vwt=${request.width}&cp.schain=${supply_chain}&t=${VALUE}","trafficType":"DIRECT"},{"url":"https:\/\/s.richaudience.com\/vid\/hFCSzq3Jbh\/${random}\/?hasConsent=1&consentString=${gdpr_consent}","trafficType":"DIRECT"}],"desktop":[{"url":"https:\/\/tpc.googlesyndication.com\/ima3vpaid?vad_format=linear&correlator=${random}&adtagurl=https%3A%2F%2Fpubads.g.doubleclick.net%2Fgampad%2Fads%3Fiu%3D%2F143394101%2C1018282%2Fca-video-pub-8221793852898543-tag%2FVidaextra_MCMVideo%26description_url%3D${request.referrerurl}%26tfcd%3D0%26npa%3D0%26sz%3D400x300%257C640x480%26gdfp_req%3D1%26output%3Dvast%26unviewed_position_start%3D1%26env%3Dvp%26vpos%3Dpreroll%26vpmute%3D0%26vpa%3Dclick%26type%3Djs%26vad_type%3Dlinear%26gdpr_consent%3D${gdpr_consent}%26gdpr%3D${gdpr}%26addtl_consent%3DPLACEHOLDER_ADDITIONAL_CONSENT","trafficType":"DIRECT"},{"url":"https:\/\/es-sunicontent.videoplaza.tv\/proxy\/distributor\/v2?s=WeblogsIT\/VidaExtraDesktop&tt=p&rt=vast_2.0&rnd=${random}&pf=fl_11&dcid=pc&xpb=1&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}&ru=${request.referrerurl}&vht=${request.height}&vwt=${request.width}&cp.schain=${supply_chain}&t=${VALUE}","trafficType":"DIRECT"},{"url":"https:\/\/s.richaudience.com\/vid\/hFCSzq3Jbh\/${random}\/?hasConsent=1&consentString=${gdpr_consent}","trafficType":"DIRECT"}]}},"priority":{"desktop":"sm","mobile":"sm"},"options":{"skip":true,"skipTime":30,"skipReminder":false,"skipReminderTime":0,"classMandatory":true,"restart":false,"audio":false,"pod":true,"up":false,"fold":false,"class":[".article-content > .blob.js-post-images-container > p"],"classPosition":1,"adPosition":[],"margin":0,"extra":"weblogs\/general","inblock":false,"ignoreDefaultTags":false,"forceSize":true},"ava":{"desktop":{"enabled":false,"position":"bottom_right","bottom":0},"mobile":{"enabled":false,"position":"bottom_right","bottom":0}},"loop":{"desktop":{"enabled":false,"times":1,"autoStart":false,"onlyOneVideo":false},"mobile":{"enabled":false,"times":1,"autoStart":false,"onlyOneVideo":false}},"whitelist":[],"mobileNetBlackList":[],"category":"Hobbies and Interests","client":"8254f813-df2e-4a55-b37f-75555aee94e8","publisher":"06bc430c-4bbf-4fe2-9dd1-1fe39a5b9be4","alternative":{"desktop":{"schedule":"always","display":"fixed","position":"right","cls":true,"tag":[{"content":"<script async src=\"https:\/\/securepubads.g.doubleclick.net\/tag\/js\/gpt.js\"><\/script> <div id=\"gpt-passback-${random}\">   <script>     window.googletag = window.googletag || {cmd: []};     googletag.cmd.push(function() {     googletag.defineSlot('\/143394101,1018282\/ca-pub-8221793852898543-tag\/Vidaextra_IntextWeb', [[300, 600], [300, 250]], 'gpt-passback-${random}').addService(googletag.pubads());     googletag.pubads().set('page_url', 'www.vidaextra.com');     googletag.enableServices();     googletag.display('gpt-passback-${random}');     });   <\/script> <\/div>","iframe":true}]},"mobile":{"schedule":"always","display":"fixed","position":"right","cls":true,"tag":[{"content":"<script async src=\"https:\/\/securepubads.g.doubleclick.net\/tag\/js\/gpt.js\"><\/script> <div id=\"gpt-passback-${random}\">   <script>     window.googletag = window.googletag || {cmd: []};     googletag.cmd.push(function() {     googletag.defineSlot('\/143394101,1018282\/ca-pub-8221793852898543-tag\/Vidaextra_IntextWeb', [[300, 600], [300, 250]], 'gpt-passback-${random}').addService(googletag.pubads());     googletag.pubads().set('page_url', 'www.vidaextra.com');     googletag.enableServices();     googletag.display('gpt-passback-${random}');     });   <\/script> <\/div>","iframe":true}]}},"sdkType":"intext-1-0","defaultTrackersPath":"outstream.json","defaultTagsPath":"intext-1-0.json","defaultTags":{"DESKTOP":{"BANNER":[{"url":"https:\/\/es-suncopperland.videoplaza.tv\/proxy\/distributor\/v2?s=RONIT\/Desktop&tt=p&rt=vast_2.0&rnd=${random}&pf=fl_11&dcid=pc&xpb=1&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}&ru=${request.referrerurl}&vht=${request.height}&vwt=${request.width}&cp.schain=${supply_chain}&t=${VALUE}","trafficType":"DIRECT","position":1,"type":"dbd1"},{"url":"","trafficType":"DIRECT","position":2,"type":"dbd2"},{"url":"","trafficType":"DIRECT","position":3,"type":"dbd3"}],"VAST":[{"url":"https:\/\/search.spotxchange.com\/vast\/2.0\/267639?VPAID=JS&content_page_url=${request.referrerurl}&cb=${random}&player_width=${request.width}&player_height=${request.height}&custom_skin=1&ad_volume=0&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}&schain=${supply_chain}&custom[content_type][]=${VALUE}","trafficType":"DIRECT","position":1,"type":"dvd1"},{"url":"https:\/\/vast.sunmedia.tv\/creatives\/2cda9eed-462d-4d4c-a308-786a00b8bf95?schain=${supply_chain}&t=${VALUE}&gdpr_consent=${gdpr_consent}","trafficType":"DIRECT","position":2,"type":"dvd2"},{"url":"https:\/\/es-sunelespanol.videoplaza.tv\/proxy\/distributor\/v2?s=RONIT\/Desktop&tt=p&rt=vast_2.0&rnd=${random}&pf=fl_11&dcid=pc&xpb=1&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}&ru=${request.referrerurl}&vht=${request.height}&vwt=${request.width}&cp.schain=${supply_chain}&t=${VALUE}","trafficType":"DIRECT","position":3,"type":"dvd3"}]},"MOBILE":{"BANNER":[{"url":"https:\/\/es-suncopperland.videoplaza.tv\/proxy\/distributor\/v2?s=RONIT\/Mobile&tt=p&rt=vast_2.0&rnd=${random}&pf=html5&xpb=1&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}&ru=${request.referrerurl}&vht=${request.height}&vwt=${request.width}&cp.schain=${supply_chain}&t=${VALUE}","trafficType":"DIRECT","position":1,"type":"dbm1"},{"url":"","trafficType":"DIRECT","position":2,"type":"dbm2"},{"url":"","trafficType":"DIRECT","position":3,"type":"dbm3"}],"VAST":[{"url":"https:\/\/search.spotxchange.com\/vast\/2.0\/267640?VPAID=JS&content_page_url=${request.referrerurl}&cb=${random}&player_width=${request.width}&player_height=${request.height}&media_transcoding=low&ad_volume=0&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}&schain=${supply_chain}&custom[content_type][]=${VALUE}","trafficType":"DIRECT","position":1,"type":"dvm1"},{"url":"https:\/\/vast.sunmedia.tv\/creatives\/2cda9eed-462d-4d4c-a308-786a00b8bf95?schain=${supply_chain}&t=${VALUE}&gdpr_consent=${gdpr_consent}","trafficType":"DIRECT","position":2,"type":"dvm2"},{"url":"https:\/\/es-sunelespanol.videoplaza.tv\/proxy\/distributor\/v2?s=RONIT\/Mobile&tt=p&rt=vast_2.0&rnd=${random}&pf=html5&xpb=1&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}&ru=${request.referrerurl}&vht=${request.height}&vwt=${request.width}&cp.schain=${supply_chain}&t=${VALUE}","trafficType":"DIRECT","position":3,"type":"dvm3"}]}},"defaultTrackers":[{"type":"script","event":"opportunity","data":"<script> const unblockiaScript = document.createElement('script'); unblockiaScript.src = 'https:\/\/cdn.unblockia.com\/h.js'; unblockiaScript.async = true; document.head.appendChild(unblockiaScript); <\/script>"},{"type":"script","event":"request","data":"<script>(function() {function loadScript () { if (window.document.body) window.document.body.appendChild(f); else if (current_intent < intent) { current_intent++; setTimeout(loadScript(), 1000); } } raEuconsent = '${gdpr_consent}'; raReferrer = '${request.referrerurl}'; var intent = 10; var current_intent = 0; var f = document.createElement('script'); f.src = 'https:\/\/sync.richaudience.com\/DF2886F390D432DF0C8E98D69702ED6F\/'; loadScript();})();<\/script>"},{"type":"script","event":"request","data":"<script type=\"text\/javascript\"> try{ var h = document.createElement(\"script\"); h.async = true; h.src = \"https:\/\/pghub.io\/js\/pandg-sdk.js\"; h.onload=function(){ var metadata = {gdpr: \"${gdpr}\", gdpr_consent: \"${gdpr_consent}\", ccpa: null, bp_id: \"sunmedia\"}; var config = {name: \"P&G\", pixelUrl: \"https:\/\/pandg.tapad.com\/tag\"}; var tagger = Tapad.init(metadata, config); var data = {category: \"${page_category}\"}; tagger.sync(data).then(console.log); }; document.body.appendChild(h); } catch(e){} <\/script>"},{"type":"script","event":"impression","data":"<script> window.sm_conscore_rnda = Math.floor(100000000 + Math.random() * 900000000); window.sm_conscore_rndb = Math.floor(1000000 + Math.random() * 9000000); var url = 'https:\/\/sb.scorecardresearch.com\/p?c1=2&c2=21892462&ns_ap_sv=2.1511.10&ns_type=hidden&ns_st_it=a&ns_st_sv=4.0.0&ns_st_ad=1&ns_st_sq=1&ns_st_id=[REPLACE1]&ns_st_ec=1&ns_st_cn=1&ns_st_ev=play&ns_st_ct=va00&ns_st_cl=0&ns_st_pt=0&c3=*null&c4=*null&c6=*null&ns_ts=[REPLACE2]&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}'; url = url.replace('[REPLACE1]', window.sm_conscore_rnda); url = url.replace('[REPLACE2]', window.sm_conscore_rndb); var i = new Image(); i.src = url; i.alt = 'comscoreLoad'; document.body.appendChild(i).setAttribute('style', 'width: 1px !important; height: 1px !important;'); <\/script>"},{"type":"script","event":"complete","data":"<script> if(!window.sm_conscore_rnda)window.sm_conscore_rnda = Math.floor(100000000 + Math.random() * 900000000); if(!window.sm_conscore_rndb)window.sm_conscore_rndb = Math.floor(100000000 + Math.random() * 900000000); var url = 'https:\/\/sb.scorecardresearch.com\/p?c1=2&c2=21892462&ns_ap_sv=2.1511.10&ns_type=hidden&ns_st_it=a&ns_st_sv=4.0.0&ns_st_ad=1&ns_st_sq=1&ns_st_id=[REPLACE1]&ns_st_ec=1&ns_st_cn=1&ns_st_ev=end&ns_st_ct=va00&ns_st_cl=0&ns_st_pt=0&c3=*null&c4=*null&c6=*null&ns_ts=[REPLACE2]&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}'; url = url.replace('[REPLACE1]', window.sm_conscore_rnda); url = url.replace('[REPLACE2]', window.sm_conscore_rndb); var i = new Image(); i.src = url; i.alt = 'comscoreComplete'; document.body.appendChild(i).setAttribute('style', 'width: 1px !important; height: 1px !important;'); <\/script>"}]};if(!defaultConfig.it)throw new Error("Missing default config!");var i=bt(fs,defaultConfig);return Rn.create({config:i,pluginFactory:vo(_c),services:o(Vo(i)),components:[Is,Uo,Zo,Ko,qo,$o],genericExtras:tc,currentScript:n,validateIntegration:gs})}};const jc=Gc;var Zc=document.currentScript;new Promise((function(t,e){var n=J({type:"script",attributes:{src:mt("".concat("https://static.sunmedia.tv","/AdBlockDetection/adblockDetector.min.js"),{abf:["_smartads_","-ad-plugin-","-google-ads-","-google2-ad-"].join("|"),ref:yt.encode(window.location.href,!0)})},events:{error:function(){return e()},load:function(){T(window.adblockDetector)?e():window.adblockDetector.init({debug:!1,fireNow:!0,complete:function(n){return n?e():t()}})}}});$(document.head,n)})).then((function(){jc.create({currentScript:Zc}).init()}))})()})();
